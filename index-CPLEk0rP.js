var kj=Object.defineProperty;var Uj=(e,t,n)=>t in e?kj(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Xc=(e,t,n)=>Uj(e,typeof t!="symbol"?t+"":t,n);function Lj(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const a in s)if(a!=="default"&&!(a in e)){const r=Object.getOwnPropertyDescriptor(s,a);r&&Object.defineProperty(e,a,r.get?r:{enumerable:!0,get:()=>s[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();var Qt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ij(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function s(){return this instanceof s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(s){var a=Object.getOwnPropertyDescriptor(e,s);Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:function(){return e[s]}})}),n}var Dg={exports:{}},tc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zj=Symbol.for("react.transitional.element"),Pj=Symbol.for("react.fragment");function kg(e,t,n){var s=null;if(n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),"key"in t){n={};for(var a in t)a!=="key"&&(n[a]=t[a])}else n=t;return t=n.ref,{$$typeof:zj,type:e,key:s,ref:t!==void 0?t:null,props:n}}tc.Fragment=Pj;tc.jsx=kg;tc.jsxs=kg;Dg.exports=tc;var l=Dg.exports,Ug={exports:{}},nc={},Lg={exports:{}},Ig={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,O){var M=C.length;C.push(O);e:for(;0<M;){var U=M-1>>>1,V=C[U];if(0<a(V,O))C[U]=O,C[M]=V,M=U;else break e}}function n(C){return C.length===0?null:C[0]}function s(C){if(C.length===0)return null;var O=C[0],M=C.pop();if(M!==O){C[0]=M;e:for(var U=0,V=C.length,J=V>>>1;U<J;){var Ue=2*(U+1)-1,ot=C[Ue],L=Ue+1,X=C[L];if(0>a(ot,M))L<V&&0>a(X,ot)?(C[U]=X,C[L]=M,U=L):(C[U]=ot,C[Ue]=M,U=Ue);else if(L<V&&0>a(X,M))C[U]=X,C[L]=M,U=L;else break e}}return O}function a(C,O){var M=C.sortIndex-O.sortIndex;return M!==0?M:C.id-O.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;e.unstable_now=function(){return r.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],u=[],d=1,f=null,h=3,p=!1,y=!1,x=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function j(C){for(var O=n(u);O!==null;){if(O.callback===null)s(u);else if(O.startTime<=C)s(u),O.sortIndex=O.expirationTime,t(c,O);else break;O=n(u)}}function N(C){if(x=!1,j(C),!y)if(n(c)!==null)y=!0,S||(S=!0,T());else{var O=n(u);O!==null&&k(N,O.startTime-C)}}var S=!1,_=-1,A=5,R=-1;function E(){return w?!0:!(e.unstable_now()-R<A)}function z(){if(w=!1,S){var C=e.unstable_now();R=C;var O=!0;try{e:{y=!1,x&&(x=!1,v(_),_=-1),p=!0;var M=h;try{t:{for(j(C),f=n(c);f!==null&&!(f.expirationTime>C&&E());){var U=f.callback;if(typeof U=="function"){f.callback=null,h=f.priorityLevel;var V=U(f.expirationTime<=C);if(C=e.unstable_now(),typeof V=="function"){f.callback=V,j(C),O=!0;break t}f===n(c)&&s(c),j(C)}else s(c);f=n(c)}if(f!==null)O=!0;else{var J=n(u);J!==null&&k(N,J.startTime-C),O=!1}}break e}finally{f=null,h=M,p=!1}O=void 0}}finally{O?T():S=!1}}}var T;if(typeof g=="function")T=function(){g(z)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,H=P.port2;P.port1.onmessage=z,T=function(){H.postMessage(null)}}else T=function(){b(z,0)};function k(C,O){_=b(function(){C(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var M=h;h=O;try{return C()}finally{h=M}},e.unstable_requestPaint=function(){w=!0},e.unstable_runWithPriority=function(C,O){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var M=h;h=C;try{return O()}finally{h=M}},e.unstable_scheduleCallback=function(C,O,M){var U=e.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?U+M:U):M=U,C){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=M+V,C={id:d++,callback:O,priorityLevel:C,startTime:M,expirationTime:V,sortIndex:-1},M>U?(C.sortIndex=M,t(u,C),n(c)===null&&C===n(u)&&(x?(v(_),_=-1):x=!0,k(N,M-U))):(C.sortIndex=V,t(c,C),y||p||(y=!0,S||(S=!0,T()))),C},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(C){var O=h;return function(){var M=h;h=O;try{return C.apply(this,arguments)}finally{h=M}}}})(Ig);Lg.exports=Ig;var $j=Lg.exports,zg={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wf=Symbol.for("react.transitional.element"),Bj=Symbol.for("react.portal"),Hj=Symbol.for("react.fragment"),qj=Symbol.for("react.strict_mode"),Gj=Symbol.for("react.profiler"),Vj=Symbol.for("react.consumer"),Yj=Symbol.for("react.context"),Xj=Symbol.for("react.forward_ref"),Kj=Symbol.for("react.suspense"),Fj=Symbol.for("react.memo"),Pg=Symbol.for("react.lazy"),sm=Symbol.iterator;function Qj(e){return e===null||typeof e!="object"?null:(e=sm&&e[sm]||e["@@iterator"],typeof e=="function"?e:null)}var $g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bg=Object.assign,Hg={};function Nr(e,t,n){this.props=e,this.context=t,this.refs=Hg,this.updater=n||$g}Nr.prototype.isReactComponent={};Nr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Nr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function qg(){}qg.prototype=Nr.prototype;function jf(e,t,n){this.props=e,this.context=t,this.refs=Hg,this.updater=n||$g}var Nf=jf.prototype=new qg;Nf.constructor=jf;Bg(Nf,Nr.prototype);Nf.isPureReactComponent=!0;var am=Array.isArray,Oe={H:null,A:null,T:null,S:null,V:null},Gg=Object.prototype.hasOwnProperty;function Sf(e,t,n,s,a,r){return n=r.ref,{$$typeof:wf,type:e,key:t,ref:n!==void 0?n:null,props:r}}function Zj(e,t){return Sf(e.type,t,void 0,void 0,void 0,e.props)}function _f(e){return typeof e=="object"&&e!==null&&e.$$typeof===wf}function Wj(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rm=/\/+/g;function Kc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wj(""+e.key):t.toString(36)}function lm(){}function Jj(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(lm,lm):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Ra(e,t,n,s,a){var r=typeof e;(r==="undefined"||r==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(r){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case wf:case Bj:i=!0;break;case Pg:return i=e._init,Ra(i(e._payload),t,n,s,a)}}if(i)return a=a(e),i=s===""?"."+Kc(e,0):s,am(a)?(n="",i!=null&&(n=i.replace(rm,"$&/")+"/"),Ra(a,t,n,"",function(u){return u})):a!=null&&(_f(a)&&(a=Zj(a,n+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(rm,"$&/")+"/")+i)),t.push(a)),1;i=0;var o=s===""?".":s+":";if(am(e))for(var c=0;c<e.length;c++)s=e[c],r=o+Kc(s,c),i+=Ra(s,t,n,r,a);else if(c=Qj(e),typeof c=="function")for(e=c.call(e),c=0;!(s=e.next()).done;)s=s.value,r=o+Kc(s,c++),i+=Ra(s,t,n,r,a);else if(r==="object"){if(typeof e.then=="function")return Ra(Jj(e),t,n,s,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function bi(e,t,n){if(e==null)return e;var s=[],a=0;return Ra(e,s,"","",function(r){return t.call(n,r,a++)}),s}function eN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var im=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function tN(){}se.Children={map:bi,forEach:function(e,t,n){bi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return bi(e,function(){t++}),t},toArray:function(e){return bi(e,function(t){return t})||[]},only:function(e){if(!_f(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Component=Nr;se.Fragment=Hj;se.Profiler=Gj;se.PureComponent=jf;se.StrictMode=qj;se.Suspense=Kj;se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Oe;se.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Oe.H.useMemoCache(e)}};se.cache=function(e){return function(){return e.apply(null,arguments)}};se.cloneElement=function(e,t,n){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var s=Bg({},e.props),a=e.key,r=void 0;if(t!=null)for(i in t.ref!==void 0&&(r=void 0),t.key!==void 0&&(a=""+t.key),t)!Gg.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(s[i]=t[i]);var i=arguments.length-2;if(i===1)s.children=n;else if(1<i){for(var o=Array(i),c=0;c<i;c++)o[c]=arguments[c+2];s.children=o}return Sf(e.type,a,void 0,void 0,r,s)};se.createContext=function(e){return e={$$typeof:Yj,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:Vj,_context:e},e};se.createElement=function(e,t,n){var s,a={},r=null;if(t!=null)for(s in t.key!==void 0&&(r=""+t.key),t)Gg.call(t,s)&&s!=="key"&&s!=="__self"&&s!=="__source"&&(a[s]=t[s]);var i=arguments.length-2;if(i===1)a.children=n;else if(1<i){for(var o=Array(i),c=0;c<i;c++)o[c]=arguments[c+2];a.children=o}if(e&&e.defaultProps)for(s in i=e.defaultProps,i)a[s]===void 0&&(a[s]=i[s]);return Sf(e,r,void 0,void 0,null,a)};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:Xj,render:e}};se.isValidElement=_f;se.lazy=function(e){return{$$typeof:Pg,_payload:{_status:-1,_result:e},_init:eN}};se.memo=function(e,t){return{$$typeof:Fj,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Oe.T,n={};Oe.T=n;try{var s=e(),a=Oe.S;a!==null&&a(n,s),typeof s=="object"&&s!==null&&typeof s.then=="function"&&s.then(tN,im)}catch(r){im(r)}finally{Oe.T=t}};se.unstable_useCacheRefresh=function(){return Oe.H.useCacheRefresh()};se.use=function(e){return Oe.H.use(e)};se.useActionState=function(e,t,n){return Oe.H.useActionState(e,t,n)};se.useCallback=function(e,t){return Oe.H.useCallback(e,t)};se.useContext=function(e){return Oe.H.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e,t){return Oe.H.useDeferredValue(e,t)};se.useEffect=function(e,t,n){var s=Oe.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return s.useEffect(e,t)};se.useId=function(){return Oe.H.useId()};se.useImperativeHandle=function(e,t,n){return Oe.H.useImperativeHandle(e,t,n)};se.useInsertionEffect=function(e,t){return Oe.H.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Oe.H.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Oe.H.useMemo(e,t)};se.useOptimistic=function(e,t){return Oe.H.useOptimistic(e,t)};se.useReducer=function(e,t,n){return Oe.H.useReducer(e,t,n)};se.useRef=function(e){return Oe.H.useRef(e)};se.useState=function(e){return Oe.H.useState(e)};se.useSyncExternalStore=function(e,t,n){return Oe.H.useSyncExternalStore(e,t,n)};se.useTransition=function(){return Oe.H.useTransition()};se.version="19.1.1";zg.exports=se;var m=zg.exports;const Pt=Mg(m),Vg=Lj({__proto__:null,default:Pt},[m]);var Yg={exports:{}},ht={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nN=m;function Xg(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Wn(){}var dt={d:{f:Wn,r:function(){throw Error(Xg(522))},D:Wn,C:Wn,L:Wn,m:Wn,X:Wn,S:Wn,M:Wn},p:0,findDOMNode:null},sN=Symbol.for("react.portal");function aN(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sN,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}var al=nN.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function sc(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ht.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Xg(299));return aN(e,t,null,n)};ht.flushSync=function(e){var t=al.T,n=dt.p;try{if(al.T=null,dt.p=2,e)return e()}finally{al.T=t,dt.p=n,dt.d.f()}};ht.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,dt.d.C(e,t))};ht.prefetchDNS=function(e){typeof e=="string"&&dt.d.D(e)};ht.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var n=t.as,s=sc(n,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,r=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;n==="style"?dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:s,integrity:a,fetchPriority:r}):n==="script"&&dt.d.X(e,{crossOrigin:s,integrity:a,fetchPriority:r,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ht.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var n=sc(t.as,t.crossOrigin);dt.d.M(e,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&dt.d.M(e)};ht.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var n=t.as,s=sc(n,t.crossOrigin);dt.d.L(e,n,{crossOrigin:s,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ht.preloadModule=function(e,t){if(typeof e=="string")if(t){var n=sc(t.as,t.crossOrigin);dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else dt.d.m(e)};ht.requestFormReset=function(e){dt.d.r(e)};ht.unstable_batchedUpdates=function(e,t){return e(t)};ht.useFormState=function(e,t,n){return al.H.useFormState(e,t,n)};ht.useFormStatus=function(){return al.H.useHostTransitionStatus()};ht.version="19.1.1";function Kg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Kg)}catch(e){console.error(e)}}Kg(),Yg.exports=ht;var Sr=Yg.exports;const rN=Mg(Sr);/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ye=$j,Fg=m,lN=Sr;function D(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Qg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function om(e){if(Xl(e)!==e)throw Error(D(188))}function iN(e){var t=e.alternate;if(!t){if(t=Xl(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,s=t;;){var a=n.return;if(a===null)break;var r=a.alternate;if(r===null){if(s=a.return,s!==null){n=s;continue}break}if(a.child===r.child){for(r=a.child;r;){if(r===n)return om(a),e;if(r===s)return om(a),t;r=r.sibling}throw Error(D(188))}if(n.return!==s.return)n=a,s=r;else{for(var i=!1,o=a.child;o;){if(o===n){i=!0,n=a,s=r;break}if(o===s){i=!0,s=a,n=r;break}o=o.sibling}if(!i){for(o=r.child;o;){if(o===n){i=!0,n=r,s=a;break}if(o===s){i=!0,s=r,n=a;break}o=o.sibling}if(!i)throw Error(D(189))}}if(n.alternate!==s)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function Wg(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Wg(e),t!==null)return t;e=e.sibling}return null}var Ce=Object.assign,oN=Symbol.for("react.element"),wi=Symbol.for("react.transitional.element"),Zr=Symbol.for("react.portal"),Ia=Symbol.for("react.fragment"),Jg=Symbol.for("react.strict_mode"),Ju=Symbol.for("react.profiler"),cN=Symbol.for("react.provider"),ev=Symbol.for("react.consumer"),Ln=Symbol.for("react.context"),Ef=Symbol.for("react.forward_ref"),ed=Symbol.for("react.suspense"),td=Symbol.for("react.suspense_list"),Tf=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),nd=Symbol.for("react.activity"),uN=Symbol.for("react.memo_cache_sentinel"),cm=Symbol.iterator;function $r(e){return e===null||typeof e!="object"?null:(e=cm&&e[cm]||e["@@iterator"],typeof e=="function"?e:null)}var dN=Symbol.for("react.client.reference");function sd(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===dN?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ia:return"Fragment";case Ju:return"Profiler";case Jg:return"StrictMode";case ed:return"Suspense";case td:return"SuspenseList";case nd:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Zr:return"Portal";case Ln:return(e.displayName||"Context")+".Provider";case ev:return(e._context.displayName||"Context")+".Consumer";case Ef:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Tf:return t=e.displayName||null,t!==null?t:sd(e.type)||"Memo";case os:t=e._payload,e=e._init;try{return sd(e(t))}catch{}}return null}var Wr=Array.isArray,K=Fg.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pe=lN.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ks={pending:!1,data:null,method:null,action:null},ad=[],za=-1;function En(e){return{current:e}}function Je(e){0>za||(e.current=ad[za],ad[za]=null,za--)}function Re(e,t){za++,ad[za]=e.current,e.current=t}var yn=En(null),Nl=En(null),bs=En(null),co=En(null);function uo(e,t){switch(Re(bs,t),Re(Nl,e),Re(yn,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?mp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=mp(t),e=v0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Je(yn),Re(yn,e)}function ir(){Je(yn),Je(Nl),Je(bs)}function rd(e){e.memoizedState!==null&&Re(co,e);var t=yn.current,n=v0(t,e.type);t!==n&&(Re(Nl,e),Re(yn,n))}function fo(e){Nl.current===e&&(Je(yn),Je(Nl)),co.current===e&&(Je(co),Dl._currentValue=Ks)}var ld=Object.prototype.hasOwnProperty,Cf=Ye.unstable_scheduleCallback,Fc=Ye.unstable_cancelCallback,fN=Ye.unstable_shouldYield,hN=Ye.unstable_requestPaint,bn=Ye.unstable_now,mN=Ye.unstable_getCurrentPriorityLevel,tv=Ye.unstable_ImmediatePriority,nv=Ye.unstable_UserBlockingPriority,ho=Ye.unstable_NormalPriority,pN=Ye.unstable_LowPriority,sv=Ye.unstable_IdlePriority,gN=Ye.log,vN=Ye.unstable_setDisableYieldValue,Kl=null,Ct=null;function ps(e){if(typeof gN=="function"&&vN(e),Ct&&typeof Ct.setStrictMode=="function")try{Ct.setStrictMode(Kl,e)}catch{}}var At=Math.clz32?Math.clz32:bN,xN=Math.log,yN=Math.LN2;function bN(e){return e>>>=0,e===0?32:31-(xN(e)/yN|0)|0}var ji=256,Ni=4194304;function qs(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ac(e,t,n){var s=e.pendingLanes;if(s===0)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var o=s&134217727;return o!==0?(s=o&~r,s!==0?a=qs(s):(i&=o,i!==0?a=qs(i):n||(n=o&~e,n!==0&&(a=qs(n))))):(o=s&~r,o!==0?a=qs(o):i!==0?a=qs(i):n||(n=s&~e,n!==0&&(a=qs(n)))),a===0?0:t!==0&&t!==a&&!(t&r)&&(r=a&-a,n=t&-t,r>=n||r===32&&(n&4194048)!==0)?t:a}function Fl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function wN(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function av(){var e=ji;return ji<<=1,!(ji&4194048)&&(ji=256),e}function rv(){var e=Ni;return Ni<<=1,!(Ni&62914560)&&(Ni=4194304),e}function Qc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ql(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jN(e,t,n,s,a,r){var i=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var o=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(n=i&~n;0<n;){var d=31-At(n),f=1<<d;o[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var p=h[d];p!==null&&(p.lane&=-536870913)}n&=~f}s!==0&&lv(e,s,0),r!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=r&~(i&~t))}function lv(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-At(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|n&4194090}function iv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-At(n),a=1<<s;a&t|e[s]&t&&(e[s]|=t),n&=~a}}function Af(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Of(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function ov(){var e=pe.p;return e!==0?e:(e=window.event,e===void 0?32:T0(e.type))}function NN(e,t){var n=pe.p;try{return pe.p=e,t()}finally{pe.p=n}}var ks=Math.random().toString(36).slice(2),rt="__reactFiber$"+ks,bt="__reactProps$"+ks,_r="__reactContainer$"+ks,id="__reactEvents$"+ks,SN="__reactListeners$"+ks,_N="__reactHandles$"+ks,um="__reactResources$"+ks,Zl="__reactMarker$"+ks;function Rf(e){delete e[rt],delete e[bt],delete e[id],delete e[SN],delete e[_N]}function Pa(e){var t=e[rt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[_r]||n[rt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=vp(e);e!==null;){if(n=e[rt])return n;e=vp(e)}return t}e=n,n=e.parentNode}return null}function Er(e){if(e=e[rt]||e[_r]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Jr(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(D(33))}function Qa(e){var t=e[um];return t||(t=e[um]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Fe(e){e[Zl]=!0}var cv=new Set,uv={};function ha(e,t){or(e,t),or(e+"Capture",t)}function or(e,t){for(uv[e]=t,e=0;e<t.length;e++)cv.add(t[e])}var EN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),dm={},fm={};function TN(e){return ld.call(fm,e)?!0:ld.call(dm,e)?!1:EN.test(e)?fm[e]=!0:(dm[e]=!0,!1)}function Yi(e,t,n){if(TN(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function Si(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function An(e,t,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+s)}}var Zc,hm;function Ma(e){if(Zc===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Zc=t&&t[1]||"",hm=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zc+e+hm}var Wc=!1;function Jc(e,t){if(!e||Wc)return"";Wc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(p){var h=p}Reflect.construct(e,[],f)}else{try{f.call()}catch(p){h=p}e.call(f.prototype)}}else{try{throw Error()}catch(p){h=p}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(p){if(p&&h&&typeof p.stack=="string")return[p.stack,h.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var r=s.DetermineComponentFrameRoot(),i=r[0],o=r[1];if(i&&o){var c=i.split(`
`),u=o.split(`
`);for(a=s=0;s<c.length&&!c[s].includes("DetermineComponentFrameRoot");)s++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(s===c.length||a===u.length)for(s=c.length-1,a=u.length-1;1<=s&&0<=a&&c[s]!==u[a];)a--;for(;1<=s&&0<=a;s--,a--)if(c[s]!==u[a]){if(s!==1||a!==1)do if(s--,a--,0>a||c[s]!==u[a]){var d=`
`+c[s].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=s&&0<=a);break}}}finally{Wc=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?Ma(n):""}function CN(e){switch(e.tag){case 26:case 27:case 5:return Ma(e.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 15:return Jc(e.type,!1);case 11:return Jc(e.type.render,!1);case 1:return Jc(e.type,!0);case 31:return Ma("Activity");default:return""}}function mm(e){try{var t="";do t+=CN(e),e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function $t(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dv(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function AN(e){var t=dv(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){s=""+i,r.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(i){s=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mo(e){e._valueTracker||(e._valueTracker=AN(e))}function fv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=dv(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function po(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ON=/[\n"\\]/g;function qt(e){return e.replace(ON,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function od(e,t,n,s,a,r,i,o){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+$t(t)):e.value!==""+$t(t)&&(e.value=""+$t(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?cd(e,i,$t(t)):n!=null?cd(e,i,$t(n)):s!=null&&e.removeAttribute("value"),a==null&&r!=null&&(e.defaultChecked=!!r),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.name=""+$t(o):e.removeAttribute("name")}function hv(e,t,n,s,a,r,i,o){if(r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.type=r),t!=null||n!=null){if(!(r!=="submit"&&r!=="reset"||t!=null))return;n=n!=null?""+$t(n):"",t=t!=null?""+$t(t):n,o||t===e.value||(e.value=t),e.defaultValue=t}s=s??a,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=o?e.checked:!!s,e.defaultChecked=!!s,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i)}function cd(e,t,n){t==="number"&&po(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function Za(e,t,n,s){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&s&&(e[n].defaultSelected=!0)}else{for(n=""+$t(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,s&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function mv(e,t,n){if(t!=null&&(t=""+$t(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+$t(n):""}function pv(e,t,n,s){if(t==null){if(s!=null){if(n!=null)throw Error(D(92));if(Wr(s)){if(1<s.length)throw Error(D(93));s=s[0]}n=s}n==null&&(n=""),t=n}n=$t(t),e.defaultValue=n,s=e.textContent,s===n&&s!==""&&s!==null&&(e.value=s)}function cr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var RN=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pm(e,t,n){var s=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,n):typeof n!="number"||n===0||RN.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function gv(e,t,n){if(t!=null&&typeof t!="object")throw Error(D(62));if(e=e.style,n!=null){for(var s in n)!n.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var a in t)s=t[a],t.hasOwnProperty(a)&&n[a]!==s&&pm(e,a,s)}else for(var r in t)t.hasOwnProperty(r)&&pm(e,r,t[r])}function Mf(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var MN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xi(e){return DN.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ud=null;function Df(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var $a=null,Wa=null;function gm(e){var t=Er(e);if(t&&(e=t.stateNode)){var n=e[bt]||null;e:switch(e=t.stateNode,t.type){case"input":if(od(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+qt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var a=s[bt]||null;if(!a)throw Error(D(90));od(s,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)s=n[t],s.form===e.form&&fv(s)}break e;case"textarea":mv(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&Za(e,!!n.multiple,t,!1)}}}var eu=!1;function vv(e,t,n){if(eu)return e(t,n);eu=!0;try{var s=e(t);return s}finally{if(eu=!1,($a!==null||Wa!==null)&&(mc(),$a&&(t=$a,e=Wa,Wa=$a=null,gm(t),e)))for(t=0;t<e.length;t++)gm(e[t])}}function Sl(e,t){var n=e.stateNode;if(n===null)return null;var s=n[bt]||null;if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dd=!1;if(qn)try{var Br={};Object.defineProperty(Br,"passive",{get:function(){dd=!0}}),window.addEventListener("test",Br,Br),window.removeEventListener("test",Br,Br)}catch{dd=!1}var gs=null,kf=null,Ki=null;function xv(){if(Ki)return Ki;var e,t=kf,n=t.length,s,a="value"in gs?gs.value:gs.textContent,r=a.length;for(e=0;e<n&&t[e]===a[e];e++);var i=n-e;for(s=1;s<=i&&t[n-s]===a[r-s];s++);return Ki=a.slice(e,1<s?1-s:void 0)}function Fi(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function _i(){return!0}function vm(){return!1}function wt(e){function t(n,s,a,r,i){this._reactName=n,this._targetInst=a,this.type=s,this.nativeEvent=r,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?_i:vm,this.isPropagationStopped=vm,this}return Ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_i)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_i)},persist:function(){},isPersistent:_i}),t}var ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rc=wt(ma),Wl=Ce({},ma,{view:0,detail:0}),kN=wt(Wl),tu,nu,Hr,lc=Ce({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Uf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hr&&(Hr&&e.type==="mousemove"?(tu=e.screenX-Hr.screenX,nu=e.screenY-Hr.screenY):nu=tu=0,Hr=e),tu)},movementY:function(e){return"movementY"in e?e.movementY:nu}}),xm=wt(lc),UN=Ce({},lc,{dataTransfer:0}),LN=wt(UN),IN=Ce({},Wl,{relatedTarget:0}),su=wt(IN),zN=Ce({},ma,{animationName:0,elapsedTime:0,pseudoElement:0}),PN=wt(zN),$N=Ce({},ma,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),BN=wt($N),HN=Ce({},ma,{data:0}),ym=wt(HN),qN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},GN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YN(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=VN[e])?!!t[e]:!1}function Uf(){return YN}var XN=Ce({},Wl,{key:function(e){if(e.key){var t=qN[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fi(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?GN[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Uf,charCode:function(e){return e.type==="keypress"?Fi(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fi(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),KN=wt(XN),FN=Ce({},lc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bm=wt(FN),QN=Ce({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Uf}),ZN=wt(QN),WN=Ce({},ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),JN=wt(WN),eS=Ce({},lc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),tS=wt(eS),nS=Ce({},ma,{newState:0,oldState:0}),sS=wt(nS),aS=[9,13,27,32],Lf=qn&&"CompositionEvent"in window,rl=null;qn&&"documentMode"in document&&(rl=document.documentMode);var rS=qn&&"TextEvent"in window&&!rl,yv=qn&&(!Lf||rl&&8<rl&&11>=rl),wm=" ",jm=!1;function bv(e,t){switch(e){case"keyup":return aS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wv(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ba=!1;function lS(e,t){switch(e){case"compositionend":return wv(t);case"keypress":return t.which!==32?null:(jm=!0,wm);case"textInput":return e=t.data,e===wm&&jm?null:e;default:return null}}function iS(e,t){if(Ba)return e==="compositionend"||!Lf&&bv(e,t)?(e=xv(),Ki=kf=gs=null,Ba=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yv&&t.locale!=="ko"?null:t.data;default:return null}}var oS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!oS[e.type]:t==="textarea"}function jv(e,t,n,s){$a?Wa?Wa.push(s):Wa=[s]:$a=s,t=Do(t,"onChange"),0<t.length&&(n=new rc("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var ll=null,_l=null;function cS(e){m0(e,0)}function ic(e){var t=Jr(e);if(fv(t))return e}function Sm(e,t){if(e==="change")return t}var Nv=!1;if(qn){var au;if(qn){var ru="oninput"in document;if(!ru){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),ru=typeof _m.oninput=="function"}au=ru}else au=!1;Nv=au&&(!document.documentMode||9<document.documentMode)}function Em(){ll&&(ll.detachEvent("onpropertychange",Sv),_l=ll=null)}function Sv(e){if(e.propertyName==="value"&&ic(_l)){var t=[];jv(t,_l,e,Df(e)),vv(cS,t)}}function uS(e,t,n){e==="focusin"?(Em(),ll=t,_l=n,ll.attachEvent("onpropertychange",Sv)):e==="focusout"&&Em()}function dS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ic(_l)}function fS(e,t){if(e==="click")return ic(t)}function hS(e,t){if(e==="input"||e==="change")return ic(t)}function mS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ut=typeof Object.is=="function"?Object.is:mS;function El(e,t){if(Ut(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var a=n[s];if(!ld.call(t,a)||!Ut(e[a],t[a]))return!1}return!0}function Tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cm(e,t){var n=Tm(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tm(n)}}function _v(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_v(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ev(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=po(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=po(e.document)}return t}function If(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var pS=qn&&"documentMode"in document&&11>=document.documentMode,Ha=null,fd=null,il=null,hd=!1;function Am(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;hd||Ha==null||Ha!==po(s)||(s=Ha,"selectionStart"in s&&If(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),il&&El(il,s)||(il=s,s=Do(fd,"onSelect"),0<s.length&&(t=new rc("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=Ha)))}function $s(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qa={animationend:$s("Animation","AnimationEnd"),animationiteration:$s("Animation","AnimationIteration"),animationstart:$s("Animation","AnimationStart"),transitionrun:$s("Transition","TransitionRun"),transitionstart:$s("Transition","TransitionStart"),transitioncancel:$s("Transition","TransitionCancel"),transitionend:$s("Transition","TransitionEnd")},lu={},Tv={};qn&&(Tv=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function pa(e){if(lu[e])return lu[e];if(!qa[e])return e;var t=qa[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Tv)return lu[e]=t[n];return e}var Cv=pa("animationend"),Av=pa("animationiteration"),Ov=pa("animationstart"),gS=pa("transitionrun"),vS=pa("transitionstart"),xS=pa("transitioncancel"),Rv=pa("transitionend"),Mv=new Map,md="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");md.push("scrollEnd");function un(e,t){Mv.set(e,t),ha(t,[e])}var Om=new WeakMap;function Gt(e,t){if(typeof e=="object"&&e!==null){var n=Om.get(e);return n!==void 0?n:(t={value:e,source:t,stack:mm(t)},Om.set(e,t),t)}return{value:e,source:t,stack:mm(t)}}var zt=[],Ga=0,zf=0;function oc(){for(var e=Ga,t=zf=Ga=0;t<e;){var n=zt[t];zt[t++]=null;var s=zt[t];zt[t++]=null;var a=zt[t];zt[t++]=null;var r=zt[t];if(zt[t++]=null,s!==null&&a!==null){var i=s.pending;i===null?a.next=a:(a.next=i.next,i.next=a),s.pending=a}r!==0&&Dv(n,a,r)}}function cc(e,t,n,s){zt[Ga++]=e,zt[Ga++]=t,zt[Ga++]=n,zt[Ga++]=s,zf|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Pf(e,t,n,s){return cc(e,t,n,s),go(e)}function Tr(e,t){return cc(e,null,null,t),go(e)}function Dv(e,t,n){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n);for(var a=!1,r=e.return;r!==null;)r.childLanes|=n,s=r.alternate,s!==null&&(s.childLanes|=n),r.tag===22&&(e=r.stateNode,e===null||e._visibility&1||(a=!0)),e=r,r=r.return;return e.tag===3?(r=e.stateNode,a&&t!==null&&(a=31-At(n),e=r.hiddenUpdates,s=e[a],s===null?e[a]=[t]:s.push(t),t.lane=n|536870912),r):null}function go(e){if(50<vl)throw vl=0,Ud=null,Error(D(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Va={};function yS(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tt(e,t,n,s){return new yS(e,t,n,s)}function $f(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bn(e,t){var n=e.alternate;return n===null?(n=Tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function kv(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qi(e,t,n,s,a,r){var i=0;if(s=e,typeof e=="function")$f(e)&&(i=1);else if(typeof e=="string")i=w1(e,n,yn.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case nd:return e=Tt(31,n,t,a),e.elementType=nd,e.lanes=r,e;case Ia:return Fs(n.children,a,r,t);case Jg:i=8,a|=24;break;case Ju:return e=Tt(12,n,t,a|2),e.elementType=Ju,e.lanes=r,e;case ed:return e=Tt(13,n,t,a),e.elementType=ed,e.lanes=r,e;case td:return e=Tt(19,n,t,a),e.elementType=td,e.lanes=r,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case cN:case Ln:i=10;break e;case ev:i=9;break e;case Ef:i=11;break e;case Tf:i=14;break e;case os:i=16,s=null;break e}i=29,n=Error(D(130,e===null?"null":typeof e,"")),s=null}return t=Tt(i,n,t,a),t.elementType=e,t.type=s,t.lanes=r,t}function Fs(e,t,n,s){return e=Tt(7,e,s,t),e.lanes=n,e}function iu(e,t,n){return e=Tt(6,e,null,t),e.lanes=n,e}function ou(e,t,n){return t=Tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ya=[],Xa=0,vo=null,xo=0,Bt=[],Ht=0,Qs=null,In=1,zn="";function Gs(e,t){Ya[Xa++]=xo,Ya[Xa++]=vo,vo=e,xo=t}function Uv(e,t,n){Bt[Ht++]=In,Bt[Ht++]=zn,Bt[Ht++]=Qs,Qs=e;var s=In;e=zn;var a=32-At(s)-1;s&=~(1<<a),n+=1;var r=32-At(t)+a;if(30<r){var i=a-a%5;r=(s&(1<<i)-1).toString(32),s>>=i,a-=i,In=1<<32-At(t)+a|n<<a|s,zn=r+e}else In=1<<r|n<<a|s,zn=e}function Bf(e){e.return!==null&&(Gs(e,1),Uv(e,1,0))}function Hf(e){for(;e===vo;)vo=Ya[--Xa],Ya[Xa]=null,xo=Ya[--Xa],Ya[Xa]=null;for(;e===Qs;)Qs=Bt[--Ht],Bt[Ht]=null,zn=Bt[--Ht],Bt[Ht]=null,In=Bt[--Ht],Bt[Ht]=null}var ut=null,De=null,me=!1,Zs=null,pn=!1,pd=Error(D(519));function ta(e){var t=Error(D(418,""));throw Tl(Gt(t,e)),pd}function Rm(e){var t=e.stateNode,n=e.type,s=e.memoizedProps;switch(t[rt]=e,t[bt]=s,n){case"dialog":ie("cancel",t),ie("close",t);break;case"iframe":case"object":case"embed":ie("load",t);break;case"video":case"audio":for(n=0;n<Ol.length;n++)ie(Ol[n],t);break;case"source":ie("error",t);break;case"img":case"image":case"link":ie("error",t),ie("load",t);break;case"details":ie("toggle",t);break;case"input":ie("invalid",t),hv(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0),mo(t);break;case"select":ie("invalid",t);break;case"textarea":ie("invalid",t),pv(t,s.value,s.defaultValue,s.children),mo(t)}n=s.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||s.suppressHydrationWarning===!0||g0(t.textContent,n)?(s.popover!=null&&(ie("beforetoggle",t),ie("toggle",t)),s.onScroll!=null&&ie("scroll",t),s.onScrollEnd!=null&&ie("scrollend",t),s.onClick!=null&&(t.onclick=vc),t=!0):t=!1,t||ta(e)}function Mm(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 13:pn=!1;return;case 27:case 3:pn=!0;return;default:ut=ut.return}}function qr(e){if(e!==ut)return!1;if(!me)return Mm(e),me=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||Bd(e.type,e.memoizedProps)),n=!n),n&&De&&ta(e),Mm(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(n=e.data,n==="/$"){if(t===0){De=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++;e=e.nextSibling}De=null}}else t===27?(t=De,Us(e.type)?(e=Gd,Gd=null,De=e):De=t):De=ut?ln(e.stateNode.nextSibling):null;return!0}function Jl(){De=ut=null,me=!1}function Dm(){var e=Zs;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),Zs=null),e}function Tl(e){Zs===null?Zs=[e]:Zs.push(e)}var gd=En(null),ga=null,Pn=null;function us(e,t,n){Re(gd,t._currentValue),t._currentValue=n}function Hn(e){e._currentValue=gd.current,Je(gd)}function vd(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function xd(e,t,n,s){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var r=a.dependencies;if(r!==null){var i=a.child;r=r.firstContext;e:for(;r!==null;){var o=r;r=a;for(var c=0;c<t.length;c++)if(o.context===t[c]){r.lanes|=n,o=r.alternate,o!==null&&(o.lanes|=n),vd(r.return,n,e),s||(i=null);break e}r=o.next}}else if(a.tag===18){if(i=a.return,i===null)throw Error(D(341));i.lanes|=n,r=i.alternate,r!==null&&(r.lanes|=n),vd(i,n,e),i=null}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===e){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}}function ei(e,t,n,s){e=null;for(var a=t,r=!1;a!==null;){if(!r){if(a.flags&524288)r=!0;else if(a.flags&262144)break}if(a.tag===10){var i=a.alternate;if(i===null)throw Error(D(387));if(i=i.memoizedProps,i!==null){var o=a.type;Ut(a.pendingProps.value,i.value)||(e!==null?e.push(o):e=[o])}}else if(a===co.current){if(i=a.alternate,i===null)throw Error(D(387));i.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Dl):e=[Dl])}a=a.return}e!==null&&xd(t,e,n,s),t.flags|=262144}function yo(e){for(e=e.firstContext;e!==null;){if(!Ut(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function na(e){ga=e,Pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return Lv(ga,e)}function Ei(e,t){return ga===null&&na(e),Lv(e,t)}function Lv(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Pn===null){if(e===null)throw Error(D(308));Pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Pn=Pn.next=t;return n}var bS=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},wS=Ye.unstable_scheduleCallback,jS=Ye.unstable_NormalPriority,qe={$$typeof:Ln,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qf(){return{controller:new bS,data:new Map,refCount:0}}function ti(e){e.refCount--,e.refCount===0&&wS(jS,function(){e.controller.abort()})}var ol=null,yd=0,ur=0,Ja=null;function NS(e,t){if(ol===null){var n=ol=[];yd=0,ur=fh(),Ja={status:"pending",value:void 0,then:function(s){n.push(s)}}}return yd++,t.then(km,km),t}function km(){if(--yd===0&&ol!==null){Ja!==null&&(Ja.status="fulfilled");var e=ol;ol=null,ur=0,Ja=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function SS(e,t){var n=[],s={status:"pending",value:null,reason:null,then:function(a){n.push(a)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var a=0;a<n.length;a++)(0,n[a])(t)},function(a){for(s.status="rejected",s.reason=a,a=0;a<n.length;a++)(0,n[a])(void 0)}),s}var Um=K.S;K.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&NS(e,t),Um!==null&&Um(e,t)};var Ws=En(null);function Gf(){var e=Ws.current;return e!==null?e:Ee.pooledCache}function Zi(e,t){t===null?Re(Ws,Ws.current):Re(Ws,t.pool)}function Iv(){var e=Gf();return e===null?null:{parent:qe._currentValue,pool:e}}var ni=Error(D(460)),zv=Error(D(474)),uc=Error(D(542)),bd={then:function(){}};function Lm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ti(){}function Pv(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(Ti,Ti),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zm(e),e;default:if(typeof t.status=="string")t.then(Ti,Ti);else{if(e=Ee,e!==null&&100<e.shellSuspendCounter)throw Error(D(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=s}},function(s){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,zm(e),e}throw cl=t,ni}}var cl=null;function Im(){if(cl===null)throw Error(D(459));var e=cl;return cl=null,e}function zm(e){if(e===ni||e===uc)throw Error(D(483))}var cs=!1;function Vf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function js(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,ve&2){var a=s.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),s.pending=t,t=go(e),Dv(e,null,n),t}return cc(e,s,t,n),go(e)}function ul(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,iv(e,n)}}function cu(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var a=null,r=null;if(n=n.firstBaseUpdate,n!==null){do{var i={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};r===null?a=r=i:r=r.next=i,n=n.next}while(n!==null);r===null?a=r=t:r=r.next=t}else a=r=t;n={baseState:s.baseState,firstBaseUpdate:a,lastBaseUpdate:r,shared:s.shared,callbacks:s.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var jd=!1;function dl(){if(jd){var e=Ja;if(e!==null)throw e}}function fl(e,t,n,s){jd=!1;var a=e.updateQueue;cs=!1;var r=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,u=c.next;c.next=null,i===null?r=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==i&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(r!==null){var f=a.baseState;i=0,d=u=c=null,o=r;do{var h=o.lane&-536870913,p=h!==o.lane;if(p?(fe&h)===h:(s&h)===h){h!==0&&h===ur&&(jd=!0),d!==null&&(d=d.next={lane:0,tag:o.tag,payload:o.payload,callback:null,next:null});e:{var y=e,x=o;h=t;var w=n;switch(x.tag){case 1:if(y=x.payload,typeof y=="function"){f=y.call(w,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,h=typeof y=="function"?y.call(w,f,h):y,h==null)break e;f=Ce({},f,h);break e;case 2:cs=!0}}h=o.callback,h!==null&&(e.flags|=64,p&&(e.flags|=8192),p=a.callbacks,p===null?a.callbacks=[h]:p.push(h))}else p={lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;p=o,o=p.next,p.next=null,a.lastBaseUpdate=p,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,r===null&&(a.shared.lanes=0),Os|=i,e.lanes=i,e.memoizedState=f}}function $v(e,t){if(typeof e!="function")throw Error(D(191,e));e.call(t)}function Bv(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)$v(n[e],t)}var dr=En(null),bo=En(0);function Pm(e,t){e=Yn,Re(bo,e),Re(dr,t),Yn=e|t.baseLanes}function Nd(){Re(bo,Yn),Re(dr,dr.current)}function Yf(){Yn=bo.current,Je(dr),Je(bo)}var Cs=0,ae=null,we=null,ze=null,wo=!1,er=!1,sa=!1,jo=0,Cl=0,tr=null,_S=0;function Le(){throw Error(D(321))}function Xf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ut(e[n],t[n]))return!1;return!0}function Kf(e,t,n,s,a,r){return Cs=r,ae=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,K.H=e===null||e.memoizedState===null?xx:yx,sa=!1,r=n(s,a),sa=!1,er&&(r=qv(t,n,s,a)),Hv(e),r}function Hv(e){K.H=No;var t=we!==null&&we.next!==null;if(Cs=0,ze=we=ae=null,wo=!1,Cl=0,tr=null,t)throw Error(D(300));e===null||Qe||(e=e.dependencies,e!==null&&yo(e)&&(Qe=!0))}function qv(e,t,n,s){ae=e;var a=0;do{if(er&&(tr=null),Cl=0,er=!1,25<=a)throw Error(D(301));if(a+=1,ze=we=null,e.updateQueue!=null){var r=e.updateQueue;r.lastEffect=null,r.events=null,r.stores=null,r.memoCache!=null&&(r.memoCache.index=0)}K.H=MS,r=t(n,s)}while(er);return r}function ES(){var e=K.H,t=e.useState()[0];return t=typeof t.then=="function"?si(t):t,e=e.useState()[0],(we!==null?we.memoizedState:null)!==e&&(ae.flags|=1024),t}function Ff(){var e=jo!==0;return jo=0,e}function Qf(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Zf(e){if(wo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}wo=!1}Cs=0,ze=we=ae=null,er=!1,Cl=jo=0,tr=null}function pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?ae.memoizedState=ze=e:ze=ze.next=e,ze}function $e(){if(we===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=we.next;var t=ze===null?ae.memoizedState:ze.next;if(t!==null)ze=t,we=e;else{if(e===null)throw ae.alternate===null?Error(D(467)):Error(D(310));we=e,e={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},ze===null?ae.memoizedState=ze=e:ze=ze.next=e}return ze}function Wf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function si(e){var t=Cl;return Cl+=1,tr===null&&(tr=[]),e=Pv(tr,e,t),t=ae,(ze===null?t.memoizedState:ze.next)===null&&(t=t.alternate,K.H=t===null||t.memoizedState===null?xx:yx),e}function dc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return si(e);if(e.$$typeof===Ln)return lt(e)}throw Error(D(438,String(e)))}function Jf(e){var t=null,n=ae.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var s=ae.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Wf(),ae.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),s=0;s<e;s++)n[s]=uN;return t.index++,n}function Gn(e,t){return typeof t=="function"?t(e):t}function Wi(e){var t=$e();return eh(t,we,e)}function eh(e,t,n){var s=e.queue;if(s===null)throw Error(D(311));s.lastRenderedReducer=n;var a=e.baseQueue,r=s.pending;if(r!==null){if(a!==null){var i=a.next;a.next=r.next,r.next=i}t.baseQueue=a=r,s.pending=null}if(r=e.baseState,a===null)e.memoizedState=r;else{t=a.next;var o=i=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(fe&f)===f:(Cs&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ur&&(d=!0);else if((Cs&h)===h){u=u.next,h===ur&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=f,i=r):c=c.next=f,ae.lanes|=h,Os|=h;f=u.action,sa&&n(r,f),r=u.hasEagerState?u.eagerState:n(r,f)}else h={lane:f,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(o=c=h,i=r):c=c.next=h,ae.lanes|=f,Os|=f;u=u.next}while(u!==null&&u!==t);if(c===null?i=r:c.next=o,!Ut(r,e.memoizedState)&&(Qe=!0,d&&(n=Ja,n!==null)))throw n;e.memoizedState=r,e.baseState=i,e.baseQueue=c,s.lastRenderedState=r}return a===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function uu(e){var t=$e(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var s=n.dispatch,a=n.pending,r=t.memoizedState;if(a!==null){n.pending=null;var i=a=a.next;do r=e(r,i.action),i=i.next;while(i!==a);Ut(r,t.memoizedState)||(Qe=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),n.lastRenderedState=r}return[r,s]}function Gv(e,t,n){var s=ae,a=$e(),r=me;if(r){if(n===void 0)throw Error(D(407));n=n()}else n=t();var i=!Ut((we||a).memoizedState,n);i&&(a.memoizedState=n,Qe=!0),a=a.queue;var o=Xv.bind(null,s,a,e);if(ai(2048,8,o,[e]),a.getSnapshot!==t||i||ze!==null&&ze.memoizedState.tag&1){if(s.flags|=2048,fr(9,fc(),Yv.bind(null,s,a,n,t),null),Ee===null)throw Error(D(349));r||Cs&124||Vv(s,t,n)}return n}function Vv(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ae.updateQueue,t===null?(t=Wf(),ae.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Yv(e,t,n,s){t.value=n,t.getSnapshot=s,Kv(t)&&Fv(e)}function Xv(e,t,n){return n(function(){Kv(t)&&Fv(e)})}function Kv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ut(e,n)}catch{return!0}}function Fv(e){var t=Tr(e,2);t!==null&&Rt(t,e,2)}function Sd(e){var t=pt();if(typeof e=="function"){var n=e;if(e=n(),sa){ps(!0);try{n()}finally{ps(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:e},t}function Qv(e,t,n,s){return e.baseState=n,eh(e,we,typeof s=="function"?s:Gn)}function TS(e,t,n,s,a){if(hc(e))throw Error(D(485));if(e=t.action,e!==null){var r={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){r.listeners.push(i)}};K.T!==null?n(!0):r.isTransition=!1,s(r),n=t.pending,n===null?(r.next=t.pending=r,Zv(t,r)):(r.next=n.next,t.pending=n.next=r)}}function Zv(e,t){var n=t.action,s=t.payload,a=e.state;if(t.isTransition){var r=K.T,i={};K.T=i;try{var o=n(a,s),c=K.S;c!==null&&c(i,o),$m(e,t,o)}catch(u){_d(e,t,u)}finally{K.T=r}}else try{r=n(a,s),$m(e,t,r)}catch(u){_d(e,t,u)}}function $m(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(s){Bm(e,t,s)},function(s){return _d(e,t,s)}):Bm(e,t,n)}function Bm(e,t,n){t.status="fulfilled",t.value=n,Wv(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Zv(e,n)))}function _d(e,t,n){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=n,Wv(t),t=t.next;while(t!==s)}e.action=null}function Wv(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Jv(e,t){return t}function Hm(e,t){if(me){var n=Ee.formState;if(n!==null){e:{var s=ae;if(me){if(De){t:{for(var a=De,r=pn;a.nodeType!==8;){if(!r){a=null;break t}if(a=ln(a.nextSibling),a===null){a=null;break t}}r=a.data,a=r==="F!"||r==="F"?a:null}if(a){De=ln(a.nextSibling),s=a.data==="F!";break e}}ta(s)}s=!1}s&&(t=n[0])}}return n=pt(),n.memoizedState=n.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jv,lastRenderedState:t},n.queue=s,n=px.bind(null,ae,s),s.dispatch=n,s=Sd(!1),r=ah.bind(null,ae,!1,s.queue),s=pt(),a={state:t,dispatch:null,action:e,pending:null},s.queue=a,n=TS.bind(null,ae,a,r,n),a.dispatch=n,s.memoizedState=e,[t,n,!1]}function qm(e){var t=$e();return ex(t,we,e)}function ex(e,t,n){if(t=eh(e,t,Jv)[0],e=Wi(Gn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=si(t)}catch(i){throw i===ni?uc:i}else s=t;t=$e();var a=t.queue,r=a.dispatch;return n!==t.memoizedState&&(ae.flags|=2048,fr(9,fc(),CS.bind(null,a,n),null)),[s,r,e]}function CS(e,t){e.action=t}function Gm(e){var t=$e(),n=we;if(n!==null)return ex(t,n,e);$e(),t=t.memoizedState,n=$e();var s=n.queue.dispatch;return n.memoizedState=e,[t,s,!1]}function fr(e,t,n,s){return e={tag:e,create:n,deps:s,inst:t,next:null},t=ae.updateQueue,t===null&&(t=Wf(),ae.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function fc(){return{destroy:void 0,resource:void 0}}function tx(){return $e().memoizedState}function Ji(e,t,n,s){var a=pt();s=s===void 0?null:s,ae.flags|=e,a.memoizedState=fr(1|t,fc(),n,s)}function ai(e,t,n,s){var a=$e();s=s===void 0?null:s;var r=a.memoizedState.inst;we!==null&&s!==null&&Xf(s,we.memoizedState.deps)?a.memoizedState=fr(t,r,n,s):(ae.flags|=e,a.memoizedState=fr(1|t,r,n,s))}function Vm(e,t){Ji(8390656,8,e,t)}function nx(e,t){ai(2048,8,e,t)}function sx(e,t){return ai(4,2,e,t)}function ax(e,t){return ai(4,4,e,t)}function rx(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lx(e,t,n){n=n!=null?n.concat([e]):null,ai(4,4,rx.bind(null,t,e),n)}function th(){}function ix(e,t){var n=$e();t=t===void 0?null:t;var s=n.memoizedState;return t!==null&&Xf(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function ox(e,t){var n=$e();t=t===void 0?null:t;var s=n.memoizedState;if(t!==null&&Xf(t,s[1]))return s[0];if(s=e(),sa){ps(!0);try{e()}finally{ps(!1)}}return n.memoizedState=[s,t],s}function nh(e,t,n){return n===void 0||Cs&1073741824?e.memoizedState=t:(e.memoizedState=n,e=Wx(),ae.lanes|=e,Os|=e,n)}function cx(e,t,n,s){return Ut(n,t)?n:dr.current!==null?(e=nh(e,n,s),Ut(e,t)||(Qe=!0),e):Cs&42?(e=Wx(),ae.lanes|=e,Os|=e,t):(Qe=!0,e.memoizedState=n)}function ux(e,t,n,s,a){var r=pe.p;pe.p=r!==0&&8>r?r:8;var i=K.T,o={};K.T=o,ah(e,!1,t,n);try{var c=a(),u=K.S;if(u!==null&&u(o,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=SS(c,s);hl(e,t,d,Ot(e))}else hl(e,t,s,Ot(e))}catch(f){hl(e,t,{then:function(){},status:"rejected",reason:f},Ot())}finally{pe.p=r,K.T=i}}function AS(){}function Ed(e,t,n,s){if(e.tag!==5)throw Error(D(476));var a=dx(e).queue;ux(e,a,t,Ks,n===null?AS:function(){return fx(e),n(s)})}function dx(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ks,baseState:Ks,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:Ks},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function fx(e){var t=dx(e).next.queue;hl(e,t,{},Ot())}function sh(){return lt(Dl)}function hx(){return $e().memoizedState}function mx(){return $e().memoizedState}function OS(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=Ot();e=ws(n);var s=js(t,e,n);s!==null&&(Rt(s,t,n),ul(s,t,n)),t={cache:qf()},e.payload=t;return}t=t.return}}function RS(e,t,n){var s=Ot();n={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},hc(e)?gx(t,n):(n=Pf(e,t,n,s),n!==null&&(Rt(n,e,s),vx(n,t,s)))}function px(e,t,n){var s=Ot();hl(e,t,n,s)}function hl(e,t,n,s){var a={lane:s,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(hc(e))gx(t,a);else{var r=e.alternate;if(e.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var i=t.lastRenderedState,o=r(i,n);if(a.hasEagerState=!0,a.eagerState=o,Ut(o,i))return cc(e,t,a,0),Ee===null&&oc(),!1}catch{}finally{}if(n=Pf(e,t,a,s),n!==null)return Rt(n,e,s),vx(n,t,s),!0}return!1}function ah(e,t,n,s){if(s={lane:2,revertLane:fh(),action:s,hasEagerState:!1,eagerState:null,next:null},hc(e)){if(t)throw Error(D(479))}else t=Pf(e,n,s,2),t!==null&&Rt(t,e,2)}function hc(e){var t=e.alternate;return e===ae||t!==null&&t===ae}function gx(e,t){er=wo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vx(e,t,n){if(n&4194048){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,iv(e,n)}}var No={readContext:lt,use:dc,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useLayoutEffect:Le,useInsertionEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useSyncExternalStore:Le,useId:Le,useHostTransitionStatus:Le,useFormState:Le,useActionState:Le,useOptimistic:Le,useMemoCache:Le,useCacheRefresh:Le},xx={readContext:lt,use:dc,useCallback:function(e,t){return pt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Vm,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Ji(4194308,4,rx.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ji(4194308,4,e,t)},useInsertionEffect:function(e,t){Ji(4,2,e,t)},useMemo:function(e,t){var n=pt();t=t===void 0?null:t;var s=e();if(sa){ps(!0);try{e()}finally{ps(!1)}}return n.memoizedState=[s,t],s},useReducer:function(e,t,n){var s=pt();if(n!==void 0){var a=n(t);if(sa){ps(!0);try{n(t)}finally{ps(!1)}}}else a=t;return s.memoizedState=s.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},s.queue=e,e=e.dispatch=RS.bind(null,ae,e),[s.memoizedState,e]},useRef:function(e){var t=pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Sd(e);var t=e.queue,n=px.bind(null,ae,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:th,useDeferredValue:function(e,t){var n=pt();return nh(n,e,t)},useTransition:function(){var e=Sd(!1);return e=ux.bind(null,ae,e.queue,!0,!1),pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var s=ae,a=pt();if(me){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ee===null)throw Error(D(349));fe&124||Vv(s,t,n)}a.memoizedState=n;var r={value:n,getSnapshot:t};return a.queue=r,Vm(Xv.bind(null,s,r,e),[e]),s.flags|=2048,fr(9,fc(),Yv.bind(null,s,r,n,t),null),n},useId:function(){var e=pt(),t=Ee.identifierPrefix;if(me){var n=zn,s=In;n=(s&~(1<<32-At(s)-1)).toString(32)+n,t="«"+t+"R"+n,n=jo++,0<n&&(t+="H"+n.toString(32)),t+="»"}else n=_S++,t="«"+t+"r"+n.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:sh,useFormState:Hm,useActionState:Hm,useOptimistic:function(e){var t=pt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=ah.bind(null,ae,!0,n),n.dispatch=t,[e,t]},useMemoCache:Jf,useCacheRefresh:function(){return pt().memoizedState=OS.bind(null,ae)}},yx={readContext:lt,use:dc,useCallback:ix,useContext:lt,useEffect:nx,useImperativeHandle:lx,useInsertionEffect:sx,useLayoutEffect:ax,useMemo:ox,useReducer:Wi,useRef:tx,useState:function(){return Wi(Gn)},useDebugValue:th,useDeferredValue:function(e,t){var n=$e();return cx(n,we.memoizedState,e,t)},useTransition:function(){var e=Wi(Gn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:Gv,useId:hx,useHostTransitionStatus:sh,useFormState:qm,useActionState:qm,useOptimistic:function(e,t){var n=$e();return Qv(n,we,e,t)},useMemoCache:Jf,useCacheRefresh:mx},MS={readContext:lt,use:dc,useCallback:ix,useContext:lt,useEffect:nx,useImperativeHandle:lx,useInsertionEffect:sx,useLayoutEffect:ax,useMemo:ox,useReducer:uu,useRef:tx,useState:function(){return uu(Gn)},useDebugValue:th,useDeferredValue:function(e,t){var n=$e();return we===null?nh(n,e,t):cx(n,we.memoizedState,e,t)},useTransition:function(){var e=uu(Gn)[0],t=$e().memoizedState;return[typeof e=="boolean"?e:si(e),t]},useSyncExternalStore:Gv,useId:hx,useHostTransitionStatus:sh,useFormState:Gm,useActionState:Gm,useOptimistic:function(e,t){var n=$e();return we!==null?Qv(n,we,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Jf,useCacheRefresh:mx},nr=null,Al=0;function Ci(e){var t=Al;return Al+=1,nr===null&&(nr=[]),Pv(nr,e,t)}function Gr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ai(e,t){throw t.$$typeof===oN?Error(D(525)):(e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Ym(e){var t=e._init;return t(e._payload)}function bx(e){function t(b,v){if(e){var g=b.deletions;g===null?(b.deletions=[v],b.flags|=16):g.push(v)}}function n(b,v){if(!e)return null;for(;v!==null;)t(b,v),v=v.sibling;return null}function s(b){for(var v=new Map;b!==null;)b.key!==null?v.set(b.key,b):v.set(b.index,b),b=b.sibling;return v}function a(b,v){return b=Bn(b,v),b.index=0,b.sibling=null,b}function r(b,v,g){return b.index=g,e?(g=b.alternate,g!==null?(g=g.index,g<v?(b.flags|=67108866,v):g):(b.flags|=67108866,v)):(b.flags|=1048576,v)}function i(b){return e&&b.alternate===null&&(b.flags|=67108866),b}function o(b,v,g,j){return v===null||v.tag!==6?(v=iu(g,b.mode,j),v.return=b,v):(v=a(v,g),v.return=b,v)}function c(b,v,g,j){var N=g.type;return N===Ia?d(b,v,g.props.children,j,g.key):v!==null&&(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===os&&Ym(N)===v.type)?(v=a(v,g.props),Gr(v,g),v.return=b,v):(v=Qi(g.type,g.key,g.props,null,b.mode,j),Gr(v,g),v.return=b,v)}function u(b,v,g,j){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=ou(g,b.mode,j),v.return=b,v):(v=a(v,g.children||[]),v.return=b,v)}function d(b,v,g,j,N){return v===null||v.tag!==7?(v=Fs(g,b.mode,j,N),v.return=b,v):(v=a(v,g),v.return=b,v)}function f(b,v,g){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=iu(""+v,b.mode,g),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case wi:return g=Qi(v.type,v.key,v.props,null,b.mode,g),Gr(g,v),g.return=b,g;case Zr:return v=ou(v,b.mode,g),v.return=b,v;case os:var j=v._init;return v=j(v._payload),f(b,v,g)}if(Wr(v)||$r(v))return v=Fs(v,b.mode,g,null),v.return=b,v;if(typeof v.then=="function")return f(b,Ci(v),g);if(v.$$typeof===Ln)return f(b,Ei(b,v),g);Ai(b,v)}return null}function h(b,v,g,j){var N=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return N!==null?null:o(b,v,""+g,j);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case wi:return g.key===N?c(b,v,g,j):null;case Zr:return g.key===N?u(b,v,g,j):null;case os:return N=g._init,g=N(g._payload),h(b,v,g,j)}if(Wr(g)||$r(g))return N!==null?null:d(b,v,g,j,null);if(typeof g.then=="function")return h(b,v,Ci(g),j);if(g.$$typeof===Ln)return h(b,v,Ei(b,g),j);Ai(b,g)}return null}function p(b,v,g,j,N){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return b=b.get(g)||null,o(v,b,""+j,N);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case wi:return b=b.get(j.key===null?g:j.key)||null,c(v,b,j,N);case Zr:return b=b.get(j.key===null?g:j.key)||null,u(v,b,j,N);case os:var S=j._init;return j=S(j._payload),p(b,v,g,j,N)}if(Wr(j)||$r(j))return b=b.get(g)||null,d(v,b,j,N,null);if(typeof j.then=="function")return p(b,v,g,Ci(j),N);if(j.$$typeof===Ln)return p(b,v,g,Ei(v,j),N);Ai(v,j)}return null}function y(b,v,g,j){for(var N=null,S=null,_=v,A=v=0,R=null;_!==null&&A<g.length;A++){_.index>A?(R=_,_=null):R=_.sibling;var E=h(b,_,g[A],j);if(E===null){_===null&&(_=R);break}e&&_&&E.alternate===null&&t(b,_),v=r(E,v,A),S===null?N=E:S.sibling=E,S=E,_=R}if(A===g.length)return n(b,_),me&&Gs(b,A),N;if(_===null){for(;A<g.length;A++)_=f(b,g[A],j),_!==null&&(v=r(_,v,A),S===null?N=_:S.sibling=_,S=_);return me&&Gs(b,A),N}for(_=s(_);A<g.length;A++)R=p(_,b,A,g[A],j),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?A:R.key),v=r(R,v,A),S===null?N=R:S.sibling=R,S=R);return e&&_.forEach(function(z){return t(b,z)}),me&&Gs(b,A),N}function x(b,v,g,j){if(g==null)throw Error(D(151));for(var N=null,S=null,_=v,A=v=0,R=null,E=g.next();_!==null&&!E.done;A++,E=g.next()){_.index>A?(R=_,_=null):R=_.sibling;var z=h(b,_,E.value,j);if(z===null){_===null&&(_=R);break}e&&_&&z.alternate===null&&t(b,_),v=r(z,v,A),S===null?N=z:S.sibling=z,S=z,_=R}if(E.done)return n(b,_),me&&Gs(b,A),N;if(_===null){for(;!E.done;A++,E=g.next())E=f(b,E.value,j),E!==null&&(v=r(E,v,A),S===null?N=E:S.sibling=E,S=E);return me&&Gs(b,A),N}for(_=s(_);!E.done;A++,E=g.next())E=p(_,b,A,E.value,j),E!==null&&(e&&E.alternate!==null&&_.delete(E.key===null?A:E.key),v=r(E,v,A),S===null?N=E:S.sibling=E,S=E);return e&&_.forEach(function(T){return t(b,T)}),me&&Gs(b,A),N}function w(b,v,g,j){if(typeof g=="object"&&g!==null&&g.type===Ia&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case wi:e:{for(var N=g.key;v!==null;){if(v.key===N){if(N=g.type,N===Ia){if(v.tag===7){n(b,v.sibling),j=a(v,g.props.children),j.return=b,b=j;break e}}else if(v.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===os&&Ym(N)===v.type){n(b,v.sibling),j=a(v,g.props),Gr(j,g),j.return=b,b=j;break e}n(b,v);break}else t(b,v);v=v.sibling}g.type===Ia?(j=Fs(g.props.children,b.mode,j,g.key),j.return=b,b=j):(j=Qi(g.type,g.key,g.props,null,b.mode,j),Gr(j,g),j.return=b,b=j)}return i(b);case Zr:e:{for(N=g.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){n(b,v.sibling),j=a(v,g.children||[]),j.return=b,b=j;break e}else{n(b,v);break}else t(b,v);v=v.sibling}j=ou(g,b.mode,j),j.return=b,b=j}return i(b);case os:return N=g._init,g=N(g._payload),w(b,v,g,j)}if(Wr(g))return y(b,v,g,j);if($r(g)){if(N=$r(g),typeof N!="function")throw Error(D(150));return g=N.call(g),x(b,v,g,j)}if(typeof g.then=="function")return w(b,v,Ci(g),j);if(g.$$typeof===Ln)return w(b,v,Ei(b,g),j);Ai(b,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,v!==null&&v.tag===6?(n(b,v.sibling),j=a(v,g),j.return=b,b=j):(n(b,v),j=iu(g,b.mode,j),j.return=b,b=j),i(b)):n(b,v)}return function(b,v,g,j){try{Al=0;var N=w(b,v,g,j);return nr=null,N}catch(_){if(_===ni||_===uc)throw _;var S=Tt(29,_,null,b.mode);return S.lanes=j,S.return=b,S}finally{}}}var hr=bx(!0),wx=bx(!1),Zt=En(null),wn=null;function ds(e){var t=e.alternate;Re(Ve,Ve.current&1),Re(Zt,e),wn===null&&(t===null||dr.current!==null||t.memoizedState!==null)&&(wn=e)}function jx(e){if(e.tag===22){if(Re(Ve,Ve.current),Re(Zt,e),wn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(wn=e)}}else fs()}function fs(){Re(Ve,Ve.current),Re(Zt,Zt.current)}function $n(e){Je(Zt),wn===e&&(wn=null),Je(Ve)}var Ve=En(0);function So(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||qd(n)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function du(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Ce({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Td={enqueueSetState:function(e,t,n){e=e._reactInternals;var s=Ot(),a=ws(s);a.payload=t,n!=null&&(a.callback=n),t=js(e,a,s),t!==null&&(Rt(t,e,s),ul(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=Ot(),a=ws(s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=js(e,a,s),t!==null&&(Rt(t,e,s),ul(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ot(),s=ws(n);s.tag=2,t!=null&&(s.callback=t),t=js(e,s,n),t!==null&&(Rt(t,e,n),ul(t,e,n))}};function Xm(e,t,n,s,a,r,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,r,i):t.prototype&&t.prototype.isPureReactComponent?!El(n,s)||!El(a,r):!0}function Km(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&Td.enqueueReplaceState(t,t.state,null)}function aa(e,t){var n=t;if("ref"in t){n={};for(var s in t)s!=="ref"&&(n[s]=t[s])}if(e=e.defaultProps){n===t&&(n=Ce({},n));for(var a in e)n[a]===void 0&&(n[a]=e[a])}return n}var _o=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Nx(e){_o(e)}function Sx(e){console.error(e)}function _x(e){_o(e)}function Eo(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Fm(e,t,n){try{var s=e.onCaughtError;s(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Cd(e,t,n){return n=ws(n),n.tag=3,n.payload={element:null},n.callback=function(){Eo(e,t)},n}function Ex(e){return e=ws(e),e.tag=3,e}function Tx(e,t,n,s){var a=n.type.getDerivedStateFromError;if(typeof a=="function"){var r=s.value;e.payload=function(){return a(r)},e.callback=function(){Fm(t,n,s)}}var i=n.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Fm(t,n,s),typeof a!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var o=s.stack;this.componentDidCatch(s.value,{componentStack:o!==null?o:""})})}function DS(e,t,n,s,a){if(n.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=n.alternate,t!==null&&ei(t,n,a,!0),n=Zt.current,n!==null){switch(n.tag){case 13:return wn===null?Ld():n.alternate===null&&ke===0&&(ke=3),n.flags&=-257,n.flags|=65536,n.lanes=a,s===bd?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([s]):t.add(s),ju(e,s,a)),!1;case 22:return n.flags|=65536,s===bd?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([s]):n.add(s)),ju(e,s,a)),!1}throw Error(D(435,n.tag))}return ju(e,s,a),Ld(),!1}if(me)return t=Zt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,s!==pd&&(e=Error(D(422),{cause:s}),Tl(Gt(e,n)))):(s!==pd&&(t=Error(D(423),{cause:s}),Tl(Gt(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,s=Gt(s,n),a=Cd(e.stateNode,s,a),cu(e,a),ke!==4&&(ke=2)),!1;var r=Error(D(520),{cause:s});if(r=Gt(r,n),gl===null?gl=[r]:gl.push(r),ke!==4&&(ke=2),t===null)return!0;s=Gt(s,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Cd(n.stateNode,s,e),cu(n,e),!1;case 1:if(t=n.type,r=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||r!==null&&typeof r.componentDidCatch=="function"&&(Ns===null||!Ns.has(r))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Ex(a),Tx(a,e,n,s),cu(n,a),!1}n=n.return}while(n!==null);return!1}var Cx=Error(D(461)),Qe=!1;function et(e,t,n,s){t.child=e===null?wx(t,null,n,s):hr(t,e.child,n,s)}function Qm(e,t,n,s,a){n=n.render;var r=t.ref;if("ref"in s){var i={};for(var o in s)o!=="ref"&&(i[o]=s[o])}else i=s;return na(t),s=Kf(e,t,n,i,r,a),o=Ff(),e!==null&&!Qe?(Qf(e,t,a),Vn(e,t,a)):(me&&o&&Bf(t),t.flags|=1,et(e,t,s,a),t.child)}function Zm(e,t,n,s,a){if(e===null){var r=n.type;return typeof r=="function"&&!$f(r)&&r.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=r,Ax(e,t,r,s,a)):(e=Qi(n.type,null,s,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(r=e.child,!rh(e,a)){var i=r.memoizedProps;if(n=n.compare,n=n!==null?n:El,n(i,s)&&e.ref===t.ref)return Vn(e,t,a)}return t.flags|=1,e=Bn(r,s),e.ref=t.ref,e.return=t,t.child=e}function Ax(e,t,n,s,a){if(e!==null){var r=e.memoizedProps;if(El(r,s)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=s=r,rh(e,a))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Vn(e,t,a)}return Ad(e,t,n,s,a)}function Ox(e,t,n){var s=t.pendingProps,a=s.children,r=e!==null?e.memoizedState:null;if(s.mode==="hidden"){if(t.flags&128){if(s=r!==null?r.baseLanes|n:n,e!==null){for(a=t.child=e.child,r=0;a!==null;)r=r|a.lanes|a.childLanes,a=a.sibling;t.childLanes=r&~s}else t.childLanes=0,t.child=null;return Wm(e,t,s,n)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Zi(t,r!==null?r.cachePool:null),r!==null?Pm(t,r):Nd(),jx(t);else return t.lanes=t.childLanes=536870912,Wm(e,t,r!==null?r.baseLanes|n:n,n)}else r!==null?(Zi(t,r.cachePool),Pm(t,r),fs(),t.memoizedState=null):(e!==null&&Zi(t,null),Nd(),fs());return et(e,t,a,n),t.child}function Wm(e,t,n,s){var a=Gf();return a=a===null?null:{parent:qe._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&Zi(t,null),Nd(),jx(t),e!==null&&ei(e,t,s,!0),null}function eo(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(D(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Ad(e,t,n,s,a){return na(t),n=Kf(e,t,n,s,void 0,a),s=Ff(),e!==null&&!Qe?(Qf(e,t,a),Vn(e,t,a)):(me&&s&&Bf(t),t.flags|=1,et(e,t,n,a),t.child)}function Jm(e,t,n,s,a,r){return na(t),t.updateQueue=null,n=qv(t,s,n,a),Hv(e),s=Ff(),e!==null&&!Qe?(Qf(e,t,r),Vn(e,t,r)):(me&&s&&Bf(t),t.flags|=1,et(e,t,n,r),t.child)}function ep(e,t,n,s,a){if(na(t),t.stateNode===null){var r=Va,i=n.contextType;typeof i=="object"&&i!==null&&(r=lt(i)),r=new n(s,r),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Td,t.stateNode=r,r._reactInternals=t,r=t.stateNode,r.props=s,r.state=t.memoizedState,r.refs={},Vf(t),i=n.contextType,r.context=typeof i=="object"&&i!==null?lt(i):Va,r.state=t.memoizedState,i=n.getDerivedStateFromProps,typeof i=="function"&&(du(t,n,i,s),r.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(i=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),i!==r.state&&Td.enqueueReplaceState(r,r.state,null),fl(t,s,r,a),dl(),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){r=t.stateNode;var o=t.memoizedProps,c=aa(n,o);r.props=c;var u=r.context,d=n.contextType;i=Va,typeof d=="object"&&d!==null&&(i=lt(d));var f=n.getDerivedStateFromProps;d=typeof f=="function"||typeof r.getSnapshotBeforeUpdate=="function",o=t.pendingProps!==o,d||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(o||u!==i)&&Km(t,r,s,i),cs=!1;var h=t.memoizedState;r.state=h,fl(t,s,r,a),dl(),u=t.memoizedState,o||h!==u||cs?(typeof f=="function"&&(du(t,n,f,s),u=t.memoizedState),(c=cs||Xm(t,n,c,s,h,u,i))?(d||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount()),typeof r.componentDidMount=="function"&&(t.flags|=4194308)):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),r.props=s,r.state=u,r.context=i,s=c):(typeof r.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{r=t.stateNode,wd(e,t),i=t.memoizedProps,d=aa(n,i),r.props=d,f=t.pendingProps,h=r.context,u=n.contextType,c=Va,typeof u=="object"&&u!==null&&(c=lt(u)),o=n.getDerivedStateFromProps,(u=typeof o=="function"||typeof r.getSnapshotBeforeUpdate=="function")||typeof r.UNSAFE_componentWillReceiveProps!="function"&&typeof r.componentWillReceiveProps!="function"||(i!==f||h!==c)&&Km(t,r,s,c),cs=!1,h=t.memoizedState,r.state=h,fl(t,s,r,a),dl();var p=t.memoizedState;i!==f||h!==p||cs||e!==null&&e.dependencies!==null&&yo(e.dependencies)?(typeof o=="function"&&(du(t,n,o,s),p=t.memoizedState),(d=cs||Xm(t,n,d,s,h,p,c)||e!==null&&e.dependencies!==null&&yo(e.dependencies))?(u||typeof r.UNSAFE_componentWillUpdate!="function"&&typeof r.componentWillUpdate!="function"||(typeof r.componentWillUpdate=="function"&&r.componentWillUpdate(s,p,c),typeof r.UNSAFE_componentWillUpdate=="function"&&r.UNSAFE_componentWillUpdate(s,p,c)),typeof r.componentDidUpdate=="function"&&(t.flags|=4),typeof r.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=p),r.props=s,r.state=p,r.context=c,s=d):(typeof r.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof r.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),s=!1)}return r=s,eo(e,t),s=(t.flags&128)!==0,r||s?(r=t.stateNode,n=s&&typeof n.getDerivedStateFromError!="function"?null:r.render(),t.flags|=1,e!==null&&s?(t.child=hr(t,e.child,null,a),t.child=hr(t,null,n,a)):et(e,t,n,a),t.memoizedState=r.state,e=t.child):e=Vn(e,t,a),e}function tp(e,t,n,s){return Jl(),t.flags|=256,et(e,t,n,s),t.child}var fu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hu(e){return{baseLanes:e,cachePool:Iv()}}function mu(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Vt),e}function Rx(e,t,n){var s=t.pendingProps,a=!1,r=(t.flags&128)!==0,i;if((i=r)||(i=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),i&&(a=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(a?ds(t):fs(),me){var o=De,c;if(c=o){e:{for(c=o,o=pn;c.nodeType!==8;){if(!o){o=null;break e}if(c=ln(c.nextSibling),c===null){o=null;break e}}o=c}o!==null?(t.memoizedState={dehydrated:o,treeContext:Qs!==null?{id:In,overflow:zn}:null,retryLane:536870912,hydrationErrors:null},c=Tt(18,null,null,0),c.stateNode=o,c.return=t,t.child=c,ut=t,De=null,c=!0):c=!1}c||ta(t)}if(o=t.memoizedState,o!==null&&(o=o.dehydrated,o!==null))return qd(o)?t.lanes=32:t.lanes=536870912,null;$n(t)}return o=s.children,s=s.fallback,a?(fs(),a=t.mode,o=To({mode:"hidden",children:o},a),s=Fs(s,a,n,null),o.return=t,s.return=t,o.sibling=s,t.child=o,a=t.child,a.memoizedState=hu(n),a.childLanes=mu(e,i,n),t.memoizedState=fu,s):(ds(t),Od(t,o))}if(c=e.memoizedState,c!==null&&(o=c.dehydrated,o!==null)){if(r)t.flags&256?(ds(t),t.flags&=-257,t=pu(e,t,n)):t.memoizedState!==null?(fs(),t.child=e.child,t.flags|=128,t=null):(fs(),a=s.fallback,o=t.mode,s=To({mode:"visible",children:s.children},o),a=Fs(a,o,n,null),a.flags|=2,s.return=t,a.return=t,s.sibling=a,t.child=s,hr(t,e.child,null,n),s=t.child,s.memoizedState=hu(n),s.childLanes=mu(e,i,n),t.memoizedState=fu,t=a);else if(ds(t),qd(o)){if(i=o.nextSibling&&o.nextSibling.dataset,i)var u=i.dgst;i=u,s=Error(D(419)),s.stack="",s.digest=i,Tl({value:s,source:null,stack:null}),t=pu(e,t,n)}else if(Qe||ei(e,t,n,!1),i=(n&e.childLanes)!==0,Qe||i){if(i=Ee,i!==null&&(s=n&-n,s=s&42?1:Af(s),s=s&(i.suspendedLanes|n)?0:s,s!==0&&s!==c.retryLane))throw c.retryLane=s,Tr(e,s),Rt(i,e,s),Cx;o.data==="$?"||Ld(),t=pu(e,t,n)}else o.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,De=ln(o.nextSibling),ut=t,me=!0,Zs=null,pn=!1,e!==null&&(Bt[Ht++]=In,Bt[Ht++]=zn,Bt[Ht++]=Qs,In=e.id,zn=e.overflow,Qs=t),t=Od(t,s.children),t.flags|=4096);return t}return a?(fs(),a=s.fallback,o=t.mode,c=e.child,u=c.sibling,s=Bn(c,{mode:"hidden",children:s.children}),s.subtreeFlags=c.subtreeFlags&65011712,u!==null?a=Bn(u,a):(a=Fs(a,o,n,null),a.flags|=2),a.return=t,s.return=t,s.sibling=a,t.child=s,s=a,a=t.child,o=e.child.memoizedState,o===null?o=hu(n):(c=o.cachePool,c!==null?(u=qe._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=Iv(),o={baseLanes:o.baseLanes|n,cachePool:c}),a.memoizedState=o,a.childLanes=mu(e,i,n),t.memoizedState=fu,s):(ds(t),n=e.child,e=n.sibling,n=Bn(n,{mode:"visible",children:s.children}),n.return=t,n.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function Od(e,t){return t=To({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function To(e,t){return e=Tt(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function pu(e,t,n){return hr(t,e.child,null,n),e=Od(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function np(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),vd(e.return,t,n)}function gu(e,t,n,s,a){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:a}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=s,r.tail=n,r.tailMode=a)}function Mx(e,t,n){var s=t.pendingProps,a=s.revealOrder,r=s.tail;if(et(e,t,s.children,n),s=Ve.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&np(e,n,t);else if(e.tag===19)np(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}switch(Re(Ve,s),a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&So(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),gu(t,!1,a,n,r);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&So(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}gu(t,!0,n,null,r);break;case"together":gu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Os|=t.lanes,!(n&t.childLanes))if(e!==null){if(ei(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Bn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Bn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function rh(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&yo(e)))}function kS(e,t,n){switch(t.tag){case 3:uo(t,t.stateNode.containerInfo),us(t,qe,e.memoizedState.cache),Jl();break;case 27:case 5:rd(t);break;case 4:uo(t,t.stateNode.containerInfo);break;case 10:us(t,t.type,t.memoizedProps.value);break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(ds(t),t.flags|=128,null):n&t.child.childLanes?Rx(e,t,n):(ds(t),e=Vn(e,t,n),e!==null?e.sibling:null);ds(t);break;case 19:var a=(e.flags&128)!==0;if(s=(n&t.childLanes)!==0,s||(ei(e,t,n,!1),s=(n&t.childLanes)!==0),a){if(s)return Mx(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Re(Ve,Ve.current),s)break;return null;case 22:case 23:return t.lanes=0,Ox(e,t,n);case 24:us(t,qe,e.memoizedState.cache)}return Vn(e,t,n)}function Dx(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!rh(e,n)&&!(t.flags&128))return Qe=!1,kS(e,t,n);Qe=!!(e.flags&131072)}else Qe=!1,me&&t.flags&1048576&&Uv(t,xo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var s=t.elementType,a=s._init;if(s=a(s._payload),t.type=s,typeof s=="function")$f(s)?(e=aa(s,e),t.tag=1,t=ep(null,t,s,e,n)):(t.tag=0,t=Ad(null,t,s,e,n));else{if(s!=null){if(a=s.$$typeof,a===Ef){t.tag=11,t=Qm(null,t,s,e,n);break e}else if(a===Tf){t.tag=14,t=Zm(null,t,s,e,n);break e}}throw t=sd(s)||s,Error(D(306,t,""))}}return t;case 0:return Ad(e,t,t.type,t.pendingProps,n);case 1:return s=t.type,a=aa(s,t.pendingProps),ep(e,t,s,a,n);case 3:e:{if(uo(t,t.stateNode.containerInfo),e===null)throw Error(D(387));s=t.pendingProps;var r=t.memoizedState;a=r.element,wd(e,t),fl(t,s,null,n);var i=t.memoizedState;if(s=i.cache,us(t,qe,s),s!==r.cache&&xd(t,[qe],n,!0),dl(),s=i.element,r.isDehydrated)if(r={element:s,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){t=tp(e,t,s,n);break e}else if(s!==a){a=Gt(Error(D(424)),t),Tl(a),t=tp(e,t,s,n);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(De=ln(e.firstChild),ut=t,me=!0,Zs=null,pn=!0,n=wx(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Jl(),s===a){t=Vn(e,t,n);break e}et(e,t,s,n)}t=t.child}return t;case 26:return eo(e,t),e===null?(n=yp(t.type,null,t.pendingProps,null))?t.memoizedState=n:me||(n=t.type,e=t.pendingProps,s=ko(bs.current).createElement(n),s[rt]=t,s[bt]=e,st(s,n,e),Fe(s),t.stateNode=s):t.memoizedState=yp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return rd(t),e===null&&me&&(s=t.stateNode=y0(t.type,t.pendingProps,bs.current),ut=t,pn=!0,a=De,Us(t.type)?(Gd=a,De=ln(s.firstChild)):De=a),et(e,t,t.pendingProps.children,n),eo(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((a=s=De)&&(s=o1(s,t.type,t.pendingProps,pn),s!==null?(t.stateNode=s,ut=t,De=ln(s.firstChild),pn=!1,a=!0):a=!1),a||ta(t)),rd(t),a=t.type,r=t.pendingProps,i=e!==null?e.memoizedProps:null,s=r.children,Bd(a,r)?s=null:i!==null&&Bd(a,i)&&(t.flags|=32),t.memoizedState!==null&&(a=Kf(e,t,ES,null,null,n),Dl._currentValue=a),eo(e,t),et(e,t,s,n),t.child;case 6:return e===null&&me&&((e=n=De)&&(n=c1(n,t.pendingProps,pn),n!==null?(t.stateNode=n,ut=t,De=null,e=!0):e=!1),e||ta(t)),null;case 13:return Rx(e,t,n);case 4:return uo(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=hr(t,null,s,n):et(e,t,s,n),t.child;case 11:return Qm(e,t,t.type,t.pendingProps,n);case 7:return et(e,t,t.pendingProps,n),t.child;case 8:return et(e,t,t.pendingProps.children,n),t.child;case 12:return et(e,t,t.pendingProps.children,n),t.child;case 10:return s=t.pendingProps,us(t,t.type,s.value),et(e,t,s.children,n),t.child;case 9:return a=t.type._context,s=t.pendingProps.children,na(t),a=lt(a),s=s(a),t.flags|=1,et(e,t,s,n),t.child;case 14:return Zm(e,t,t.type,t.pendingProps,n);case 15:return Ax(e,t,t.type,t.pendingProps,n);case 19:return Mx(e,t,n);case 31:return s=t.pendingProps,n=t.mode,s={mode:s.mode,children:s.children},e===null?(n=To(s,n),n.ref=t.ref,t.child=n,n.return=t,t=n):(n=Bn(e.child,s),n.ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Ox(e,t,n);case 24:return na(t),s=lt(qe),e===null?(a=Gf(),a===null&&(a=Ee,r=qf(),a.pooledCache=r,r.refCount++,r!==null&&(a.pooledCacheLanes|=n),a=r),t.memoizedState={parent:s,cache:a},Vf(t),us(t,qe,a)):(e.lanes&n&&(wd(e,t),fl(t,null,null,n),dl()),a=e.memoizedState,r=t.memoizedState,a.parent!==s?(a={parent:s,cache:s},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),us(t,qe,s)):(s=r.cache,us(t,qe,s),s!==a.cache&&xd(t,[qe],n,!0))),et(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(D(156,t.tag))}function On(e){e.flags|=4}function sp(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!j0(t)){if(t=Zt.current,t!==null&&((fe&4194048)===fe?wn!==null:(fe&62914560)!==fe&&!(fe&536870912)||t!==wn))throw cl=bd,zv;e.flags|=8192}}function Oi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?rv():536870912,e.lanes|=t,mr|=t)}function Vr(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Me(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags&65011712,s|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,s|=a.subtreeFlags,s|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function US(e,t,n){var s=t.pendingProps;switch(Hf(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Me(t),null;case 1:return Me(t),null;case 3:return n=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),Hn(qe),ir(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(qr(t)?On(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Dm())),Me(t),null;case 26:return n=t.memoizedState,e===null?(On(t),n!==null?(Me(t),sp(t,n)):(Me(t),t.flags&=-16777217)):n?n!==e.memoizedState?(On(t),Me(t),sp(t,n)):(Me(t),t.flags&=-16777217):(e.memoizedProps!==s&&On(t),Me(t),t.flags&=-16777217),null;case 27:fo(t),n=bs.current;var a=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==s&&On(t);else{if(!s){if(t.stateNode===null)throw Error(D(166));return Me(t),null}e=yn.current,qr(t)?Rm(t):(e=y0(a,s,n),t.stateNode=e,On(t))}return Me(t),null;case 5:if(fo(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&On(t);else{if(!s){if(t.stateNode===null)throw Error(D(166));return Me(t),null}if(e=yn.current,qr(t))Rm(t);else{switch(a=ko(bs.current),e){case 1:e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=a.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=a.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof s.is=="string"?a.createElement("select",{is:s.is}):a.createElement("select"),s.multiple?e.multiple=!0:s.size&&(e.size=s.size);break;default:e=typeof s.is=="string"?a.createElement(n,{is:s.is}):a.createElement(n)}}e[rt]=t,e[bt]=s;e:for(a=t.child;a!==null;){if(a.tag===5||a.tag===6)e.appendChild(a.stateNode);else if(a.tag!==4&&a.tag!==27&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===t)break e;for(;a.sibling===null;){if(a.return===null||a.return===t)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}t.stateNode=e;e:switch(st(e,n,s),n){case"button":case"input":case"select":case"textarea":e=!!s.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&On(t)}}return Me(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&On(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(D(166));if(e=bs.current,qr(t)){if(e=t.stateNode,n=t.memoizedProps,s=null,a=ut,a!==null)switch(a.tag){case 27:case 5:s=a.memoizedProps}e[rt]=t,e=!!(e.nodeValue===n||s!==null&&s.suppressHydrationWarning===!0||g0(e.nodeValue,n)),e||ta(t)}else e=ko(e).createTextNode(s),e[rt]=t,t.stateNode=e}return Me(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=qr(t),s!==null&&s.dehydrated!==null){if(e===null){if(!a)throw Error(D(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[rt]=t}else Jl(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Me(t),a=!1}else a=Dm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?($n(t),t):($n(t),null)}if($n(t),t.flags&128)return t.lanes=n,t;if(n=s!==null,e=e!==null&&e.memoizedState!==null,n){s=t.child,a=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(a=s.alternate.memoizedState.cachePool.pool);var r=null;s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==a&&(s.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),Oi(t,t.updateQueue),Me(t),null;case 4:return ir(),e===null&&hh(t.stateNode.containerInfo),Me(t),null;case 10:return Hn(t.type),Me(t),null;case 19:if(Je(Ve),a=t.memoizedState,a===null)return Me(t),null;if(s=(t.flags&128)!==0,r=a.rendering,r===null)if(s)Vr(a,!1);else{if(ke!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(r=So(e),r!==null){for(t.flags|=128,Vr(a,!1),e=r.updateQueue,t.updateQueue=e,Oi(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)kv(n,e),n=n.sibling;return Re(Ve,Ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&bn()>Ao&&(t.flags|=128,s=!0,Vr(a,!1),t.lanes=4194304)}else{if(!s)if(e=So(r),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,Oi(t,e),Vr(a,!0),a.tail===null&&a.tailMode==="hidden"&&!r.alternate&&!me)return Me(t),null}else 2*bn()-a.renderingStartTime>Ao&&n!==536870912&&(t.flags|=128,s=!0,Vr(a,!1),t.lanes=4194304);a.isBackwards?(r.sibling=t.child,t.child=r):(e=a.last,e!==null?e.sibling=r:t.child=r,a.last=r)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=bn(),t.sibling=null,e=Ve.current,Re(Ve,s?e&1|2:e&1),t):(Me(t),null);case 22:case 23:return $n(t),Yf(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?n&536870912&&!(t.flags&128)&&(Me(t),t.subtreeFlags&6&&(t.flags|=8192)):Me(t),n=t.updateQueue,n!==null&&Oi(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==n&&(t.flags|=2048),e!==null&&Je(Ws),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Hn(qe),Me(t),null;case 25:return null;case 30:return null}throw Error(D(156,t.tag))}function LS(e,t){switch(Hf(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hn(qe),ir(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return fo(t),null;case 13:if($n(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Jl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(Ve),null;case 4:return ir(),null;case 10:return Hn(t.type),null;case 22:case 23:return $n(t),Yf(),e!==null&&Je(Ws),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Hn(qe),null;case 25:return null;default:return null}}function kx(e,t){switch(Hf(t),t.tag){case 3:Hn(qe),ir();break;case 26:case 27:case 5:fo(t);break;case 4:ir();break;case 13:$n(t);break;case 19:Je(Ve);break;case 10:Hn(t.type);break;case 22:case 23:$n(t),Yf(),e!==null&&Je(Ws);break;case 24:Hn(qe)}}function ri(e,t){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var a=s.next;n=a;do{if((n.tag&e)===e){s=void 0;var r=n.create,i=n.inst;s=r(),i.destroy=s}n=n.next}while(n!==a)}}catch(o){Ne(t,t.return,o)}}function As(e,t,n){try{var s=t.updateQueue,a=s!==null?s.lastEffect:null;if(a!==null){var r=a.next;s=r;do{if((s.tag&e)===e){var i=s.inst,o=i.destroy;if(o!==void 0){i.destroy=void 0,a=t;var c=n,u=o;try{u()}catch(d){Ne(a,c,d)}}}s=s.next}while(s!==r)}}catch(d){Ne(t,t.return,d)}}function Ux(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Bv(t,n)}catch(s){Ne(e,e.return,s)}}}function Lx(e,t,n){n.props=aa(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(s){Ne(e,t,s)}}function ml(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof n=="function"?e.refCleanup=n(s):n.current=s}}catch(a){Ne(e,t,a)}}function vn(e,t){var n=e.ref,s=e.refCleanup;if(n!==null)if(typeof s=="function")try{s()}catch(a){Ne(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(a){Ne(e,t,a)}else n.current=null}function Ix(e){var t=e.type,n=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&s.focus();break e;case"img":n.src?s.src=n.src:n.srcSet&&(s.srcset=n.srcSet)}}catch(a){Ne(e,e.return,a)}}function vu(e,t,n){try{var s=e.stateNode;s1(s,e.type,n,t),s[bt]=t}catch(a){Ne(e,e.return,a)}}function zx(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Us(e.type)||e.tag===4}function xu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Us(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rd(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=vc));else if(s!==4&&(s===27&&Us(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Rd(e,t,n),e=e.sibling;e!==null;)Rd(e,t,n),e=e.sibling}function Co(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(s===27&&Us(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Co(e,t,n),e=e.sibling;e!==null;)Co(e,t,n),e=e.sibling}function Px(e){var t=e.stateNode,n=e.memoizedProps;try{for(var s=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);st(t,s,n),t[rt]=e,t[bt]=n}catch(r){Ne(e,e.return,r)}}var Un=!1,Ie=!1,yu=!1,ap=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function IS(e,t){if(e=e.containerInfo,Pd=zo,e=Ev(e),If(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var a=s.anchorOffset,r=s.focusNode;s=s.focusOffset;try{n.nodeType,r.nodeType}catch{n=null;break e}var i=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||a!==0&&f.nodeType!==3||(o=i+a),f!==r||s!==0&&f.nodeType!==3||(c=i+s),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++u===a&&(o=i),h===r&&++d===s&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for($d={focusedElem:e,selectionRange:n},zo=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){switch(t=Ke,r=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&r!==null){e=void 0,n=t,a=r.memoizedProps,r=r.memoizedState,s=n.stateNode;try{var y=aa(n.type,a,n.elementType===n.type);e=s.getSnapshotBeforeUpdate(y,r),s.__reactInternalSnapshotBeforeUpdate=e}catch(x){Ne(n,n.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Hd(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(D(163))}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}}function $x(e,t,n){var s=n.flags;switch(n.tag){case 0:case 11:case 15:Jn(e,n),s&4&&ri(5,n);break;case 1:if(Jn(e,n),s&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(i){Ne(n,n.return,i)}else{var a=aa(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){Ne(n,n.return,i)}}s&64&&Ux(n),s&512&&ml(n,n.return);break;case 3:if(Jn(e,n),s&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Bv(e,t)}catch(i){Ne(n,n.return,i)}}break;case 27:t===null&&s&4&&Px(n);case 26:case 5:Jn(e,n),t===null&&s&4&&Ix(n),s&512&&ml(n,n.return);break;case 12:Jn(e,n);break;case 13:Jn(e,n),s&4&&qx(e,n),s&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=YS.bind(null,n),u1(e,n))));break;case 22:if(s=n.memoizedState!==null||Un,!s){t=t!==null&&t.memoizedState!==null||Ie,a=Un;var r=Ie;Un=s,(Ie=t)&&!r?ss(e,n,(n.subtreeFlags&8772)!==0):Jn(e,n),Un=a,Ie=r}break;case 30:break;default:Jn(e,n)}}function Bx(e){var t=e.alternate;t!==null&&(e.alternate=null,Bx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Rf(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ae=null,gt=!1;function Rn(e,t,n){for(n=n.child;n!==null;)Hx(e,t,n),n=n.sibling}function Hx(e,t,n){if(Ct&&typeof Ct.onCommitFiberUnmount=="function")try{Ct.onCommitFiberUnmount(Kl,n)}catch{}switch(n.tag){case 26:Ie||vn(n,t),Rn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Ie||vn(n,t);var s=Ae,a=gt;Us(n.type)&&(Ae=n.stateNode,gt=!1),Rn(e,t,n),xl(n.stateNode),Ae=s,gt=a;break;case 5:Ie||vn(n,t);case 6:if(s=Ae,a=gt,Ae=null,Rn(e,t,n),Ae=s,gt=a,Ae!==null)if(gt)try{(Ae.nodeType===9?Ae.body:Ae.nodeName==="HTML"?Ae.ownerDocument.body:Ae).removeChild(n.stateNode)}catch(r){Ne(n,t,r)}else try{Ae.removeChild(n.stateNode)}catch(r){Ne(n,t,r)}break;case 18:Ae!==null&&(gt?(e=Ae,gp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),Ll(e)):gp(Ae,n.stateNode));break;case 4:s=Ae,a=gt,Ae=n.stateNode.containerInfo,gt=!0,Rn(e,t,n),Ae=s,gt=a;break;case 0:case 11:case 14:case 15:Ie||As(2,n,t),Ie||As(4,n,t),Rn(e,t,n);break;case 1:Ie||(vn(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"&&Lx(n,t,s)),Rn(e,t,n);break;case 21:Rn(e,t,n);break;case 22:Ie=(s=Ie)||n.memoizedState!==null,Rn(e,t,n),Ie=s;break;default:Rn(e,t,n)}}function qx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ll(e)}catch(n){Ne(t,t.return,n)}}function zS(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ap),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ap),t;default:throw Error(D(435,e.tag))}}function bu(e,t){var n=zS(e);t.forEach(function(s){var a=XS.bind(null,e,s);n.has(s)||(n.add(s),s.then(a,a))})}function Nt(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var a=n[s],r=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 27:if(Us(o.type)){Ae=o.stateNode,gt=!1;break e}break;case 5:Ae=o.stateNode,gt=!1;break e;case 3:case 4:Ae=o.stateNode.containerInfo,gt=!0;break e}o=o.return}if(Ae===null)throw Error(D(160));Hx(r,i,a),Ae=null,gt=!1,r=a.alternate,r!==null&&(r.return=null),a.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Gx(t,e),t=t.sibling}var nn=null;function Gx(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Nt(t,e),St(e),s&4&&(As(3,e,e.return),ri(3,e),As(5,e,e.return));break;case 1:Nt(t,e),St(e),s&512&&(Ie||n===null||vn(n,n.return)),s&64&&Un&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?s:n.concat(s))));break;case 26:var a=nn;if(Nt(t,e),St(e),s&512&&(Ie||n===null||vn(n,n.return)),s&4){var r=n!==null?n.memoizedState:null;if(s=e.memoizedState,n===null)if(s===null)if(e.stateNode===null){e:{s=e.type,n=e.memoizedProps,a=a.ownerDocument||a;t:switch(s){case"title":r=a.getElementsByTagName("title")[0],(!r||r[Zl]||r[rt]||r.namespaceURI==="http://www.w3.org/2000/svg"||r.hasAttribute("itemprop"))&&(r=a.createElement(s),a.head.insertBefore(r,a.querySelector("head > title"))),st(r,s,n),r[rt]=e,Fe(r),s=r;break e;case"link":var i=wp("link","href",a).get(s+(n.href||""));if(i){for(var o=0;o<i.length;o++)if(r=i[o],r.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&r.getAttribute("rel")===(n.rel==null?null:n.rel)&&r.getAttribute("title")===(n.title==null?null:n.title)&&r.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){i.splice(o,1);break t}}r=a.createElement(s),st(r,s,n),a.head.appendChild(r);break;case"meta":if(i=wp("meta","content",a).get(s+(n.content||""))){for(o=0;o<i.length;o++)if(r=i[o],r.getAttribute("content")===(n.content==null?null:""+n.content)&&r.getAttribute("name")===(n.name==null?null:n.name)&&r.getAttribute("property")===(n.property==null?null:n.property)&&r.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&r.getAttribute("charset")===(n.charSet==null?null:n.charSet)){i.splice(o,1);break t}}r=a.createElement(s),st(r,s,n),a.head.appendChild(r);break;default:throw Error(D(468,s))}r[rt]=e,Fe(r),s=r}e.stateNode=s}else jp(a,e.type,e.stateNode);else e.stateNode=bp(a,s,e.memoizedProps);else r!==s?(r===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):r.count--,s===null?jp(a,e.type,e.stateNode):bp(a,s,e.memoizedProps)):s===null&&e.stateNode!==null&&vu(e,e.memoizedProps,n.memoizedProps)}break;case 27:Nt(t,e),St(e),s&512&&(Ie||n===null||vn(n,n.return)),n!==null&&s&4&&vu(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Nt(t,e),St(e),s&512&&(Ie||n===null||vn(n,n.return)),e.flags&32){a=e.stateNode;try{cr(a,"")}catch(p){Ne(e,e.return,p)}}s&4&&e.stateNode!=null&&(a=e.memoizedProps,vu(e,a,n!==null?n.memoizedProps:a)),s&1024&&(yu=!0);break;case 6:if(Nt(t,e),St(e),s&4){if(e.stateNode===null)throw Error(D(162));s=e.memoizedProps,n=e.stateNode;try{n.nodeValue=s}catch(p){Ne(e,e.return,p)}}break;case 3:if(so=null,a=nn,nn=Uo(t.containerInfo),Nt(t,e),nn=a,St(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ll(t.containerInfo)}catch(p){Ne(e,e.return,p)}yu&&(yu=!1,Vx(e));break;case 4:s=nn,nn=Uo(e.stateNode.containerInfo),Nt(t,e),St(e),nn=s;break;case 12:Nt(t,e),St(e);break;case 13:Nt(t,e),St(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(uh=bn()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,bu(e,s)));break;case 22:a=e.memoizedState!==null;var c=n!==null&&n.memoizedState!==null,u=Un,d=Ie;if(Un=u||a,Ie=d||c,Nt(t,e),Ie=d,Un=u,St(e),s&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||c||Un||Ie||Vs(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){c=n=t;try{if(r=c.stateNode,a)i=r.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{o=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;o.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(p){Ne(c,c.return,p)}}}else if(t.tag===6){if(n===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(p){Ne(c,c.return,p)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(n=s.retryQueue,n!==null&&(s.retryQueue=null,bu(e,n))));break;case 19:Nt(t,e),St(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,bu(e,s)));break;case 30:break;case 21:break;default:Nt(t,e),St(e)}}function St(e){var t=e.flags;if(t&2){try{for(var n,s=e.return;s!==null;){if(zx(s)){n=s;break}s=s.return}if(n==null)throw Error(D(160));switch(n.tag){case 27:var a=n.stateNode,r=xu(e);Co(e,r,a);break;case 5:var i=n.stateNode;n.flags&32&&(cr(i,""),n.flags&=-33);var o=xu(e);Co(e,o,i);break;case 3:case 4:var c=n.stateNode.containerInfo,u=xu(e);Rd(e,u,c);break;default:throw Error(D(161))}}catch(d){Ne(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Jn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$x(e,t.alternate,t),t=t.sibling}function Vs(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:As(4,t,t.return),Vs(t);break;case 1:vn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&Lx(t,t.return,n),Vs(t);break;case 27:xl(t.stateNode);case 26:case 5:vn(t,t.return),Vs(t);break;case 22:t.memoizedState===null&&Vs(t);break;case 30:Vs(t);break;default:Vs(t)}e=e.sibling}}function ss(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,a=e,r=t,i=r.flags;switch(r.tag){case 0:case 11:case 15:ss(a,r,n),ri(4,r);break;case 1:if(ss(a,r,n),s=r,a=s.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){Ne(s,s.return,u)}if(s=r,a=s.updateQueue,a!==null){var o=s.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)$v(c[a],o)}catch(u){Ne(s,s.return,u)}}n&&i&64&&Ux(r),ml(r,r.return);break;case 27:Px(r);case 26:case 5:ss(a,r,n),n&&s===null&&i&4&&Ix(r),ml(r,r.return);break;case 12:ss(a,r,n);break;case 13:ss(a,r,n),n&&i&4&&qx(a,r);break;case 22:r.memoizedState===null&&ss(a,r,n),ml(r,r.return);break;case 30:break;default:ss(a,r,n)}t=t.sibling}}function lh(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ti(n))}function ih(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ti(e))}function hn(e,t,n,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yx(e,t,n,s),t=t.sibling}function Yx(e,t,n,s){var a=t.flags;switch(t.tag){case 0:case 11:case 15:hn(e,t,n,s),a&2048&&ri(9,t);break;case 1:hn(e,t,n,s);break;case 3:hn(e,t,n,s),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ti(e)));break;case 12:if(a&2048){hn(e,t,n,s),e=t.stateNode;try{var r=t.memoizedProps,i=r.id,o=r.onPostCommit;typeof o=="function"&&o(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){Ne(t,t.return,c)}}else hn(e,t,n,s);break;case 13:hn(e,t,n,s);break;case 23:break;case 22:r=t.stateNode,i=t.alternate,t.memoizedState!==null?r._visibility&2?hn(e,t,n,s):pl(e,t):r._visibility&2?hn(e,t,n,s):(r._visibility|=2,Da(e,t,n,s,(t.subtreeFlags&10256)!==0)),a&2048&&lh(i,t);break;case 24:hn(e,t,n,s),a&2048&&ih(t.alternate,t);break;default:hn(e,t,n,s)}}function Da(e,t,n,s,a){for(a=a&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var r=e,i=t,o=n,c=s,u=i.flags;switch(i.tag){case 0:case 11:case 15:Da(r,i,o,c,a),ri(8,i);break;case 23:break;case 22:var d=i.stateNode;i.memoizedState!==null?d._visibility&2?Da(r,i,o,c,a):pl(r,i):(d._visibility|=2,Da(r,i,o,c,a)),a&&u&2048&&lh(i.alternate,i);break;case 24:Da(r,i,o,c,a),a&&u&2048&&ih(i.alternate,i);break;default:Da(r,i,o,c,a)}t=t.sibling}}function pl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,s=t,a=s.flags;switch(s.tag){case 22:pl(n,s),a&2048&&lh(s.alternate,s);break;case 24:pl(n,s),a&2048&&ih(s.alternate,s);break;default:pl(n,s)}t=t.sibling}}var el=8192;function wa(e){if(e.subtreeFlags&el)for(e=e.child;e!==null;)Xx(e),e=e.sibling}function Xx(e){switch(e.tag){case 26:wa(e),e.flags&el&&e.memoizedState!==null&&N1(nn,e.memoizedState,e.memoizedProps);break;case 5:wa(e);break;case 3:case 4:var t=nn;nn=Uo(e.stateNode.containerInfo),wa(e),nn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=el,el=16777216,wa(e),el=t):wa(e));break;default:wa(e)}}function Kx(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Yr(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ke=s,Qx(s,e)}Kx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Fx(e),e=e.sibling}function Fx(e){switch(e.tag){case 0:case 11:case 15:Yr(e),e.flags&2048&&As(9,e,e.return);break;case 3:Yr(e);break;case 12:Yr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,to(e)):Yr(e);break;default:Yr(e)}}function to(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var s=t[n];Ke=s,Qx(s,e)}Kx(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:As(8,t,t.return),to(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,to(t));break;default:to(t)}e=e.sibling}}function Qx(e,t){for(;Ke!==null;){var n=Ke;switch(n.tag){case 0:case 11:case 15:As(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var s=n.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:ti(n.memoizedState.cache)}if(s=n.child,s!==null)s.return=n,Ke=s;else e:for(n=e;Ke!==null;){s=Ke;var a=s.sibling,r=s.return;if(Bx(s),s===n){Ke=null;break e}if(a!==null){a.return=r,Ke=a;break e}Ke=r}}}var PS={getCacheForType:function(e){var t=lt(qe),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n}},$S=typeof WeakMap=="function"?WeakMap:Map,ve=0,Ee=null,oe=null,fe=0,ge=0,_t=null,vs=!1,Cr=!1,oh=!1,Yn=0,ke=0,Os=0,Js=0,ch=0,Vt=0,mr=0,gl=null,vt=null,Md=!1,uh=0,Ao=1/0,Oo=null,Ns=null,tt=0,Ss=null,pr=null,sr=0,Dd=0,kd=null,Zx=null,vl=0,Ud=null;function Ot(){if(ve&2&&fe!==0)return fe&-fe;if(K.T!==null){var e=ur;return e!==0?e:fh()}return ov()}function Wx(){Vt===0&&(Vt=!(fe&536870912)||me?av():536870912);var e=Zt.current;return e!==null&&(e.flags|=32),Vt}function Rt(e,t,n){(e===Ee&&(ge===2||ge===9)||e.cancelPendingCommit!==null)&&(gr(e,0),xs(e,fe,Vt,!1)),Ql(e,n),(!(ve&2)||e!==Ee)&&(e===Ee&&(!(ve&2)&&(Js|=n),ke===4&&xs(e,fe,Vt,!1)),Tn(e))}function Jx(e,t,n){if(ve&6)throw Error(D(327));var s=!n&&(t&124)===0&&(t&e.expiredLanes)===0||Fl(e,t),a=s?qS(e,t):wu(e,t,!0),r=s;do{if(a===0){Cr&&!s&&xs(e,t,0,!1);break}else{if(n=e.current.alternate,r&&!BS(n)){a=wu(e,t,!1),r=!1;continue}if(a===2){if(r=t,e.errorRecoveryDisabledLanes&r)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var o=e;a=gl;var c=o.current.memoizedState.isDehydrated;if(c&&(gr(o,i).flags|=256),i=wu(o,i,!1),i!==2){if(oh&&!c){o.errorRecoveryDisabledLanes|=r,Js|=r,a=4;break e}r=vt,vt=a,r!==null&&(vt===null?vt=r:vt.push.apply(vt,r))}a=i}if(r=!1,a!==2)continue}}if(a===1){gr(e,0),xs(e,t,0,!0);break}e:{switch(s=e,r=a,r){case 0:case 1:throw Error(D(345));case 4:if((t&4194048)!==t)break;case 6:xs(s,t,Vt,!vs);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(D(329))}if((t&62914560)===t&&(a=uh+300-bn(),10<a)){if(xs(s,t,Vt,!vs),ac(s,0,!0)!==0)break e;s.timeoutHandle=x0(rp.bind(null,s,n,vt,Oo,Md,t,Vt,Js,mr,vs,r,2,-0,0),a);break e}rp(s,n,vt,Oo,Md,t,Vt,Js,mr,vs,r,0,-0,0)}}break}while(!0);Tn(e)}function rp(e,t,n,s,a,r,i,o,c,u,d,f,h,p){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:j1},Xx(t),f=S1(),f!==null)){e.cancelPendingCommit=f(ip.bind(null,e,t,r,n,s,a,i,o,c,d,1,h,p)),xs(e,r,i,!u);return}ip(e,t,r,n,s,a,i,o,c)}function BS(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var s=0;s<n.length;s++){var a=n[s],r=a.getSnapshot;a=a.value;try{if(!Ut(r(),a))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xs(e,t,n,s){t&=~ch,t&=~Js,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var a=t;0<a;){var r=31-At(a),i=1<<r;s[r]=-1,a&=~i}n!==0&&lv(e,n,t)}function mc(){return ve&6?!0:(li(0),!1)}function dh(){if(oe!==null){if(ge===0)var e=oe.return;else e=oe,Pn=ga=null,Zf(e),nr=null,Al=0,e=oe;for(;e!==null;)kx(e.alternate,e),e=e.return;oe=null}}function gr(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,r1(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),dh(),Ee=e,oe=n=Bn(e.current,null),fe=t,ge=0,_t=null,vs=!1,Cr=Fl(e,t),oh=!1,mr=Vt=ch=Js=Os=ke=0,vt=gl=null,Md=!1,t&8&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var a=31-At(s),r=1<<a;t|=e[a],s&=~r}return Yn=t,oc(),n}function e0(e,t){ae=null,K.H=No,t===ni||t===uc?(t=Im(),ge=3):t===zv?(t=Im(),ge=4):ge=t===Cx?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,_t=t,oe===null&&(ke=1,Eo(e,Gt(t,e.current)))}function t0(){var e=K.H;return K.H=No,e===null?No:e}function n0(){var e=K.A;return K.A=PS,e}function Ld(){ke=4,vs||(fe&4194048)!==fe&&Zt.current!==null||(Cr=!0),!(Os&134217727)&&!(Js&134217727)||Ee===null||xs(Ee,fe,Vt,!1)}function wu(e,t,n){var s=ve;ve|=2;var a=t0(),r=n0();(Ee!==e||fe!==t)&&(Oo=null,gr(e,t)),t=!1;var i=ke;e:do try{if(ge!==0&&oe!==null){var o=oe,c=_t;switch(ge){case 8:dh(),i=6;break e;case 3:case 2:case 9:case 6:Zt.current===null&&(t=!0);var u=ge;if(ge=0,_t=null,Ka(e,o,c,u),n&&Cr){i=0;break e}break;default:u=ge,ge=0,_t=null,Ka(e,o,c,u)}}HS(),i=ke;break}catch(d){e0(e,d)}while(!0);return t&&e.shellSuspendCounter++,Pn=ga=null,ve=s,K.H=a,K.A=r,oe===null&&(Ee=null,fe=0,oc()),i}function HS(){for(;oe!==null;)s0(oe)}function qS(e,t){var n=ve;ve|=2;var s=t0(),a=n0();Ee!==e||fe!==t?(Oo=null,Ao=bn()+500,gr(e,t)):Cr=Fl(e,t);e:do try{if(ge!==0&&oe!==null){t=oe;var r=_t;t:switch(ge){case 1:ge=0,_t=null,Ka(e,t,r,1);break;case 2:case 9:if(Lm(r)){ge=0,_t=null,lp(t);break}t=function(){ge!==2&&ge!==9||Ee!==e||(ge=7),Tn(e)},r.then(t,t);break e;case 3:ge=7;break e;case 4:ge=5;break e;case 7:Lm(r)?(ge=0,_t=null,lp(t)):(ge=0,_t=null,Ka(e,t,r,7));break;case 5:var i=null;switch(oe.tag){case 26:i=oe.memoizedState;case 5:case 27:var o=oe;if(!i||j0(i)){ge=0,_t=null;var c=o.sibling;if(c!==null)oe=c;else{var u=o.return;u!==null?(oe=u,pc(u)):oe=null}break t}}ge=0,_t=null,Ka(e,t,r,5);break;case 6:ge=0,_t=null,Ka(e,t,r,6);break;case 8:dh(),ke=6;break e;default:throw Error(D(462))}}GS();break}catch(d){e0(e,d)}while(!0);return Pn=ga=null,K.H=s,K.A=a,ve=n,oe!==null?0:(Ee=null,fe=0,oc(),ke)}function GS(){for(;oe!==null&&!fN();)s0(oe)}function s0(e){var t=Dx(e.alternate,e,Yn);e.memoizedProps=e.pendingProps,t===null?pc(e):oe=t}function lp(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Jm(n,t,t.pendingProps,t.type,void 0,fe);break;case 11:t=Jm(n,t,t.pendingProps,t.type.render,t.ref,fe);break;case 5:Zf(t);default:kx(n,t),t=oe=kv(t,Yn),t=Dx(n,t,Yn)}e.memoizedProps=e.pendingProps,t===null?pc(e):oe=t}function Ka(e,t,n,s){Pn=ga=null,Zf(t),nr=null,Al=0;var a=t.return;try{if(DS(e,a,t,n,fe)){ke=1,Eo(e,Gt(n,e.current)),oe=null;return}}catch(r){if(a!==null)throw oe=a,r;ke=1,Eo(e,Gt(n,e.current)),oe=null;return}t.flags&32768?(me||s===1?e=!0:Cr||fe&536870912?e=!1:(vs=e=!0,(s===2||s===9||s===3||s===6)&&(s=Zt.current,s!==null&&s.tag===13&&(s.flags|=16384))),a0(t,e)):pc(t)}function pc(e){var t=e;do{if(t.flags&32768){a0(t,vs);return}e=t.return;var n=US(t.alternate,t,Yn);if(n!==null){oe=n;return}if(t=t.sibling,t!==null){oe=t;return}oe=t=e}while(t!==null);ke===0&&(ke=5)}function a0(e,t){do{var n=LS(e.alternate,e);if(n!==null){n.flags&=32767,oe=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){oe=e;return}oe=e=n}while(e!==null);ke=6,oe=null}function ip(e,t,n,s,a,r,i,o,c){e.cancelPendingCommit=null;do gc();while(tt!==0);if(ve&6)throw Error(D(327));if(t!==null){if(t===e.current)throw Error(D(177));if(r=t.lanes|t.childLanes,r|=zf,jN(e,n,r,i,o,c),e===Ee&&(oe=Ee=null,fe=0),pr=t,Ss=e,sr=n,Dd=r,kd=a,Zx=s,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,KS(ho,function(){return c0(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,t.subtreeFlags&13878||s){s=K.T,K.T=null,a=pe.p,pe.p=2,i=ve,ve|=4;try{IS(e,t,n)}finally{ve=i,pe.p=a,K.T=s}}tt=1,r0(),l0(),i0()}}function r0(){if(tt===1){tt=0;var e=Ss,t=pr,n=(t.flags&13878)!==0;if(t.subtreeFlags&13878||n){n=K.T,K.T=null;var s=pe.p;pe.p=2;var a=ve;ve|=4;try{Gx(t,e);var r=$d,i=Ev(e.containerInfo),o=r.focusedElem,c=r.selectionRange;if(i!==o&&o&&o.ownerDocument&&_v(o.ownerDocument.documentElement,o)){if(c!==null&&If(o)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in o)o.selectionStart=u,o.selectionEnd=Math.min(d,o.value.length);else{var f=o.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var p=h.getSelection(),y=o.textContent.length,x=Math.min(c.start,y),w=c.end===void 0?x:Math.min(c.end,y);!p.extend&&x>w&&(i=w,w=x,x=i);var b=Cm(o,x),v=Cm(o,w);if(b&&v&&(p.rangeCount!==1||p.anchorNode!==b.node||p.anchorOffset!==b.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var g=f.createRange();g.setStart(b.node,b.offset),p.removeAllRanges(),x>w?(p.addRange(g),p.extend(v.node,v.offset)):(g.setEnd(v.node,v.offset),p.addRange(g))}}}}for(f=[],p=o;p=p.parentNode;)p.nodeType===1&&f.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<f.length;o++){var j=f[o];j.element.scrollLeft=j.left,j.element.scrollTop=j.top}}zo=!!Pd,$d=Pd=null}finally{ve=a,pe.p=s,K.T=n}}e.current=t,tt=2}}function l0(){if(tt===2){tt=0;var e=Ss,t=pr,n=(t.flags&8772)!==0;if(t.subtreeFlags&8772||n){n=K.T,K.T=null;var s=pe.p;pe.p=2;var a=ve;ve|=4;try{$x(e,t.alternate,t)}finally{ve=a,pe.p=s,K.T=n}}tt=3}}function i0(){if(tt===4||tt===3){tt=0,hN();var e=Ss,t=pr,n=sr,s=Zx;t.subtreeFlags&10256||t.flags&10256?tt=5:(tt=0,pr=Ss=null,o0(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Ns=null),Of(n),t=t.stateNode,Ct&&typeof Ct.onCommitFiberRoot=="function")try{Ct.onCommitFiberRoot(Kl,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=K.T,a=pe.p,pe.p=2,K.T=null;try{for(var r=e.onRecoverableError,i=0;i<s.length;i++){var o=s[i];r(o.value,{componentStack:o.stack})}}finally{K.T=t,pe.p=a}}sr&3&&gc(),Tn(e),a=e.pendingLanes,n&4194090&&a&42?e===Ud?vl++:(vl=0,Ud=e):vl=0,li(0)}}function o0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ti(t)))}function gc(e){return r0(),l0(),i0(),c0()}function c0(){if(tt!==5)return!1;var e=Ss,t=Dd;Dd=0;var n=Of(sr),s=K.T,a=pe.p;try{pe.p=32>n?32:n,K.T=null,n=kd,kd=null;var r=Ss,i=sr;if(tt=0,pr=Ss=null,sr=0,ve&6)throw Error(D(331));var o=ve;if(ve|=4,Fx(r.current),Yx(r,r.current,i,n),ve=o,li(0,!1),Ct&&typeof Ct.onPostCommitFiberRoot=="function")try{Ct.onPostCommitFiberRoot(Kl,r)}catch{}return!0}finally{pe.p=a,K.T=s,o0(e,t)}}function op(e,t,n){t=Gt(n,t),t=Cd(e.stateNode,t,2),e=js(e,t,2),e!==null&&(Ql(e,2),Tn(e))}function Ne(e,t,n){if(e.tag===3)op(e,e,n);else for(;t!==null;){if(t.tag===3){op(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Ns===null||!Ns.has(s))){e=Gt(n,e),n=Ex(2),s=js(t,n,2),s!==null&&(Tx(n,s,t,e),Ql(s,2),Tn(s));break}}t=t.return}}function ju(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new $S;var a=new Set;s.set(t,a)}else a=s.get(t),a===void 0&&(a=new Set,s.set(t,a));a.has(n)||(oh=!0,a.add(n),e=VS.bind(null,e,t,n),t.then(e,e))}function VS(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Ee===e&&(fe&n)===n&&(ke===4||ke===3&&(fe&62914560)===fe&&300>bn()-uh?!(ve&2)&&gr(e,0):ch|=n,mr===fe&&(mr=0)),Tn(e)}function u0(e,t){t===0&&(t=rv()),e=Tr(e,t),e!==null&&(Ql(e,t),Tn(e))}function YS(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),u0(e,n)}function XS(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(D(314))}s!==null&&s.delete(t),u0(e,n)}function KS(e,t){return Cf(e,t)}var Ro=null,ka=null,Id=!1,Mo=!1,Nu=!1,ea=0;function Tn(e){e!==ka&&e.next===null&&(ka===null?Ro=ka=e:ka=ka.next=e),Mo=!0,Id||(Id=!0,QS())}function li(e,t){if(!Nu&&Mo){Nu=!0;do for(var n=!1,s=Ro;s!==null;){if(e!==0){var a=s.pendingLanes;if(a===0)var r=0;else{var i=s.suspendedLanes,o=s.pingedLanes;r=(1<<31-At(42|e)+1)-1,r&=a&~(i&~o),r=r&201326741?r&201326741|1:r?r|2:0}r!==0&&(n=!0,cp(s,r))}else r=fe,r=ac(s,s===Ee?r:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),!(r&3)||Fl(s,r)||(n=!0,cp(s,r));s=s.next}while(n);Nu=!1}}function FS(){d0()}function d0(){Mo=Id=!1;var e=0;ea!==0&&(a1()&&(e=ea),ea=0);for(var t=bn(),n=null,s=Ro;s!==null;){var a=s.next,r=f0(s,t);r===0?(s.next=null,n===null?Ro=a:n.next=a,a===null&&(ka=n)):(n=s,(e!==0||r&3)&&(Mo=!0)),s=a}li(e)}function f0(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,a=e.expirationTimes,r=e.pendingLanes&-62914561;0<r;){var i=31-At(r),o=1<<i,c=a[i];c===-1?(!(o&n)||o&s)&&(a[i]=wN(o,t)):c<=t&&(e.expiredLanes|=o),r&=~o}if(t=Ee,n=fe,n=ac(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,n===0||e===t&&(ge===2||ge===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Fc(s),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Fl(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(s!==null&&Fc(s),Of(n)){case 2:case 8:n=nv;break;case 32:n=ho;break;case 268435456:n=sv;break;default:n=ho}return s=h0.bind(null,e),n=Cf(n,s),e.callbackPriority=t,e.callbackNode=n,t}return s!==null&&s!==null&&Fc(s),e.callbackPriority=2,e.callbackNode=null,2}function h0(e,t){if(tt!==0&&tt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(gc()&&e.callbackNode!==n)return null;var s=fe;return s=ac(e,e===Ee?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Jx(e,s,t),f0(e,bn()),e.callbackNode!=null&&e.callbackNode===n?h0.bind(null,e):null)}function cp(e,t){if(gc())return null;Jx(e,t,!0)}function QS(){l1(function(){ve&6?Cf(tv,FS):d0()})}function fh(){return ea===0&&(ea=av()),ea}function up(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xi(""+e)}function dp(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function ZS(e,t,n,s,a){if(t==="submit"&&n&&n.stateNode===a){var r=up((a[bt]||null).action),i=s.submitter;i&&(t=(t=i[bt]||null)?up(t.formAction):i.getAttribute("formAction"),t!==null&&(r=t,i=null));var o=new rc("action","action",null,s,a);e.push({event:o,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ea!==0){var c=i?dp(a,i):new FormData(a);Ed(n,{pending:!0,data:c,method:a.method,action:r},null,c)}}else typeof r=="function"&&(o.preventDefault(),c=i?dp(a,i):new FormData(a),Ed(n,{pending:!0,data:c,method:a.method,action:r},r,c))},currentTarget:a}]})}}for(var Su=0;Su<md.length;Su++){var _u=md[Su],WS=_u.toLowerCase(),JS=_u[0].toUpperCase()+_u.slice(1);un(WS,"on"+JS)}un(Cv,"onAnimationEnd");un(Av,"onAnimationIteration");un(Ov,"onAnimationStart");un("dblclick","onDoubleClick");un("focusin","onFocus");un("focusout","onBlur");un(gS,"onTransitionRun");un(vS,"onTransitionStart");un(xS,"onTransitionCancel");un(Rv,"onTransitionEnd");or("onMouseEnter",["mouseout","mouseover"]);or("onMouseLeave",["mouseout","mouseover"]);or("onPointerEnter",["pointerout","pointerover"]);or("onPointerLeave",["pointerout","pointerover"]);ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),e1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ol));function m0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],a=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var i=s.length-1;0<=i;i--){var o=s[i],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==r&&a.isPropagationStopped())break e;r=o,a.currentTarget=u;try{r(a)}catch(d){_o(d)}a.currentTarget=null,r=c}else for(i=0;i<s.length;i++){if(o=s[i],c=o.instance,u=o.currentTarget,o=o.listener,c!==r&&a.isPropagationStopped())break e;r=o,a.currentTarget=u;try{r(a)}catch(d){_o(d)}a.currentTarget=null,r=c}}}}function ie(e,t){var n=t[id];n===void 0&&(n=t[id]=new Set);var s=e+"__bubble";n.has(s)||(p0(t,e,2,!1),n.add(s))}function Eu(e,t,n){var s=0;t&&(s|=4),p0(n,e,s,t)}var Ri="_reactListening"+Math.random().toString(36).slice(2);function hh(e){if(!e[Ri]){e[Ri]=!0,cv.forEach(function(n){n!=="selectionchange"&&(e1.has(n)||Eu(n,!1,e),Eu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ri]||(t[Ri]=!0,Eu("selectionchange",!1,t))}}function p0(e,t,n,s){switch(T0(t)){case 2:var a=T1;break;case 8:a=C1;break;default:a=vh}n=a.bind(null,t,n,e),a=void 0,!dd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),s?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Tu(e,t,n,s,a){var r=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var i=s.tag;if(i===3||i===4){var o=s.stateNode.containerInfo;if(o===a)break;if(i===4)for(i=s.return;i!==null;){var c=i.tag;if((c===3||c===4)&&i.stateNode.containerInfo===a)return;i=i.return}for(;o!==null;){if(i=Pa(o),i===null)return;if(c=i.tag,c===5||c===6||c===26||c===27){s=r=i;continue e}o=o.parentNode}}s=s.return}vv(function(){var u=r,d=Df(n),f=[];e:{var h=Mv.get(e);if(h!==void 0){var p=rc,y=e;switch(e){case"keypress":if(Fi(n)===0)break e;case"keydown":case"keyup":p=KN;break;case"focusin":y="focus",p=su;break;case"focusout":y="blur",p=su;break;case"beforeblur":case"afterblur":p=su;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=LN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=ZN;break;case Cv:case Av:case Ov:p=PN;break;case Rv:p=JN;break;case"scroll":case"scrollend":p=kN;break;case"wheel":p=tS;break;case"copy":case"cut":case"paste":p=BN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bm;break;case"toggle":case"beforetoggle":p=sS}var x=(t&4)!==0,w=!x&&(e==="scroll"||e==="scrollend"),b=x?h!==null?h+"Capture":null:h;x=[];for(var v=u,g;v!==null;){var j=v;if(g=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||g===null||b===null||(j=Sl(v,b),j!=null&&x.push(Rl(v,j,g))),w)break;v=v.return}0<x.length&&(h=new p(h,y,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==ud&&(y=n.relatedTarget||n.fromElement)&&(Pa(y)||y[_r]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?Pa(y):null,y!==null&&(w=Xl(y),x=y.tag,y!==w||x!==5&&x!==27&&x!==6)&&(y=null)):(p=null,y=u),p!==y)){if(x=xm,j="onMouseLeave",b="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(x=bm,j="onPointerLeave",b="onPointerEnter",v="pointer"),w=p==null?h:Jr(p),g=y==null?h:Jr(y),h=new x(j,v+"leave",p,n,d),h.target=w,h.relatedTarget=g,j=null,Pa(d)===u&&(x=new x(b,v+"enter",y,n,d),x.target=g,x.relatedTarget=w,j=x),w=j,p&&y)t:{for(x=p,b=y,v=0,g=x;g;g=ja(g))v++;for(g=0,j=b;j;j=ja(j))g++;for(;0<v-g;)x=ja(x),v--;for(;0<g-v;)b=ja(b),g--;for(;v--;){if(x===b||b!==null&&x===b.alternate)break t;x=ja(x),b=ja(b)}x=null}else x=null;p!==null&&fp(f,h,p,x,!1),y!==null&&w!==null&&fp(f,w,y,x,!0)}}e:{if(h=u?Jr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var N=Sm;else if(Nm(h))if(Nv)N=hS;else{N=dS;var S=uS}else p=h.nodeName,!p||p.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Mf(u.elementType)&&(N=Sm):N=fS;if(N&&(N=N(e,u))){jv(f,N,n,d);break e}S&&S(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&cd(h,"number",h.value)}switch(S=u?Jr(u):window,e){case"focusin":(Nm(S)||S.contentEditable==="true")&&(Ha=S,fd=u,il=null);break;case"focusout":il=fd=Ha=null;break;case"mousedown":hd=!0;break;case"contextmenu":case"mouseup":case"dragend":hd=!1,Am(f,n,d);break;case"selectionchange":if(pS)break;case"keydown":case"keyup":Am(f,n,d)}var _;if(Lf)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Ba?bv(e,n)&&(A="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(yv&&n.locale!=="ko"&&(Ba||A!=="onCompositionStart"?A==="onCompositionEnd"&&Ba&&(_=xv()):(gs=d,kf="value"in gs?gs.value:gs.textContent,Ba=!0)),S=Do(u,A),0<S.length&&(A=new ym(A,e,null,n,d),f.push({event:A,listeners:S}),_?A.data=_:(_=wv(n),_!==null&&(A.data=_)))),(_=rS?lS(e,n):iS(e,n))&&(A=Do(u,"onBeforeInput"),0<A.length&&(S=new ym("onBeforeInput","beforeinput",null,n,d),f.push({event:S,listeners:A}),S.data=_)),ZS(f,e,u,n,d)}m0(f,t)})}function Rl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Do(e,t){for(var n=t+"Capture",s=[];e!==null;){var a=e,r=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||r===null||(a=Sl(e,n),a!=null&&s.unshift(Rl(e,a,r)),a=Sl(e,t),a!=null&&s.push(Rl(e,a,r))),e.tag===3)return s;e=e.return}return[]}function ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fp(e,t,n,s,a){for(var r=t._reactName,i=[];n!==null&&n!==s;){var o=n,c=o.alternate,u=o.stateNode;if(o=o.tag,c!==null&&c===s)break;o!==5&&o!==26&&o!==27||u===null||(c=u,a?(u=Sl(n,r),u!=null&&i.unshift(Rl(n,u,c))):a||(u=Sl(n,r),u!=null&&i.push(Rl(n,u,c)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var t1=/\r\n?/g,n1=/\u0000|\uFFFD/g;function hp(e){return(typeof e=="string"?e:""+e).replace(t1,`
`).replace(n1,"")}function g0(e,t){return t=hp(t),hp(e)===t}function vc(){}function be(e,t,n,s,a,r){switch(n){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||cr(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&cr(e,""+s);break;case"className":Si(e,"class",s);break;case"tabIndex":Si(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Si(e,n,s);break;case"style":gv(e,s,r);break;case"data":if(t!=="object"){Si(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Xi(""+s),e.setAttribute(n,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof r=="function"&&(n==="formAction"?(t!=="input"&&be(e,t,"name",a.name,a,null),be(e,t,"formEncType",a.formEncType,a,null),be(e,t,"formMethod",a.formMethod,a,null),be(e,t,"formTarget",a.formTarget,a,null)):(be(e,t,"encType",a.encType,a,null),be(e,t,"method",a.method,a,null),be(e,t,"target",a.target,a,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(n);break}s=Xi(""+s),e.setAttribute(n,s);break;case"onClick":s!=null&&(e.onclick=vc);break;case"onScroll":s!=null&&ie("scroll",e);break;case"onScrollEnd":s!=null&&ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(D(61));if(n=s.__html,n!=null){if(a.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}n=Xi(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""+s):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":s===!0?e.setAttribute(n,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(n,s):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(n,s):e.removeAttribute(n);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(n):e.setAttribute(n,s);break;case"popover":ie("beforetoggle",e),ie("toggle",e),Yi(e,"popover",s);break;case"xlinkActuate":An(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":An(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":An(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":An(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":An(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":An(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":An(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":An(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":An(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Yi(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=MN.get(n)||n,Yi(e,n,s))}}function zd(e,t,n,s,a,r){switch(n){case"style":gv(e,s,r);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(D(61));if(n=s.__html,n!=null){if(a.children!=null)throw Error(D(60));e.innerHTML=n}}break;case"children":typeof s=="string"?cr(e,s):(typeof s=="number"||typeof s=="bigint")&&cr(e,""+s);break;case"onScroll":s!=null&&ie("scroll",e);break;case"onScrollEnd":s!=null&&ie("scrollend",e);break;case"onClick":s!=null&&(e.onclick=vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uv.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(a=n.endsWith("Capture"),t=n.slice(2,a?n.length-7:void 0),r=e[bt]||null,r=r!=null?r[n]:null,typeof r=="function"&&e.removeEventListener(t,r,a),typeof s=="function")){typeof r!="function"&&r!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,s,a);break e}n in e?e[n]=s:s===!0?e.setAttribute(n,""):Yi(e,n,s)}}}function st(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ie("error",e),ie("load",e);var s=!1,a=!1,r;for(r in n)if(n.hasOwnProperty(r)){var i=n[r];if(i!=null)switch(r){case"src":s=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:be(e,t,r,i,n,null)}}a&&be(e,t,"srcSet",n.srcSet,n,null),s&&be(e,t,"src",n.src,n,null);return;case"input":ie("invalid",e);var o=r=i=a=null,c=null,u=null;for(s in n)if(n.hasOwnProperty(s)){var d=n[s];if(d!=null)switch(s){case"name":a=d;break;case"type":i=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":r=d;break;case"defaultValue":o=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(D(137,t));break;default:be(e,t,s,d,n,null)}}hv(e,r,o,c,u,i,a,!1),mo(e);return;case"select":ie("invalid",e),s=i=r=null;for(a in n)if(n.hasOwnProperty(a)&&(o=n[a],o!=null))switch(a){case"value":r=o;break;case"defaultValue":i=o;break;case"multiple":s=o;default:be(e,t,a,o,n,null)}t=r,n=i,e.multiple=!!s,t!=null?Za(e,!!s,t,!1):n!=null&&Za(e,!!s,n,!0);return;case"textarea":ie("invalid",e),r=a=s=null;for(i in n)if(n.hasOwnProperty(i)&&(o=n[i],o!=null))switch(i){case"value":s=o;break;case"defaultValue":a=o;break;case"children":r=o;break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(D(91));break;default:be(e,t,i,o,n,null)}pv(e,s,a,r),mo(e);return;case"option":for(c in n)if(n.hasOwnProperty(c)&&(s=n[c],s!=null))switch(c){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:be(e,t,c,s,n,null)}return;case"dialog":ie("beforetoggle",e),ie("toggle",e),ie("cancel",e),ie("close",e);break;case"iframe":case"object":ie("load",e);break;case"video":case"audio":for(s=0;s<Ol.length;s++)ie(Ol[s],e);break;case"image":ie("error",e),ie("load",e);break;case"details":ie("toggle",e);break;case"embed":case"source":case"link":ie("error",e),ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&(s=n[u],s!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(D(137,t));default:be(e,t,u,s,n,null)}return;default:if(Mf(t)){for(d in n)n.hasOwnProperty(d)&&(s=n[d],s!==void 0&&zd(e,t,d,s,n,void 0));return}}for(o in n)n.hasOwnProperty(o)&&(s=n[o],s!=null&&be(e,t,o,s,n,null))}function s1(e,t,n,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,r=null,i=null,o=null,c=null,u=null,d=null;for(p in n){var f=n[p];if(n.hasOwnProperty(p)&&f!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":c=f;default:s.hasOwnProperty(p)||be(e,t,p,null,s,f)}}for(var h in s){var p=s[h];if(f=n[h],s.hasOwnProperty(h)&&(p!=null||f!=null))switch(h){case"type":r=p;break;case"name":a=p;break;case"checked":u=p;break;case"defaultChecked":d=p;break;case"value":i=p;break;case"defaultValue":o=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(D(137,t));break;default:p!==f&&be(e,t,h,p,s,f)}}od(e,i,o,c,u,d,r,a);return;case"select":p=i=o=h=null;for(r in n)if(c=n[r],n.hasOwnProperty(r)&&c!=null)switch(r){case"value":break;case"multiple":p=c;default:s.hasOwnProperty(r)||be(e,t,r,null,s,c)}for(a in s)if(r=s[a],c=n[a],s.hasOwnProperty(a)&&(r!=null||c!=null))switch(a){case"value":h=r;break;case"defaultValue":o=r;break;case"multiple":i=r;default:r!==c&&be(e,t,a,r,s,c)}t=o,n=i,s=p,h!=null?Za(e,!!n,h,!1):!!s!=!!n&&(t!=null?Za(e,!!n,t,!0):Za(e,!!n,n?[]:"",!1));return;case"textarea":p=h=null;for(o in n)if(a=n[o],n.hasOwnProperty(o)&&a!=null&&!s.hasOwnProperty(o))switch(o){case"value":break;case"children":break;default:be(e,t,o,null,s,a)}for(i in s)if(a=s[i],r=n[i],s.hasOwnProperty(i)&&(a!=null||r!=null))switch(i){case"value":h=a;break;case"defaultValue":p=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(D(91));break;default:a!==r&&be(e,t,i,a,s,r)}mv(e,h,p);return;case"option":for(var y in n)if(h=n[y],n.hasOwnProperty(y)&&h!=null&&!s.hasOwnProperty(y))switch(y){case"selected":e.selected=!1;break;default:be(e,t,y,null,s,h)}for(c in s)if(h=s[c],p=n[c],s.hasOwnProperty(c)&&h!==p&&(h!=null||p!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:be(e,t,c,h,s,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in n)h=n[x],n.hasOwnProperty(x)&&h!=null&&!s.hasOwnProperty(x)&&be(e,t,x,null,s,h);for(u in s)if(h=s[u],p=n[u],s.hasOwnProperty(u)&&h!==p&&(h!=null||p!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(D(137,t));break;default:be(e,t,u,h,s,p)}return;default:if(Mf(t)){for(var w in n)h=n[w],n.hasOwnProperty(w)&&h!==void 0&&!s.hasOwnProperty(w)&&zd(e,t,w,void 0,s,h);for(d in s)h=s[d],p=n[d],!s.hasOwnProperty(d)||h===p||h===void 0&&p===void 0||zd(e,t,d,h,s,p);return}}for(var b in n)h=n[b],n.hasOwnProperty(b)&&h!=null&&!s.hasOwnProperty(b)&&be(e,t,b,null,s,h);for(f in s)h=s[f],p=n[f],!s.hasOwnProperty(f)||h===p||h==null&&p==null||be(e,t,f,h,s,p)}var Pd=null,$d=null;function ko(e){return e.nodeType===9?e:e.ownerDocument}function mp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Bd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cu=null;function a1(){var e=window.event;return e&&e.type==="popstate"?e===Cu?!1:(Cu=e,!0):(Cu=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,r1=typeof clearTimeout=="function"?clearTimeout:void 0,pp=typeof Promise=="function"?Promise:void 0,l1=typeof queueMicrotask=="function"?queueMicrotask:typeof pp<"u"?function(e){return pp.resolve(null).then(e).catch(i1)}:x0;function i1(e){setTimeout(function(){throw e})}function Us(e){return e==="head"}function gp(e,t){var n=t,s=0,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(0<s&&8>s){n=s;var i=e.ownerDocument;if(n&1&&xl(i.documentElement),n&2&&xl(i.body),n&4)for(n=i.head,xl(n),i=n.firstChild;i;){var o=i.nextSibling,c=i.nodeName;i[Zl]||c==="SCRIPT"||c==="STYLE"||c==="LINK"&&i.rel.toLowerCase()==="stylesheet"||n.removeChild(i),i=o}}if(a===0){e.removeChild(r),Ll(t);return}a--}else n==="$"||n==="$?"||n==="$!"?a++:s=n.charCodeAt(0)-48;else s=0;n=r}while(n);Ll(t)}function Hd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Hd(n),Rf(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function o1(e,t,n,s){for(;e.nodeType===1;){var a=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Zl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(r=e.getAttribute("rel"),r==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(r!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(r=e.getAttribute("src"),(r!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&r&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var r=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===r)return e}else return e;if(e=ln(e.nextSibling),e===null)break}return null}function c1(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=ln(e.nextSibling),e===null))return null;return e}function qd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function u1(e,t){var n=e.ownerDocument;if(e.data!=="$?"||n.readyState==="complete")t();else{var s=function(){t(),n.removeEventListener("DOMContentLoaded",s)};n.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var Gd=null;function vp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}function y0(e,t,n){switch(t=ko(n),e){case"html":if(e=t.documentElement,!e)throw Error(D(452));return e;case"head":if(e=t.head,!e)throw Error(D(453));return e;case"body":if(e=t.body,!e)throw Error(D(454));return e;default:throw Error(D(451))}}function xl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Rf(e)}var Wt=new Map,xp=new Set;function Uo(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Qn=pe.d;pe.d={f:d1,r:f1,D:h1,C:m1,L:p1,m:g1,X:x1,S:v1,M:y1};function d1(){var e=Qn.f(),t=mc();return e||t}function f1(e){var t=Er(e);t!==null&&t.tag===5&&t.type==="form"?fx(t):Qn.r(e)}var Ar=typeof document>"u"?null:document;function b0(e,t,n){var s=Ar;if(s&&typeof t=="string"&&t){var a=qt(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof n=="string"&&(a+='[crossorigin="'+n+'"]'),xp.has(a)||(xp.add(a),e={rel:e,crossOrigin:n,href:t},s.querySelector(a)===null&&(t=s.createElement("link"),st(t,"link",e),Fe(t),s.head.appendChild(t)))}}function h1(e){Qn.D(e),b0("dns-prefetch",e,null)}function m1(e,t){Qn.C(e,t),b0("preconnect",e,t)}function p1(e,t,n){Qn.L(e,t,n);var s=Ar;if(s&&e&&t){var a='link[rel="preload"][as="'+qt(t)+'"]';t==="image"&&n&&n.imageSrcSet?(a+='[imagesrcset="'+qt(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(a+='[imagesizes="'+qt(n.imageSizes)+'"]')):a+='[href="'+qt(e)+'"]';var r=a;switch(t){case"style":r=vr(e);break;case"script":r=Or(e)}Wt.has(r)||(e=Ce({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),Wt.set(r,e),s.querySelector(a)!==null||t==="style"&&s.querySelector(ii(r))||t==="script"&&s.querySelector(oi(r))||(t=s.createElement("link"),st(t,"link",e),Fe(t),s.head.appendChild(t)))}}function g1(e,t){Qn.m(e,t);var n=Ar;if(n&&e){var s=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+qt(s)+'"][href="'+qt(e)+'"]',r=a;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":r=Or(e)}if(!Wt.has(r)&&(e=Ce({rel:"modulepreload",href:e},t),Wt.set(r,e),n.querySelector(a)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(oi(r)))return}s=n.createElement("link"),st(s,"link",e),Fe(s),n.head.appendChild(s)}}}function v1(e,t,n){Qn.S(e,t,n);var s=Ar;if(s&&e){var a=Qa(s).hoistableStyles,r=vr(e);t=t||"default";var i=a.get(r);if(!i){var o={loading:0,preload:null};if(i=s.querySelector(ii(r)))o.loading=5;else{e=Ce({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Wt.get(r))&&mh(e,n);var c=i=s.createElement("link");Fe(c),st(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){o.loading|=1}),c.addEventListener("error",function(){o.loading|=2}),o.loading|=4,no(i,t,s)}i={type:"stylesheet",instance:i,count:1,state:o},a.set(r,i)}}}function x1(e,t){Qn.X(e,t);var n=Ar;if(n&&e){var s=Qa(n).hoistableScripts,a=Or(e),r=s.get(a);r||(r=n.querySelector(oi(a)),r||(e=Ce({src:e,async:!0},t),(t=Wt.get(a))&&ph(e,t),r=n.createElement("script"),Fe(r),st(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(a,r))}}function y1(e,t){Qn.M(e,t);var n=Ar;if(n&&e){var s=Qa(n).hoistableScripts,a=Or(e),r=s.get(a);r||(r=n.querySelector(oi(a)),r||(e=Ce({src:e,async:!0,type:"module"},t),(t=Wt.get(a))&&ph(e,t),r=n.createElement("script"),Fe(r),st(r,"link",e),n.head.appendChild(r)),r={type:"script",instance:r,count:1,state:null},s.set(a,r))}}function yp(e,t,n,s){var a=(a=bs.current)?Uo(a):null;if(!a)throw Error(D(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=vr(n.href),n=Qa(a).hoistableStyles,s=n.get(t),s||(s={type:"style",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=vr(n.href);var r=Qa(a).hoistableStyles,i=r.get(e);if(i||(a=a.ownerDocument||a,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},r.set(e,i),(r=a.querySelector(ii(e)))&&!r._p&&(i.instance=r,i.state.loading=5),Wt.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Wt.set(e,n),r||b1(a,e,n,i.state))),t&&s===null)throw Error(D(528,""));return i}if(t&&s!==null)throw Error(D(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Or(n),n=Qa(a).hoistableScripts,s=n.get(t),s||(s={type:"script",instance:null,count:0,state:null},n.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(D(444,e))}}function vr(e){return'href="'+qt(e)+'"'}function ii(e){return'link[rel="stylesheet"]['+e+"]"}function w0(e){return Ce({},e,{"data-precedence":e.precedence,precedence:null})}function b1(e,t,n,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),st(t,"link",n),Fe(t),e.head.appendChild(t))}function Or(e){return'[src="'+qt(e)+'"]'}function oi(e){return"script[async]"+e}function bp(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+qt(n.href)+'"]');if(s)return t.instance=s,Fe(s),s;var a=Ce({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Fe(s),st(s,"style",a),no(s,n.precedence,e),t.instance=s;case"stylesheet":a=vr(n.href);var r=e.querySelector(ii(a));if(r)return t.state.loading|=4,t.instance=r,Fe(r),r;s=w0(n),(a=Wt.get(a))&&mh(s,a),r=(e.ownerDocument||e).createElement("link"),Fe(r);var i=r;return i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),st(r,"link",s),t.state.loading|=4,no(r,n.precedence,e),t.instance=r;case"script":return r=Or(n.src),(a=e.querySelector(oi(r)))?(t.instance=a,Fe(a),a):(s=n,(a=Wt.get(r))&&(s=Ce({},n),ph(s,a)),e=e.ownerDocument||e,a=e.createElement("script"),Fe(a),st(a,"link",s),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(D(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(s=t.instance,t.state.loading|=4,no(s,n.precedence,e));return t.instance}function no(e,t,n){for(var s=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=s.length?s[s.length-1]:null,r=a,i=0;i<s.length;i++){var o=s[i];if(o.dataset.precedence===t)r=o;else if(r!==a)break}r?r.parentNode.insertBefore(e,r.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function mh(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function ph(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var so=null;function wp(e,t,n){if(so===null){var s=new Map,a=so=new Map;a.set(n,s)}else a=so,s=a.get(n),s||(s=new Map,a.set(n,s));if(s.has(e))return s;for(s.set(e,null),n=n.getElementsByTagName(e),a=0;a<n.length;a++){var r=n[a];if(!(r[Zl]||r[rt]||e==="link"&&r.getAttribute("rel")==="stylesheet")&&r.namespaceURI!=="http://www.w3.org/2000/svg"){var i=r.getAttribute(t)||"";i=e+i;var o=s.get(i);o?o.push(r):s.set(i,[r])}}return s}function jp(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function w1(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function j0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Ml=null;function j1(){}function N1(e,t,n){if(Ml===null)throw Error(D(475));var s=Ml;if(t.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var a=vr(n.href),r=e.querySelector(ii(a));if(r){e=r._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(s.count++,s=Lo.bind(s),e.then(s,s)),t.state.loading|=4,t.instance=r,Fe(r);return}r=e.ownerDocument||e,n=w0(n),(a=Wt.get(a))&&mh(n,a),r=r.createElement("link"),Fe(r);var i=r;i._p=new Promise(function(o,c){i.onload=o,i.onerror=c}),st(r,"link",n),t.instance=r}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(s.count++,t=Lo.bind(s),e.addEventListener("load",t),e.addEventListener("error",t))}}function S1(){if(Ml===null)throw Error(D(475));var e=Ml;return e.stylesheets&&e.count===0&&Vd(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Vd(e,e.stylesheets),e.unsuspend){var s=e.unsuspend;e.unsuspend=null,s()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}function Lo(){if(this.count--,this.count===0){if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Io=null;function Vd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Io=new Map,t.forEach(_1,e),Io=null,Lo.call(e))}function _1(e,t){if(!(t.state.loading&4)){var n=Io.get(e);if(n)var s=n.get(null);else{n=new Map,Io.set(e,n);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),r=0;r<a.length;r++){var i=a[r];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(n.set(i.dataset.precedence,i),s=i)}s&&n.set(null,s)}a=t.instance,i=a.getAttribute("data-precedence"),r=n.get(i)||s,r===s&&n.set(null,a),n.set(i,a),this.count++,s=Lo.bind(this),a.addEventListener("load",s),a.addEventListener("error",s),r?r.parentNode.insertBefore(a,r.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Dl={$$typeof:Ln,Provider:null,Consumer:null,_currentValue:Ks,_currentValue2:Ks,_threadCount:0};function E1(e,t,n,s,a,r,i,o){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.hiddenUpdates=Qc(null),this.identifierPrefix=s,this.onUncaughtError=a,this.onCaughtError=r,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=o,this.incompleteTransitions=new Map}function N0(e,t,n,s,a,r,i,o,c,u,d,f){return e=new E1(e,t,n,i,o,c,u,f),t=1,r===!0&&(t|=24),r=Tt(3,null,null,t),e.current=r,r.stateNode=e,t=qf(),t.refCount++,e.pooledCache=t,t.refCount++,r.memoizedState={element:s,isDehydrated:n,cache:t},Vf(r),e}function S0(e){return e?(e=Va,e):Va}function _0(e,t,n,s,a,r){a=S0(a),s.context===null?s.context=a:s.pendingContext=a,s=ws(t),s.payload={element:n},r=r===void 0?null:r,r!==null&&(s.callback=r),n=js(e,s,t),n!==null&&(Rt(n,e,t),ul(n,e,t))}function Np(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gh(e,t){Np(e,t),(e=e.alternate)&&Np(e,t)}function E0(e){if(e.tag===13){var t=Tr(e,67108864);t!==null&&Rt(t,e,67108864),gh(e,67108864)}}var zo=!0;function T1(e,t,n,s){var a=K.T;K.T=null;var r=pe.p;try{pe.p=2,vh(e,t,n,s)}finally{pe.p=r,K.T=a}}function C1(e,t,n,s){var a=K.T;K.T=null;var r=pe.p;try{pe.p=8,vh(e,t,n,s)}finally{pe.p=r,K.T=a}}function vh(e,t,n,s){if(zo){var a=Yd(s);if(a===null)Tu(e,t,s,Po,n),Sp(e,s);else if(O1(a,e,t,n,s))s.stopPropagation();else if(Sp(e,s),t&4&&-1<A1.indexOf(e)){for(;a!==null;){var r=Er(a);if(r!==null)switch(r.tag){case 3:if(r=r.stateNode,r.current.memoizedState.isDehydrated){var i=qs(r.pendingLanes);if(i!==0){var o=r;for(o.pendingLanes|=2,o.entangledLanes|=2;i;){var c=1<<31-At(i);o.entanglements[1]|=c,i&=~c}Tn(r),!(ve&6)&&(Ao=bn()+500,li(0))}}break;case 13:o=Tr(r,2),o!==null&&Rt(o,r,2),mc(),gh(r,2)}if(r=Yd(s),r===null&&Tu(e,t,s,Po,n),r===a)break;a=r}a!==null&&s.stopPropagation()}else Tu(e,t,s,null,n)}}function Yd(e){return e=Df(e),xh(e)}var Po=null;function xh(e){if(Po=null,e=Pa(e),e!==null){var t=Xl(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=Zg(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Po=e,null}function T0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mN()){case tv:return 2;case nv:return 8;case ho:case pN:return 32;case sv:return 268435456;default:return 32}default:return 32}}var Xd=!1,_s=null,Es=null,Ts=null,kl=new Map,Ul=new Map,hs=[],A1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sp(e,t){switch(e){case"focusin":case"focusout":_s=null;break;case"dragenter":case"dragleave":Es=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":kl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(t.pointerId)}}function Xr(e,t,n,s,a,r){return e===null||e.nativeEvent!==r?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:r,targetContainers:[a]},t!==null&&(t=Er(t),t!==null&&E0(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function O1(e,t,n,s,a){switch(t){case"focusin":return _s=Xr(_s,e,t,n,s,a),!0;case"dragenter":return Es=Xr(Es,e,t,n,s,a),!0;case"mouseover":return Ts=Xr(Ts,e,t,n,s,a),!0;case"pointerover":var r=a.pointerId;return kl.set(r,Xr(kl.get(r)||null,e,t,n,s,a)),!0;case"gotpointercapture":return r=a.pointerId,Ul.set(r,Xr(Ul.get(r)||null,e,t,n,s,a)),!0}return!1}function C0(e){var t=Pa(e.target);if(t!==null){var n=Xl(t);if(n!==null){if(t=n.tag,t===13){if(t=Zg(n),t!==null){e.blockedOn=t,NN(e.priority,function(){if(n.tag===13){var s=Ot();s=Af(s);var a=Tr(n,s);a!==null&&Rt(a,n,s),gh(n,s)}});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yd(e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);ud=s,n.target.dispatchEvent(s),ud=null}else return t=Er(n),t!==null&&E0(t),e.blockedOn=n,!1;t.shift()}return!0}function _p(e,t,n){ao(e)&&n.delete(t)}function R1(){Xd=!1,_s!==null&&ao(_s)&&(_s=null),Es!==null&&ao(Es)&&(Es=null),Ts!==null&&ao(Ts)&&(Ts=null),kl.forEach(_p),Ul.forEach(_p)}function Mi(e,t){e.blockedOn===t&&(e.blockedOn=null,Xd||(Xd=!0,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,R1)))}var Di=null;function Ep(e){Di!==e&&(Di=e,Ye.unstable_scheduleCallback(Ye.unstable_NormalPriority,function(){Di===e&&(Di=null);for(var t=0;t<e.length;t+=3){var n=e[t],s=e[t+1],a=e[t+2];if(typeof s!="function"){if(xh(s||n)===null)continue;break}var r=Er(n);r!==null&&(e.splice(t,3),t-=3,Ed(r,{pending:!0,data:a,method:n.method,action:s},s,a))}}))}function Ll(e){function t(c){return Mi(c,e)}_s!==null&&Mi(_s,e),Es!==null&&Mi(Es,e),Ts!==null&&Mi(Ts,e),kl.forEach(t),Ul.forEach(t);for(var n=0;n<hs.length;n++){var s=hs[n];s.blockedOn===e&&(s.blockedOn=null)}for(;0<hs.length&&(n=hs[0],n.blockedOn===null);)C0(n),n.blockedOn===null&&hs.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(s=0;s<n.length;s+=3){var a=n[s],r=n[s+1],i=a[bt]||null;if(typeof r=="function")i||Ep(n);else if(i){var o=null;if(r&&r.hasAttribute("formAction")){if(a=r,i=r[bt]||null)o=i.formAction;else if(xh(a)!==null)continue}else o=i.action;typeof o=="function"?n[s+1]=o:(n.splice(s,3),s-=3),Ep(n)}}}function yh(e){this._internalRoot=e}xc.prototype.render=yh.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));var n=t.current,s=Ot();_0(n,s,e,t,null,null)};xc.prototype.unmount=yh.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;_0(e.current,2,null,e,null,null),mc(),t[_r]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=ov();e={blockedOn:null,target:e,priority:t};for(var n=0;n<hs.length&&t!==0&&t<hs[n].priority;n++);hs.splice(n,0,e),n===0&&C0(e)}};var Tp=Fg.version;if(Tp!=="19.1.1")throw Error(D(527,Tp,"19.1.1"));pe.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=iN(t),e=e!==null?Wg(e):null,e=e===null?null:e.stateNode,e};var M1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ki=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ki.isDisabled&&ki.supportsFiber)try{Kl=ki.inject(M1),Ct=ki}catch{}}nc.createRoot=function(e,t){if(!Qg(e))throw Error(D(299));var n=!1,s="",a=Nx,r=Sx,i=_x,o=null;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(r=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(o=t.unstable_transitionCallbacks)),t=N0(e,1,!1,null,null,n,s,a,r,i,o,null),e[_r]=t.current,hh(e),new yh(t)};nc.hydrateRoot=function(e,t,n){if(!Qg(e))throw Error(D(299));var s=!1,a="",r=Nx,i=Sx,o=_x,c=null,u=null;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(r=n.onUncaughtError),n.onCaughtError!==void 0&&(i=n.onCaughtError),n.onRecoverableError!==void 0&&(o=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(c=n.unstable_transitionCallbacks),n.formState!==void 0&&(u=n.formState)),t=N0(e,1,!0,t,n??null,s,a,r,i,o,c,u),t.context=S0(null),n=t.current,s=Ot(),s=Af(s),a=ws(s),a.callback=null,js(n,a,s),n=s,t.current.lanes=n,Ql(t,n),Tn(t),e[_r]=t.current,hh(e),new xc(t)};nc.version="19.1.1";function A0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(A0)}catch(e){console.error(e)}}A0(),Ug.exports=nc;var D1=Ug.exports;const Jt={USERS:"school_transport_users",CURRENT_USER:"school_transport_current_user",DRIVERS:"school_transport_drivers",STUDENTS:"school_transport_students",PARENTS:"school_transport_parents",ADMINS:"school_transport_admins",SCHOOLS:"school_transport_schools",CLASS_DISMISSAL_TIMES:"school_transport_class_dismissal_times",NOTIFICATIONS:"school_transport_notifications"},k1=["eng7763@gmail.com","0554038382"],U1=e=>k1.some(t=>e.email===t||e.phone===t);function at(){try{const e=localStorage.getItem(Jt.USERS);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting users:",e),[]}}function L1(){try{return at().filter(t=>!U1(t))}catch(e){return console.error("Error getting users for display:",e),[]}}function ra(e){try{const t=at(),n=t.findIndex(s=>s.id===e.id);return n>=0?t[n]=e:t.push(e),localStorage.setItem(Jt.USERS,JSON.stringify(t)),!0}catch(t){return console.error("Error saving user:",t),!1}}function I1(){try{const e=localStorage.getItem(Jt.CURRENT_USER);return e?JSON.parse(e):null}catch(e){return console.error("Error getting current user:",e),null}}function Au(e){try{localStorage.setItem(Jt.CURRENT_USER,JSON.stringify(e))}catch(t){console.error("Error setting current user:",t)}}function z1(){try{localStorage.removeItem(Jt.CURRENT_USER)}catch(e){console.error("Error clearing current user:",e)}}function P1(e){try{return at().find(n=>n.id===e)||null}catch(t){return console.error("Error getting user by id:",t),null}}function bh(e){try{return at().find(n=>n.phone===e)||null}catch(t){return console.error("Error getting user by phone:",t),null}}function $1(e,t){try{const n=at(),s=n.findIndex(a=>a.phone===e);return s>=0?(n[s].password=t,localStorage.setItem(Jt.USERS,JSON.stringify(n)),!0):!1}catch(n){return console.error("Error updating password:",n),!1}}function O0(){try{return at().filter(t=>t.type==="driver")}catch(e){return console.error("Error getting drivers:",e),[]}}function Cp(e){try{const t=at(),n=t.findIndex(s=>s.id===e.id);return n>=0?t[n]=e:t.push(e),localStorage.setItem(Jt.USERS,JSON.stringify(t)),console.log("Driver saved successfully:",e),!0}catch(t){return console.error("Error saving driver:",t),!1}}function B1(e){try{return at().filter(n=>n.schoolName===e)}catch(t){return console.error("Error getting users by school:",t),[]}}function va(){try{const e=localStorage.getItem(Jt.SCHOOLS);return e?JSON.parse(e):[]}catch(e){return console.error("Error getting schools:",e),[]}}function R0(e){try{const t=va(),n=t.findIndex(s=>s.id===e.id);return n>=0?t[n]=e:t.push(e),localStorage.setItem(Jt.SCHOOLS,JSON.stringify(t)),!0}catch(t){return console.error("Error saving school:",t),!1}}function H1(e){try{const n=va().filter(s=>s.id!==e);return localStorage.setItem(Jt.SCHOOLS,JSON.stringify(n)),!0}catch(t){return console.error("Error deleting school:",t),!1}}function M0(e){try{return va().filter(n=>n.city===e)}catch(t){return console.error("Error getting schools by city:",t),[]}}function D0(e){try{return va().filter(n=>n.province===e)}catch(t){return console.error("Error getting schools by province:",t),[]}}function ci(e){try{const t=localStorage.getItem(Jt.NOTIFICATIONS);return t?JSON.parse(t):[]}catch(t){return console.error("Error getting notifications:",t),[]}}function Kd(e){try{const t=ci();t.unshift(e),t.length>50&&t.splice(50),localStorage.setItem(Jt.NOTIFICATIONS,JSON.stringify(t)),window.dispatchEvent(new CustomEvent("notificationAdded",{detail:e}))}catch(t){console.error("Error adding notification:",t)}}const wh=()=>{const e=at();va().length===0&&([{id:"1",name:"مدرسة النور الابتدائية",address:"حي النور، شارع الملك فهد",city:"الرياض",province:"الرياض",phone:"0112345678",email:"info@alnoor-school.edu.sa",principalName:"أحمد محمد السعيد",createdAt:new Date().toISOString()},{id:"2",name:"مدرسة الأمل المتوسطة",address:"حي الأمل، شارع العروبة",city:"جدة",province:"مكة المكرمة",phone:"0122345678",email:"contact@alamal-school.edu.sa",principalName:"فاطمة علي الزهراني",createdAt:new Date().toISOString()}].forEach(s=>R0(s)),console.log("Sample schools initialized")),e.length===0&&([{id:"1",name:"أحمد محمد السائق",phone:"0501234567",password:"123456",type:"driver",schoolName:"مدرسة النور الابتدائية",province:"الرياض",city:"الرياض",vehicleNumber:"أ ب ج 123",licenseNumber:"12345678",status:"not_arrived",createdAt:new Date().toISOString()},{id:"2",name:"فاطمة أحمد",phone:"0507654321",password:"123456",type:"student",schoolName:"مدرسة النور الابتدائية",province:"الرياض",city:"الرياض",grade:"الصف الثالث",parentPhone:"0501111111",status:"verified",createdAt:new Date().toISOString()},{id:"3",name:"محمد علي",phone:"0501111111",password:"123456",type:"parent",schoolName:"مدرسة النور الابتدائية",province:"الرياض",city:"الرياض",children:["2"],status:"verified",createdAt:new Date().toISOString()},{id:"4",name:"مدير المدرسة",phone:"0509999999",password:"123456",type:"admin",schoolName:"مدرسة النور الابتدائية",province:"الرياض",city:"الرياض",status:"verified",createdAt:new Date().toISOString()}].forEach(s=>ra(s)),console.log("Sample data initialized with province and city information"))};function Ap(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function yc(...e){return t=>{let n=!1;const s=e.map(a=>{const r=Ap(a,t);return!n&&typeof r=="function"&&(n=!0),r});if(n)return()=>{for(let a=0;a<s.length;a++){const r=s[a];typeof r=="function"?r():Ap(e[a],null)}}}}function Se(...e){return m.useCallback(yc(...e),e)}function la(e){const t=G1(e),n=m.forwardRef((s,a)=>{const{children:r,...i}=s,o=m.Children.toArray(r),c=o.find(Y1);if(c){const u=c.props.children,d=o.map(f=>f===c?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:f);return l.jsx(t,{...i,ref:a,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return l.jsx(t,{...i,ref:a,children:r})});return n.displayName=`${e}.Slot`,n}var q1=la("Slot");function G1(e){const t=m.forwardRef((n,s)=>{const{children:a,...r}=n;if(m.isValidElement(a)){const i=K1(a),o=X1(r,a.props);return a.type!==m.Fragment&&(o.ref=s?yc(s,i):i),m.cloneElement(a,o)}return m.Children.count(a)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var V1=Symbol("radix.slottable");function Y1(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===V1}function X1(e,t){const n={...t};for(const s in t){const a=e[s],r=t[s];/^on[A-Z]/.test(s)?a&&r?n[s]=(...o)=>{const c=r(...o);return a(...o),c}:a&&(n[s]=a):s==="style"?n[s]={...a,...r}:s==="className"&&(n[s]=[a,r].filter(Boolean).join(" "))}return{...e,...n}}function K1(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function k0(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=k0(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function U0(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=k0(e))&&(s&&(s+=" "),s+=t);return s}const Op=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Rp=U0,bc=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return Rp(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:r}=t,i=Object.keys(a).map(u=>{const d=n==null?void 0:n[u],f=r==null?void 0:r[u];if(d===null)return null;const h=Op(d)||Op(f);return a[u][h]}),o=n&&Object.entries(n).reduce((u,d)=>{let[f,h]=d;return h===void 0||(u[f]=h),u},{}),c=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((u,d)=>{let{class:f,className:h,...p}=d;return Object.entries(p).every(y=>{let[x,w]=y;return Array.isArray(w)?w.includes({...r,...o}[x]):{...r,...o}[x]===w})?[...u,f,h]:u},[]);return Rp(e,i,c,n==null?void 0:n.class,n==null?void 0:n.className)},jh="-",F1=e=>{const t=Z1(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:i=>{const o=i.split(jh);return o[0]===""&&o.length!==1&&o.shift(),L0(o,t)||Q1(i)},getConflictingClassGroupIds:(i,o)=>{const c=n[i]||[];return o&&s[i]?[...c,...s[i]]:c}}},L0=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),a=s?L0(e.slice(1),s):void 0;if(a)return a;if(t.validators.length===0)return;const r=e.join(jh);return(i=t.validators.find(({validator:o})=>o(r)))==null?void 0:i.classGroupId},Mp=/^\[(.+)\]$/,Q1=e=>{if(Mp.test(e)){const t=Mp.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Z1=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return J1(Object.entries(e.classGroups),n).forEach(([r,i])=>{Fd(i,s,r,t)}),s},Fd=(e,t,n,s)=>{e.forEach(a=>{if(typeof a=="string"){const r=a===""?t:Dp(t,a);r.classGroupId=n;return}if(typeof a=="function"){if(W1(a)){Fd(a(s),t,n,s);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([r,i])=>{Fd(i,Dp(t,r),n,s)})})},Dp=(e,t)=>{let n=e;return t.split(jh).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},W1=e=>e.isThemeGetter,J1=(e,t)=>t?e.map(([n,s])=>{const a=s.map(r=>typeof r=="string"?t+r:typeof r=="object"?Object.fromEntries(Object.entries(r).map(([i,o])=>[t+i,o])):r);return[n,a]}):e,e_=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const a=(r,i)=>{n.set(r,i),t++,t>e&&(t=0,s=n,n=new Map)};return{get(r){let i=n.get(r);if(i!==void 0)return i;if((i=s.get(r))!==void 0)return a(r,i),i},set(r,i){n.has(r)?n.set(r,i):a(r,i)}}},I0="!",t_=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,a=t[0],r=t.length,i=o=>{const c=[];let u=0,d=0,f;for(let w=0;w<o.length;w++){let b=o[w];if(u===0){if(b===a&&(s||o.slice(w,w+r)===t)){c.push(o.slice(d,w)),d=w+r;continue}if(b==="/"){f=w;continue}}b==="["?u++:b==="]"&&u--}const h=c.length===0?o:o.substring(d),p=h.startsWith(I0),y=p?h.substring(1):h,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:x}};return n?o=>n({className:o,parseClassName:i}):i},n_=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},s_=e=>({cache:e_(e.cacheSize),parseClassName:t_(e),...F1(e)}),a_=/\s+/,r_=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:a}=t,r=[],i=e.trim().split(a_);let o="";for(let c=i.length-1;c>=0;c-=1){const u=i[c],{modifiers:d,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(u);let y=!!p,x=s(y?h.substring(0,p):h);if(!x){if(!y){o=u+(o.length>0?" "+o:o);continue}if(x=s(h),!x){o=u+(o.length>0?" "+o:o);continue}y=!1}const w=n_(d).join(":"),b=f?w+I0:w,v=b+x;if(r.includes(v))continue;r.push(v);const g=a(x,y);for(let j=0;j<g.length;++j){const N=g[j];r.push(b+N)}o=u+(o.length>0?" "+o:o)}return o};function l_(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=z0(t))&&(s&&(s+=" "),s+=n);return s}const z0=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=z0(e[s]))&&(n&&(n+=" "),n+=t);return n};function i_(e,...t){let n,s,a,r=i;function i(c){const u=t.reduce((d,f)=>f(d),e());return n=s_(u),s=n.cache.get,a=n.cache.set,r=o,o(c)}function o(c){const u=s(c);if(u)return u;const d=r_(c,n);return a(c,d),d}return function(){return r(l_.apply(null,arguments))}}const Te=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},P0=/^\[(?:([a-z-]+):)?(.+)\]$/i,o_=/^\d+\/\d+$/,c_=new Set(["px","full","screen"]),u_=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,d_=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,f_=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,h_=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,m_=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Mn=e=>ar(e)||c_.has(e)||o_.test(e),es=e=>Rr(e,"length",j_),ar=e=>!!e&&!Number.isNaN(Number(e)),Ou=e=>Rr(e,"number",ar),Kr=e=>!!e&&Number.isInteger(Number(e)),p_=e=>e.endsWith("%")&&ar(e.slice(0,-1)),ne=e=>P0.test(e),ts=e=>u_.test(e),g_=new Set(["length","size","percentage"]),v_=e=>Rr(e,g_,$0),x_=e=>Rr(e,"position",$0),y_=new Set(["image","url"]),b_=e=>Rr(e,y_,S_),w_=e=>Rr(e,"",N_),Fr=()=>!0,Rr=(e,t,n)=>{const s=P0.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},j_=e=>d_.test(e)&&!f_.test(e),$0=()=>!1,N_=e=>h_.test(e),S_=e=>m_.test(e),__=()=>{const e=Te("colors"),t=Te("spacing"),n=Te("blur"),s=Te("brightness"),a=Te("borderColor"),r=Te("borderRadius"),i=Te("borderSpacing"),o=Te("borderWidth"),c=Te("contrast"),u=Te("grayscale"),d=Te("hueRotate"),f=Te("invert"),h=Te("gap"),p=Te("gradientColorStops"),y=Te("gradientColorStopPositions"),x=Te("inset"),w=Te("margin"),b=Te("opacity"),v=Te("padding"),g=Te("saturate"),j=Te("scale"),N=Te("sepia"),S=Te("skew"),_=Te("space"),A=Te("translate"),R=()=>["auto","contain","none"],E=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto",ne,t],T=()=>[ne,t],P=()=>["",Mn,es],H=()=>["auto",ar,ne],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],C=()=>["solid","dashed","dotted","double","none"],O=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],M=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",ne],V=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[ar,ne];return{cacheSize:500,separator:":",theme:{colors:[Fr],spacing:[Mn,es],blur:["none","",ts,ne],brightness:J(),borderColor:[e],borderRadius:["none","","full",ts,ne],borderSpacing:T(),borderWidth:P(),contrast:J(),grayscale:U(),hueRotate:J(),invert:U(),gap:T(),gradientColorStops:[e],gradientColorStopPositions:[p_,es],inset:z(),margin:z(),opacity:J(),padding:T(),saturate:J(),scale:J(),sepia:U(),skew:J(),space:T(),translate:T()},classGroups:{aspect:[{aspect:["auto","square","video",ne]}],container:["container"],columns:[{columns:[ts]}],"break-after":[{"break-after":V()}],"break-before":[{"break-before":V()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),ne]}],overflow:[{overflow:E()}],"overflow-x":[{"overflow-x":E()}],"overflow-y":[{"overflow-y":E()}],overscroll:[{overscroll:R()}],"overscroll-x":[{"overscroll-x":R()}],"overscroll-y":[{"overscroll-y":R()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kr,ne]}],basis:[{basis:z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ne]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",Kr,ne]}],"grid-cols":[{"grid-cols":[Fr]}],"col-start-end":[{col:["auto",{span:["full",Kr,ne]},ne]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Fr]}],"row-start-end":[{row:["auto",{span:[Kr,ne]},ne]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ne]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...M()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...M(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...M(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[_]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[_]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ne,t]}],"min-w":[{"min-w":[ne,t,"min","max","fit"]}],"max-w":[{"max-w":[ne,t,"none","full","min","max","fit","prose",{screen:[ts]},ts]}],h:[{h:[ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ts,es]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Ou]}],"font-family":[{font:[Fr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ne]}],"line-clamp":[{"line-clamp":["none",ar,Ou]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Mn,ne]}],"list-image":[{"list-image":["none",ne]}],"list-style-type":[{list:["none","disc","decimal",ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...C(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Mn,es]}],"underline-offset":[{"underline-offset":["auto",Mn,ne]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:T()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),x_]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",v_]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},b_]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[r]}],"rounded-s":[{"rounded-s":[r]}],"rounded-e":[{"rounded-e":[r]}],"rounded-t":[{"rounded-t":[r]}],"rounded-r":[{"rounded-r":[r]}],"rounded-b":[{"rounded-b":[r]}],"rounded-l":[{"rounded-l":[r]}],"rounded-ss":[{"rounded-ss":[r]}],"rounded-se":[{"rounded-se":[r]}],"rounded-ee":[{"rounded-ee":[r]}],"rounded-es":[{"rounded-es":[r]}],"rounded-tl":[{"rounded-tl":[r]}],"rounded-tr":[{"rounded-tr":[r]}],"rounded-br":[{"rounded-br":[r]}],"rounded-bl":[{"rounded-bl":[r]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...C(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:C()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...C()]}],"outline-offset":[{"outline-offset":[Mn,ne]}],"outline-w":[{outline:[Mn,es]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:P()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[Mn,es]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ts,w_]}],"shadow-color":[{shadow:[Fr]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...O(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":O()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ts,ne]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[g]}],sepia:[{sepia:[N]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[N]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ne]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",ne]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[j]}],"scale-x":[{"scale-x":[j]}],"scale-y":[{"scale-y":[j]}],rotate:[{rotate:[Kr,ne]}],"translate-x":[{"translate-x":[A]}],"translate-y":[{"translate-y":[A]}],"skew-x":[{"skew-x":[S]}],"skew-y":[{"skew-y":[S]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":T()}],"scroll-mx":[{"scroll-mx":T()}],"scroll-my":[{"scroll-my":T()}],"scroll-ms":[{"scroll-ms":T()}],"scroll-me":[{"scroll-me":T()}],"scroll-mt":[{"scroll-mt":T()}],"scroll-mr":[{"scroll-mr":T()}],"scroll-mb":[{"scroll-mb":T()}],"scroll-ml":[{"scroll-ml":T()}],"scroll-p":[{"scroll-p":T()}],"scroll-px":[{"scroll-px":T()}],"scroll-py":[{"scroll-py":T()}],"scroll-ps":[{"scroll-ps":T()}],"scroll-pe":[{"scroll-pe":T()}],"scroll-pt":[{"scroll-pt":T()}],"scroll-pr":[{"scroll-pr":T()}],"scroll-pb":[{"scroll-pb":T()}],"scroll-pl":[{"scroll-pl":T()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Mn,es,Ou]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},E_=i_(__);function W(...e){return E_(U0(e))}const T_=bc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),I=m.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...a},r)=>{const i=s?q1:"button";return l.jsx(i,{className:W(T_({variant:t,size:n,className:e})),ref:r,...a})});I.displayName="Button";const Q=m.forwardRef(({className:e,type:t,...n},s)=>l.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));Q.displayName="Input";const $=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));$.displayName="Card";const ue=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:W("flex flex-col space-y-1.5 p-6",e),...t}));ue.displayName="CardHeader";const de=m.forwardRef(({className:e,...t},n)=>l.jsx("h3",{ref:n,className:W("text-2xl font-semibold leading-none tracking-tight",e),...t}));de.displayName="CardTitle";const Xe=m.forwardRef(({className:e,...t},n)=>l.jsx("p",{ref:n,className:W("text-sm text-muted-foreground",e),...t}));Xe.displayName="CardDescription";const B=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:"p-4 bg-[#00000000] mt-[0px] mr-[0px] mb-[0px] ml-[0px] pt-[16px] pr-[16px] pb-[16px] pl-[16px] font-normal opacity-100 text-[#020817]",...t}));B.displayName="CardContent";const C_=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:W("flex items-center p-6 pt-0",e),...t}));C_.displayName="CardFooter";function G(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function A_(e,t){const n=m.createContext(t),s=r=>{const{children:i,...o}=r,c=m.useMemo(()=>o,Object.values(o));return l.jsx(n.Provider,{value:c,children:i})};s.displayName=e+"Provider";function a(r){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${r}\` must be used within \`${e}\``)}return[s,a]}function Ls(e,t=[]){let n=[];function s(r,i){const o=m.createContext(i),c=n.length;n=[...n,i];const u=f=>{var b;const{scope:h,children:p,...y}=f,x=((b=h==null?void 0:h[e])==null?void 0:b[c])||o,w=m.useMemo(()=>y,Object.values(y));return l.jsx(x.Provider,{value:w,children:p})};u.displayName=r+"Provider";function d(f,h){var x;const p=((x=h==null?void 0:h[e])==null?void 0:x[c])||o,y=m.useContext(p);if(y)return y;if(i!==void 0)return i;throw new Error(`\`${f}\` must be used within \`${r}\``)}return[u,d]}const a=()=>{const r=n.map(i=>m.createContext(i));return function(o){const c=(o==null?void 0:o[e])||r;return m.useMemo(()=>({[`__scope${e}`]:{...o,[e]:c}}),[o,c])}};return a.scopeName=e,[s,O_(a,...t)]}function O_(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(r){const i=s.reduce((o,{useScope:c,scopeName:u})=>{const f=c(r)[`__scope${u}`];return{...o,...f}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Nh(e){const t=e+"CollectionProvider",[n,s]=Ls(t),[a,r]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=x=>{const{scope:w,children:b}=x,v=Pt.useRef(null),g=Pt.useRef(new Map).current;return l.jsx(a,{scope:w,itemMap:g,collectionRef:v,children:b})};i.displayName=t;const o=e+"CollectionSlot",c=la(o),u=Pt.forwardRef((x,w)=>{const{scope:b,children:v}=x,g=r(o,b),j=Se(w,g.collectionRef);return l.jsx(c,{ref:j,children:v})});u.displayName=o;const d=e+"CollectionItemSlot",f="data-radix-collection-item",h=la(d),p=Pt.forwardRef((x,w)=>{const{scope:b,children:v,...g}=x,j=Pt.useRef(null),N=Se(w,j),S=r(d,b);return Pt.useEffect(()=>(S.itemMap.set(j,{ref:j,...g}),()=>void S.itemMap.delete(j))),l.jsx(h,{[f]:"",ref:N,children:v})});p.displayName=d;function y(x){const w=r(e+"CollectionConsumer",x);return Pt.useCallback(()=>{const v=w.collectionRef.current;if(!v)return[];const g=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((S,_)=>g.indexOf(S.ref.current)-g.indexOf(_.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:i,Slot:u,ItemSlot:p},y,s]}var it=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},R_=Vg[" useId ".trim().toString()]||(()=>{}),M_=0;function jn(e){const[t,n]=m.useState(R_());return it(()=>{n(s=>s??String(M_++))},[e]),t?`radix-${t}`:""}var D_=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],re=D_.reduce((e,t)=>{const n=la(`Primitive.${t}`),s=m.forwardRef((a,r)=>{const{asChild:i,...o}=a,c=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...o,ref:r})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function B0(e,t){e&&Sr.flushSync(()=>e.dispatchEvent(t))}function Sn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}var k_=Vg[" useInsertionEffect ".trim().toString()]||it;function xr({prop:e,defaultProp:t,onChange:n=()=>{},caller:s}){const[a,r,i]=U_({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:a;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const f=d.current;f!==o&&console.warn(`${s} is changing from ${f?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=o},[o,s])}const u=m.useCallback(d=>{var f;if(o){const h=L_(d)?d(e):d;h!==e&&((f=i.current)==null||f.call(i,h))}else r(d)},[o,e,r,i]);return[c,u]}function U_({defaultProp:e,onChange:t}){const[n,s]=m.useState(e),a=m.useRef(n),r=m.useRef(t);return k_(()=>{r.current=t},[t]),m.useEffect(()=>{var i;a.current!==n&&((i=r.current)==null||i.call(r,n),a.current=n)},[n,a]),[n,s,r]}function L_(e){return typeof e=="function"}var I_=m.createContext(void 0);function wc(e){const t=m.useContext(I_);return e||t||"ltr"}var Ru="rovingFocusGroup.onEntryFocus",z_={bubbles:!1,cancelable:!0},ui="RovingFocusGroup",[Qd,H0,P_]=Nh(ui),[$_,jc]=Ls(ui,[P_]),[B_,H_]=$_(ui),q0=m.forwardRef((e,t)=>l.jsx(Qd.Provider,{scope:e.__scopeRovingFocusGroup,children:l.jsx(Qd.Slot,{scope:e.__scopeRovingFocusGroup,children:l.jsx(q_,{...e,ref:t})})}));q0.displayName=ui;var q_=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:a=!1,dir:r,currentTabStopId:i,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=e,h=m.useRef(null),p=Se(t,h),y=wc(r),[x,w]=xr({prop:i,defaultProp:o??null,onChange:c,caller:ui}),[b,v]=m.useState(!1),g=Sn(u),j=H0(n),N=m.useRef(!1),[S,_]=m.useState(0);return m.useEffect(()=>{const A=h.current;if(A)return A.addEventListener(Ru,g),()=>A.removeEventListener(Ru,g)},[g]),l.jsx(B_,{scope:n,orientation:s,dir:y,loop:a,currentTabStopId:x,onItemFocus:m.useCallback(A=>w(A),[w]),onItemShiftTab:m.useCallback(()=>v(!0),[]),onFocusableItemAdd:m.useCallback(()=>_(A=>A+1),[]),onFocusableItemRemove:m.useCallback(()=>_(A=>A-1),[]),children:l.jsx(re.div,{tabIndex:b||S===0?-1:0,"data-orientation":s,...f,ref:p,style:{outline:"none",...e.style},onMouseDown:G(e.onMouseDown,()=>{N.current=!0}),onFocus:G(e.onFocus,A=>{const R=!N.current;if(A.target===A.currentTarget&&R&&!b){const E=new CustomEvent(Ru,z_);if(A.currentTarget.dispatchEvent(E),!E.defaultPrevented){const z=j().filter(C=>C.focusable),T=z.find(C=>C.active),P=z.find(C=>C.id===x),k=[T,P,...z].filter(Boolean).map(C=>C.ref.current);Y0(k,d)}}N.current=!1}),onBlur:G(e.onBlur,()=>v(!1))})})}),G0="RovingFocusGroupItem",V0=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:a=!1,tabStopId:r,children:i,...o}=e,c=jn(),u=r||c,d=H_(G0,n),f=d.currentTabStopId===u,h=H0(n),{onFocusableItemAdd:p,onFocusableItemRemove:y,currentTabStopId:x}=d;return m.useEffect(()=>{if(s)return p(),()=>y()},[s,p,y]),l.jsx(Qd.ItemSlot,{scope:n,id:u,focusable:s,active:a,children:l.jsx(re.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...o,ref:t,onMouseDown:G(e.onMouseDown,w=>{s?d.onItemFocus(u):w.preventDefault()}),onFocus:G(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:G(e.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){d.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const b=Y_(w,d.orientation,d.dir);if(b!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let g=h().filter(j=>j.focusable).map(j=>j.ref.current);if(b==="last")g.reverse();else if(b==="prev"||b==="next"){b==="prev"&&g.reverse();const j=g.indexOf(w.currentTarget);g=d.loop?X_(g,j+1):g.slice(j+1)}setTimeout(()=>Y0(g))}}),children:typeof i=="function"?i({isCurrentTabStop:f,hasTabStop:x!=null}):i})})});V0.displayName=G0;var G_={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function V_(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Y_(e,t,n){const s=V_(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return G_[s]}function Y0(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function X_(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var X0=q0,K0=V0;function K_(e,t){return m.useReducer((n,s)=>t[n][s]??n,e)}var Zn=e=>{const{present:t,children:n}=e,s=F_(t),a=typeof n=="function"?n({present:s.isPresent}):m.Children.only(n),r=Se(s.ref,Q_(a));return typeof n=="function"||s.isPresent?m.cloneElement(a,{ref:r}):null};Zn.displayName="Presence";function F_(e){const[t,n]=m.useState(),s=m.useRef(null),a=m.useRef(e),r=m.useRef("none"),i=e?"mounted":"unmounted",[o,c]=K_(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=Ui(s.current);r.current=o==="mounted"?u:"none"},[o]),it(()=>{const u=s.current,d=a.current;if(d!==e){const h=r.current,p=Ui(u);e?c("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?c("UNMOUNT"):c(d&&h!==p?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,c]),it(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,f=p=>{const x=Ui(s.current).includes(CSS.escape(p.animationName));if(p.target===t&&x&&(c("ANIMATION_END"),!a.current)){const w=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=w)})}},h=p=>{p.target===t&&(r.current=Ui(s.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",f),t.addEventListener("animationend",f),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",f),t.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:m.useCallback(u=>{s.current=u?getComputedStyle(u):null,n(u)},[])}}function Ui(e){return(e==null?void 0:e.animationName)||"none"}function Q_(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Nc="Tabs",[Z_]=Ls(Nc,[jc]),F0=jc(),[W_,Sh]=Z_(Nc),Q0=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:a,defaultValue:r,orientation:i="horizontal",dir:o,activationMode:c="automatic",...u}=e,d=wc(o),[f,h]=xr({prop:s,onChange:a,defaultProp:r??"",caller:Nc});return l.jsx(W_,{scope:n,baseId:jn(),value:f,onValueChange:h,orientation:i,dir:d,activationMode:c,children:l.jsx(re.div,{dir:d,"data-orientation":i,...u,ref:t})})});Q0.displayName=Nc;var Z0="TabsList",W0=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...a}=e,r=Sh(Z0,n),i=F0(n);return l.jsx(X0,{asChild:!0,...i,orientation:r.orientation,dir:r.dir,loop:s,children:l.jsx(re.div,{role:"tablist","aria-orientation":r.orientation,...a,ref:t})})});W0.displayName=Z0;var J0="TabsTrigger",ey=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:a=!1,...r}=e,i=Sh(J0,n),o=F0(n),c=sy(i.baseId,s),u=ay(i.baseId,s),d=s===i.value;return l.jsx(K0,{asChild:!0,...o,focusable:!a,active:d,children:l.jsx(re.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:c,...r,ref:t,onMouseDown:G(e.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?i.onValueChange(s):f.preventDefault()}),onKeyDown:G(e.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(s)}),onFocus:G(e.onFocus,()=>{const f=i.activationMode!=="manual";!d&&!a&&f&&i.onValueChange(s)})})})});ey.displayName=J0;var ty="TabsContent",ny=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:a,children:r,...i}=e,o=Sh(ty,n),c=sy(o.baseId,s),u=ay(o.baseId,s),d=s===o.value,f=m.useRef(d);return m.useEffect(()=>{const h=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(h)},[]),l.jsx(Zn,{present:a||d,children:({present:h})=>l.jsx(re.div,{"data-state":d?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":c,hidden:!h,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:f.current?"0s":void 0},children:h&&r})})});ny.displayName=ty;function sy(e,t){return`${e}-trigger-${t}`}function ay(e,t){return`${e}-content-${t}`}var J_=Q0,ry=W0,ly=ey,iy=ny;const oy=J_,_h=m.forwardRef(({className:e,...t},n)=>l.jsx(ry,{ref:n,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_h.displayName=ry.displayName;const Il=m.forwardRef(({className:e,...t},n)=>l.jsx(ly,{ref:n,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Il.displayName=ly.displayName;const zl=m.forwardRef(({className:e,...t},n)=>l.jsx(iy,{ref:n,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));zl.displayName=iy.displayName;const e2=bc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Ze=m.forwardRef(({className:e,variant:t,...n},s)=>l.jsx("div",{ref:s,role:"alert",className:W(e2({variant:t}),e),...n}));Ze.displayName="Alert";const t2=m.forwardRef(({className:e,...t},n)=>l.jsx("h5",{ref:n,className:W("mb-1 font-medium leading-none tracking-tight",e),...t}));t2.displayName="AlertTitle";const We=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{ref:n,className:W("text-sm [&_p]:leading-relaxed",e),...t}));We.displayName="AlertDescription";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cy=(...e)=>e.filter((t,n,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var s2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:a="",children:r,iconNode:i,...o},c)=>m.createElement("svg",{ref:c,...s2,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:cy("lucide",a),...o},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(r)?r:[r]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(e,t)=>{const n=m.forwardRef(({className:s,...a},r)=>m.createElement(a2,{ref:r,iconNode:t,className:cy(`lucide-${n2(e)}`,s),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=Y("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Y("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=Y("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=Y("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=Y("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pe=Y("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=Y("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Y("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=Y("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Y("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ia=Y("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nt=Y("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=Y("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=Y("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=Y("CloudOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5.782 5.782A7 7 0 0 0 9 19h8.5a4.5 4.5 0 0 0 1.307-.193",key:"yfwify"}],["path",{d:"M21.532 16.5A4.5 4.5 0 0 0 17.5 10h-1.79A7.008 7.008 0 0 0 10 5.07",key:"jlfiyv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kp=Y("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=Y("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pl=Y("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $o=Y("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=Y("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=Y("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Y("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=Y("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Y("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lp=Y("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=Y("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const di=Y("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Y("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $l=Y("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mu=Y("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Y("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=Y("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ho=Y("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=Y("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=Y("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rs=Y("School",[["path",{d:"M14 22v-4a2 2 0 1 0-4 0v4",key:"hhkicm"}],["path",{d:"m18 10 3.447 1.724a1 1 0 0 1 .553.894V20a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-7.382a1 1 0 0 1 .553-.894L6 10",key:"1xqip1"}],["path",{d:"M18 5v17",key:"1sw6gf"}],["path",{d:"m4 6 7.106-3.553a2 2 0 0 1 1.788 0L20 6",key:"9d2mlk"}],["path",{d:"M6 5v17",key:"1xfsm0"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=Y("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Y("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Y("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Y("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=Y("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Y("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Go=Y("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=Y("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const my=Y("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=Y("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=Y("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Y("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=Y("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=Y("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Y("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function v2({onLogin:e,onShowRegistration:t,onForgotPassword:n,onSuperAdminLogin:s}){const[a,r]=m.useState({identifier:"",password:""}),[i,o]=m.useState(!1),[c,u]=m.useState([]),[d,f]=m.useState(!1),h=(w,b)=>{r(v=>({...v,[w]:b})),c.length>0&&u([])},p=()=>{const w=[];return a.identifier.trim()||w.push("البريد الإلكتروني أو رقم الجوال مطلوب"),a.password||w.push("كلمة المرور مطلوبة"),u(w),w.length===0},y=async()=>{if(p()){f(!0),u([]);try{await new Promise(v=>setTimeout(v,1e3));const b=at().find(v=>v.email===a.identifier.trim()||v.phone===a.identifier.trim());if(!b){u(["المستخدم غير موجود"]);return}if(b.password!==a.password){u(["كلمة المرور غير صحيحة"]);return}localStorage.setItem("currentUser",JSON.stringify(b)),e(b)}catch{u(["حدث خطأ أثناء تسجيل الدخول"])}finally{f(!1)}}},x=()=>{t("driver")};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:"🚌"}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"نظام النقل المدرسي"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"نظام متكامل لإدارة النقل المدرسي"})]}),l.jsxs($,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:[l.jsxs(ue,{children:[l.jsxs(de,{className:"text-center text-xl flex items-center justify-center gap-2",children:[l.jsx(Ip,{className:"w-6 h-6 text-blue-600"}),"تسجيل الدخول"]}),l.jsx(Xe,{className:"text-center",children:"أدخل بياناتك للوصول إلى النظام"})]}),l.jsxs(B,{className:"space-y-4",children:[c.length>0&&l.jsxs(Ze,{className:"border-red-200 bg-red-50",children:[l.jsx(ia,{className:"h-4 w-4"}),l.jsx(We,{children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:c.map((w,b)=>l.jsx("li",{className:"text-red-700 text-sm",children:w},b))})})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[l.jsx(Xn,{className:"w-4 h-4"}),"البريد الإلكتروني أو رقم الجوال"]}),l.jsx(Q,{type:"text",placeholder:"أدخل البريد الإلكتروني أو رقم الجوال",value:a.identifier,onChange:w=>h("identifier",w.target.value),className:"text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[l.jsx(Bo,{className:"w-4 h-4"}),"كلمة المرور"]}),l.jsxs("div",{className:"relative",children:[l.jsx(Q,{type:i?"text":"password",placeholder:"أدخل كلمة المرور",value:a.password,onChange:w=>h("password",w.target.value),className:"text-right pr-10"}),l.jsx("button",{type:"button",onClick:()=>o(!i),className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:i?l.jsx(hy,{className:"w-4 h-4"}):l.jsx(Th,{className:"w-4 h-4"})})]})]}),n&&l.jsx("div",{className:"text-right",children:l.jsx("button",{type:"button",onClick:n,className:"text-sm text-blue-600 hover:text-blue-800 hover:underline",children:"نسيت كلمة المرور؟"})}),l.jsx(I,{onClick:y,disabled:d,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium h-12",children:d?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري تسجيل الدخول..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Ip,{className:"w-4 h-4"}),"تسجيل الدخول"]})}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-white px-2 text-gray-500",children:"أو"})})]}),l.jsxs(oy,{defaultValue:"user",className:"w-full",children:[l.jsxs(_h,{className:"grid w-full grid-cols-2",children:[l.jsx(Il,{value:"user",children:"تسجيل مستخدم"}),l.jsx(Il,{value:"driver",children:"تسجيل سائق"})]}),l.jsxs(zl,{value:"user",className:"space-y-3",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700 text-center",children:"إنشاء حساب جديد"}),l.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[l.jsxs(I,{variant:"outline",onClick:()=>t("student"),className:"flex items-center gap-2 h-auto py-3",children:[l.jsx("span",{className:"text-lg",children:"🎓"}),l.jsx("span",{className:"text-sm",children:"تسجيل طالب جديد"})]}),l.jsxs(I,{variant:"outline",onClick:()=>t("parent"),className:"flex items-center gap-2 h-auto py-3",children:[l.jsx("span",{className:"text-lg",children:"👨‍👩‍👧‍👦"}),l.jsx("span",{className:"text-sm",children:"تسجيل ولي أمر جديد"})]}),l.jsxs(I,{variant:"outline",onClick:()=>t("admin"),className:"flex items-center gap-2 h-auto py-3",children:[l.jsx("span",{className:"text-lg",children:"👔"}),l.jsx("span",{className:"text-sm",children:"تسجيل إدارة مدرسة"})]})]})]}),l.jsx(zl,{value:"driver",className:"space-y-3",children:l.jsxs(I,{variant:"outline",onClick:x,className:"w-full border-blue-200 text-blue-700 hover:bg-blue-50",children:[l.jsx(Pe,{className:"w-4 h-4 mr-2"}),"تسجيل سائق جديد"]})})]})]})]}),l.jsx($,{className:"border-red-200 bg-red-50",children:l.jsxs(B,{className:"p-4",children:[l.jsxs(I,{variant:"outline",onClick:s,className:"w-full border-red-300 text-red-700 hover:bg-red-100 font-semibold",children:[l.jsx(Pl,{className:"w-4 h-4 mr-2"}),"دخول مسؤول النظام"]}),l.jsx("p",{className:"text-xs text-red-600 text-center mt-2",children:"للمسؤولين المعتمدين فقط - صلاحيات كاملة"})]})}),l.jsx("div",{className:"text-center text-xs text-gray-500",children:l.jsx("p",{children:"© 2024 نظام النقل المدرسي. جميع الحقوق محفوظة."})})]})})}var x2="Label",py=m.forwardRef((e,t)=>l.jsx(re.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));py.displayName=x2;var gy=py;const y2=bc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Z=m.forwardRef(({className:e,...t},n)=>l.jsx(gy,{ref:n,className:W(y2(),e),...t}));Z.displayName=gy.displayName;function $p(e,[t,n]){return Math.min(n,Math.max(t,e))}function b2(e,t=globalThis==null?void 0:globalThis.document){const n=Sn(e);m.useEffect(()=>{const s=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var w2="DismissableLayer",Zd="dismissableLayer.update",j2="dismissableLayer.pointerDownOutside",N2="dismissableLayer.focusOutside",Bp,vy=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),_c=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:r,onInteractOutside:i,onDismiss:o,...c}=e,u=m.useContext(vy),[d,f]=m.useState(null),h=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=m.useState({}),y=Se(t,_=>f(_)),x=Array.from(u.layers),[w]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),b=x.indexOf(w),v=d?x.indexOf(d):-1,g=u.layersWithOutsidePointerEventsDisabled.size>0,j=v>=b,N=E2(_=>{const A=_.target,R=[...u.branches].some(E=>E.contains(A));!j||R||(a==null||a(_),i==null||i(_),_.defaultPrevented||o==null||o())},h),S=T2(_=>{const A=_.target;[...u.branches].some(E=>E.contains(A))||(r==null||r(_),i==null||i(_),_.defaultPrevented||o==null||o())},h);return b2(_=>{v===u.layers.size-1&&(s==null||s(_),!_.defaultPrevented&&o&&(_.preventDefault(),o()))},h),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Bp=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Hp(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Bp)}},[d,h,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Hp())},[d,u]),m.useEffect(()=>{const _=()=>p({});return document.addEventListener(Zd,_),()=>document.removeEventListener(Zd,_)},[]),l.jsx(re.div,{...c,ref:y,style:{pointerEvents:g?j?"auto":"none":void 0,...e.style},onFocusCapture:G(e.onFocusCapture,S.onFocusCapture),onBlurCapture:G(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:G(e.onPointerDownCapture,N.onPointerDownCapture)})});_c.displayName=w2;var S2="DismissableLayerBranch",_2=m.forwardRef((e,t)=>{const n=m.useContext(vy),s=m.useRef(null),a=Se(t,s);return m.useEffect(()=>{const r=s.current;if(r)return n.branches.add(r),()=>{n.branches.delete(r)}},[n.branches]),l.jsx(re.div,{...e,ref:a})});_2.displayName=S2;function E2(e,t=globalThis==null?void 0:globalThis.document){const n=Sn(e),s=m.useRef(!1),a=m.useRef(()=>{});return m.useEffect(()=>{const r=o=>{if(o.target&&!s.current){let c=function(){xy(j2,n,u,{discrete:!0})};const u={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=c,t.addEventListener("click",a.current,{once:!0})):c()}else t.removeEventListener("click",a.current);s.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",r)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",r),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function T2(e,t=globalThis==null?void 0:globalThis.document){const n=Sn(e),s=m.useRef(!1);return m.useEffect(()=>{const a=r=>{r.target&&!s.current&&xy(N2,n,{originalEvent:r},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function Hp(){const e=new CustomEvent(Zd);document.dispatchEvent(e)}function xy(e,t,n,{discrete:s}){const a=n.originalEvent.target,r=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),s?B0(a,r):a.dispatchEvent(r)}var Du=0;function Ah(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??qp()),document.body.insertAdjacentElement("beforeend",e[1]??qp()),Du++,()=>{Du===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Du--}},[])}function qp(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ku="focusScope.autoFocusOnMount",Uu="focusScope.autoFocusOnUnmount",Gp={bubbles:!1,cancelable:!0},C2="FocusScope",Ec=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:a,onUnmountAutoFocus:r,...i}=e,[o,c]=m.useState(null),u=Sn(a),d=Sn(r),f=m.useRef(null),h=Se(t,x=>c(x)),p=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(s){let x=function(g){if(p.paused||!o)return;const j=g.target;o.contains(j)?f.current=j:as(f.current,{select:!0})},w=function(g){if(p.paused||!o)return;const j=g.relatedTarget;j!==null&&(o.contains(j)||as(f.current,{select:!0}))},b=function(g){if(document.activeElement===document.body)for(const N of g)N.removedNodes.length>0&&as(o)};document.addEventListener("focusin",x),document.addEventListener("focusout",w);const v=new MutationObserver(b);return o&&v.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",w),v.disconnect()}}},[s,o,p.paused]),m.useEffect(()=>{if(o){Yp.add(p);const x=document.activeElement;if(!o.contains(x)){const b=new CustomEvent(ku,Gp);o.addEventListener(ku,u),o.dispatchEvent(b),b.defaultPrevented||(A2(k2(yy(o)),{select:!0}),document.activeElement===x&&as(o))}return()=>{o.removeEventListener(ku,u),setTimeout(()=>{const b=new CustomEvent(Uu,Gp);o.addEventListener(Uu,d),o.dispatchEvent(b),b.defaultPrevented||as(x??document.body,{select:!0}),o.removeEventListener(Uu,d),Yp.remove(p)},0)}}},[o,u,d,p]);const y=m.useCallback(x=>{if(!n&&!s||p.paused)return;const w=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,b=document.activeElement;if(w&&b){const v=x.currentTarget,[g,j]=O2(v);g&&j?!x.shiftKey&&b===j?(x.preventDefault(),n&&as(g,{select:!0})):x.shiftKey&&b===g&&(x.preventDefault(),n&&as(j,{select:!0})):b===v&&x.preventDefault()}},[n,s,p.paused]);return l.jsx(re.div,{tabIndex:-1,...i,ref:h,onKeyDown:y})});Ec.displayName=C2;function A2(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(as(s,{select:t}),document.activeElement!==n)return}function O2(e){const t=yy(e),n=Vp(t,e),s=Vp(t.reverse(),e);return[n,s]}function yy(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const a=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||a?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Vp(e,t){for(const n of e)if(!R2(n,{upTo:t}))return n}function R2(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function M2(e){return e instanceof HTMLInputElement&&"select"in e}function as(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&M2(e)&&t&&e.select()}}var Yp=D2();function D2(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Xp(e,t),e.unshift(t)},remove(t){var n;e=Xp(e,t),(n=e[0])==null||n.resume()}}}function Xp(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function k2(e){return e.filter(t=>t.tagName!=="A")}const U2=["top","right","bottom","left"],Ms=Math.min,Et=Math.max,Vo=Math.round,Li=Math.floor,Nn=e=>({x:e,y:e}),L2={left:"right",right:"left",bottom:"top",top:"bottom"},I2={start:"end",end:"start"};function Wd(e,t,n){return Et(e,Ms(t,n))}function Kn(e,t){return typeof e=="function"?e(t):e}function Fn(e){return e.split("-")[0]}function Mr(e){return e.split("-")[1]}function Oh(e){return e==="x"?"y":"x"}function Rh(e){return e==="y"?"height":"width"}const z2=new Set(["top","bottom"]);function xn(e){return z2.has(Fn(e))?"y":"x"}function Mh(e){return Oh(xn(e))}function P2(e,t,n){n===void 0&&(n=!1);const s=Mr(e),a=Mh(e),r=Rh(a);let i=a==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[r]>t.floating[r]&&(i=Yo(i)),[i,Yo(i)]}function $2(e){const t=Yo(e);return[Jd(e),t,Jd(t)]}function Jd(e){return e.replace(/start|end/g,t=>I2[t])}const Kp=["left","right"],Fp=["right","left"],B2=["top","bottom"],H2=["bottom","top"];function q2(e,t,n){switch(e){case"top":case"bottom":return n?t?Fp:Kp:t?Kp:Fp;case"left":case"right":return t?B2:H2;default:return[]}}function G2(e,t,n,s){const a=Mr(e);let r=q2(Fn(e),n==="start",s);return a&&(r=r.map(i=>i+"-"+a),t&&(r=r.concat(r.map(Jd)))),r}function Yo(e){return e.replace(/left|right|bottom|top/g,t=>L2[t])}function V2(e){return{top:0,right:0,bottom:0,left:0,...e}}function by(e){return typeof e!="number"?V2(e):{top:e,right:e,bottom:e,left:e}}function Xo(e){const{x:t,y:n,width:s,height:a}=e;return{width:s,height:a,top:n,left:t,right:t+s,bottom:n+a,x:t,y:n}}function Qp(e,t,n){let{reference:s,floating:a}=e;const r=xn(t),i=Mh(t),o=Rh(i),c=Fn(t),u=r==="y",d=s.x+s.width/2-a.width/2,f=s.y+s.height/2-a.height/2,h=s[o]/2-a[o]/2;let p;switch(c){case"top":p={x:d,y:s.y-a.height};break;case"bottom":p={x:d,y:s.y+s.height};break;case"right":p={x:s.x+s.width,y:f};break;case"left":p={x:s.x-a.width,y:f};break;default:p={x:s.x,y:s.y}}switch(Mr(t)){case"start":p[i]-=h*(n&&u?-1:1);break;case"end":p[i]+=h*(n&&u?-1:1);break}return p}const Y2=async(e,t,n)=>{const{placement:s="bottom",strategy:a="absolute",middleware:r=[],platform:i}=n,o=r.filter(Boolean),c=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:a}),{x:d,y:f}=Qp(u,s,c),h=s,p={},y=0;for(let x=0;x<o.length;x++){const{name:w,fn:b}=o[x],{x:v,y:g,data:j,reset:N}=await b({x:d,y:f,initialPlacement:s,placement:h,strategy:a,middlewareData:p,rects:u,platform:i,elements:{reference:e,floating:t}});d=v??d,f=g??f,p={...p,[w]:{...p[w],...j}},N&&y<=50&&(y++,typeof N=="object"&&(N.placement&&(h=N.placement),N.rects&&(u=N.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:a}):N.rects),{x:d,y:f}=Qp(u,h,c)),x=-1)}return{x:d,y:f,placement:h,strategy:a,middlewareData:p}};async function Hl(e,t){var n;t===void 0&&(t={});const{x:s,y:a,platform:r,rects:i,elements:o,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Kn(t,e),y=by(p),w=o[h?f==="floating"?"reference":"floating":f],b=Xo(await r.getClippingRect({element:(n=await(r.isElement==null?void 0:r.isElement(w)))==null||n?w:w.contextElement||await(r.getDocumentElement==null?void 0:r.getDocumentElement(o.floating)),boundary:u,rootBoundary:d,strategy:c})),v=f==="floating"?{x:s,y:a,width:i.floating.width,height:i.floating.height}:i.reference,g=await(r.getOffsetParent==null?void 0:r.getOffsetParent(o.floating)),j=await(r.isElement==null?void 0:r.isElement(g))?await(r.getScale==null?void 0:r.getScale(g))||{x:1,y:1}:{x:1,y:1},N=Xo(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:v,offsetParent:g,strategy:c}):v);return{top:(b.top-N.top+y.top)/j.y,bottom:(N.bottom-b.bottom+y.bottom)/j.y,left:(b.left-N.left+y.left)/j.x,right:(N.right-b.right+y.right)/j.x}}const X2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:a,rects:r,platform:i,elements:o,middlewareData:c}=t,{element:u,padding:d=0}=Kn(e,t)||{};if(u==null)return{};const f=by(d),h={x:n,y:s},p=Mh(a),y=Rh(p),x=await i.getDimensions(u),w=p==="y",b=w?"top":"left",v=w?"bottom":"right",g=w?"clientHeight":"clientWidth",j=r.reference[y]+r.reference[p]-h[p]-r.floating[y],N=h[p]-r.reference[p],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let _=S?S[g]:0;(!_||!await(i.isElement==null?void 0:i.isElement(S)))&&(_=o.floating[g]||r.floating[y]);const A=j/2-N/2,R=_/2-x[y]/2-1,E=Ms(f[b],R),z=Ms(f[v],R),T=E,P=_-x[y]-z,H=_/2-x[y]/2+A,k=Wd(T,H,P),C=!c.arrow&&Mr(a)!=null&&H!==k&&r.reference[y]/2-(H<T?E:z)-x[y]/2<0,O=C?H<T?H-T:H-P:0;return{[p]:h[p]+O,data:{[p]:k,centerOffset:H-k-O,...C&&{alignmentOffset:O}},reset:C}}}),K2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:a,middlewareData:r,rects:i,initialPlacement:o,platform:c,elements:u}=t,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,...w}=Kn(e,t);if((n=r.arrow)!=null&&n.alignmentOffset)return{};const b=Fn(a),v=xn(o),g=Fn(o)===o,j=await(c.isRTL==null?void 0:c.isRTL(u.floating)),N=h||(g||!x?[Yo(o)]:$2(o)),S=y!=="none";!h&&S&&N.push(...G2(o,x,y,j));const _=[o,...N],A=await Hl(t,w),R=[];let E=((s=r.flip)==null?void 0:s.overflows)||[];if(d&&R.push(A[b]),f){const H=P2(a,i,j);R.push(A[H[0]],A[H[1]])}if(E=[...E,{placement:a,overflows:R}],!R.every(H=>H<=0)){var z,T;const H=(((z=r.flip)==null?void 0:z.index)||0)+1,k=_[H];if(k&&(!(f==="alignment"?v!==xn(k):!1)||E.every(M=>xn(M.placement)===v?M.overflows[0]>0:!0)))return{data:{index:H,overflows:E},reset:{placement:k}};let C=(T=E.filter(O=>O.overflows[0]<=0).sort((O,M)=>O.overflows[1]-M.overflows[1])[0])==null?void 0:T.placement;if(!C)switch(p){case"bestFit":{var P;const O=(P=E.filter(M=>{if(S){const U=xn(M.placement);return U===v||U==="y"}return!0}).map(M=>[M.placement,M.overflows.filter(U=>U>0).reduce((U,V)=>U+V,0)]).sort((M,U)=>M[1]-U[1])[0])==null?void 0:P[0];O&&(C=O);break}case"initialPlacement":C=o;break}if(a!==C)return{reset:{placement:C}}}return{}}}};function Zp(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wp(e){return U2.some(t=>e[t]>=0)}const F2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...a}=Kn(e,t);switch(s){case"referenceHidden":{const r=await Hl(t,{...a,elementContext:"reference"}),i=Zp(r,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Wp(i)}}}case"escaped":{const r=await Hl(t,{...a,altBoundary:!0}),i=Zp(r,n.floating);return{data:{escapedOffsets:i,escaped:Wp(i)}}}default:return{}}}}},wy=new Set(["left","top"]);async function Q2(e,t){const{placement:n,platform:s,elements:a}=e,r=await(s.isRTL==null?void 0:s.isRTL(a.floating)),i=Fn(n),o=Mr(n),c=xn(n)==="y",u=wy.has(i)?-1:1,d=r&&c?-1:1,f=Kn(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof y=="number"&&(p=o==="end"?y*-1:y),c?{x:p*d,y:h*u}:{x:h*u,y:p*d}}const Z2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:a,y:r,placement:i,middlewareData:o}=t,c=await Q2(t,e);return i===((n=o.offset)==null?void 0:n.placement)&&(s=o.arrow)!=null&&s.alignmentOffset?{}:{x:a+c.x,y:r+c.y,data:{...c,placement:i}}}}},W2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:a}=t,{mainAxis:r=!0,crossAxis:i=!1,limiter:o={fn:w=>{let{x:b,y:v}=w;return{x:b,y:v}}},...c}=Kn(e,t),u={x:n,y:s},d=await Hl(t,c),f=xn(Fn(a)),h=Oh(f);let p=u[h],y=u[f];if(r){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=p+d[w],g=p-d[b];p=Wd(v,p,g)}if(i){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=y+d[w],g=y-d[b];y=Wd(v,y,g)}const x=o.fn({...t,[h]:p,[f]:y});return{...x,data:{x:x.x-n,y:x.y-s,enabled:{[h]:r,[f]:i}}}}}},J2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:a,rects:r,middlewareData:i}=t,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=Kn(e,t),d={x:n,y:s},f=xn(a),h=Oh(f);let p=d[h],y=d[f];const x=Kn(o,t),w=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const g=h==="y"?"height":"width",j=r.reference[h]-r.floating[g]+w.mainAxis,N=r.reference[h]+r.reference[g]-w.mainAxis;p<j?p=j:p>N&&(p=N)}if(u){var b,v;const g=h==="y"?"width":"height",j=wy.has(Fn(a)),N=r.reference[f]-r.floating[g]+(j&&((b=i.offset)==null?void 0:b[f])||0)+(j?0:w.crossAxis),S=r.reference[f]+r.reference[g]+(j?0:((v=i.offset)==null?void 0:v[f])||0)-(j?w.crossAxis:0);y<N?y=N:y>S&&(y=S)}return{[h]:p,[f]:y}}}},eE=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:a,rects:r,platform:i,elements:o}=t,{apply:c=()=>{},...u}=Kn(e,t),d=await Hl(t,u),f=Fn(a),h=Mr(a),p=xn(a)==="y",{width:y,height:x}=r.floating;let w,b;f==="top"||f==="bottom"?(w=f,b=h===(await(i.isRTL==null?void 0:i.isRTL(o.floating))?"start":"end")?"left":"right"):(b=f,w=h==="end"?"top":"bottom");const v=x-d.top-d.bottom,g=y-d.left-d.right,j=Ms(x-d[w],v),N=Ms(y-d[b],g),S=!t.middlewareData.shift;let _=j,A=N;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(A=g),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(_=v),S&&!h){const E=Et(d.left,0),z=Et(d.right,0),T=Et(d.top,0),P=Et(d.bottom,0);p?A=y-2*(E!==0||z!==0?E+z:Et(d.left,d.right)):_=x-2*(T!==0||P!==0?T+P:Et(d.top,d.bottom))}await c({...t,availableWidth:A,availableHeight:_});const R=await i.getDimensions(o.floating);return y!==R.width||x!==R.height?{reset:{rects:!0}}:{}}}};function Tc(){return typeof window<"u"}function Dr(e){return jy(e)?(e.nodeName||"").toLowerCase():"#document"}function Mt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Cn(e){var t;return(t=(jy(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function jy(e){return Tc()?e instanceof Node||e instanceof Mt(e).Node:!1}function on(e){return Tc()?e instanceof Element||e instanceof Mt(e).Element:!1}function _n(e){return Tc()?e instanceof HTMLElement||e instanceof Mt(e).HTMLElement:!1}function Jp(e){return!Tc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Mt(e).ShadowRoot}const tE=new Set(["inline","contents"]);function fi(e){const{overflow:t,overflowX:n,overflowY:s,display:a}=cn(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!tE.has(a)}const nE=new Set(["table","td","th"]);function sE(e){return nE.has(Dr(e))}const aE=[":popover-open",":modal"];function Cc(e){return aE.some(t=>{try{return e.matches(t)}catch{return!1}})}const rE=["transform","translate","scale","rotate","perspective"],lE=["transform","translate","scale","rotate","perspective","filter"],iE=["paint","layout","strict","content"];function Dh(e){const t=kh(),n=on(e)?cn(e):e;return rE.some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||lE.some(s=>(n.willChange||"").includes(s))||iE.some(s=>(n.contain||"").includes(s))}function oE(e){let t=Ds(e);for(;_n(t)&&!wr(t);){if(Dh(t))return t;if(Cc(t))return null;t=Ds(t)}return null}function kh(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const cE=new Set(["html","body","#document"]);function wr(e){return cE.has(Dr(e))}function cn(e){return Mt(e).getComputedStyle(e)}function Ac(e){return on(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ds(e){if(Dr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Jp(e)&&e.host||Cn(e);return Jp(t)?t.host:t}function Ny(e){const t=Ds(e);return wr(t)?e.ownerDocument?e.ownerDocument.body:e.body:_n(t)&&fi(t)?t:Ny(t)}function ql(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=Ny(e),r=a===((s=e.ownerDocument)==null?void 0:s.body),i=Mt(a);if(r){const o=ef(i);return t.concat(i,i.visualViewport||[],fi(a)?a:[],o&&n?ql(o):[])}return t.concat(a,ql(a,[],n))}function ef(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function Sy(e){const t=cn(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const a=_n(e),r=a?e.offsetWidth:n,i=a?e.offsetHeight:s,o=Vo(n)!==r||Vo(s)!==i;return o&&(n=r,s=i),{width:n,height:s,$:o}}function Uh(e){return on(e)?e:e.contextElement}function rr(e){const t=Uh(e);if(!_n(t))return Nn(1);const n=t.getBoundingClientRect(),{width:s,height:a,$:r}=Sy(t);let i=(r?Vo(n.width):n.width)/s,o=(r?Vo(n.height):n.height)/a;return(!i||!Number.isFinite(i))&&(i=1),(!o||!Number.isFinite(o))&&(o=1),{x:i,y:o}}const uE=Nn(0);function _y(e){const t=Mt(e);return!kh()||!t.visualViewport?uE:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dE(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Mt(e)?!1:t}function ca(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),r=Uh(e);let i=Nn(1);t&&(s?on(s)&&(i=rr(s)):i=rr(e));const o=dE(r,n,s)?_y(r):Nn(0);let c=(a.left+o.x)/i.x,u=(a.top+o.y)/i.y,d=a.width/i.x,f=a.height/i.y;if(r){const h=Mt(r),p=s&&on(s)?Mt(s):s;let y=h,x=ef(y);for(;x&&s&&p!==y;){const w=rr(x),b=x.getBoundingClientRect(),v=cn(x),g=b.left+(x.clientLeft+parseFloat(v.paddingLeft))*w.x,j=b.top+(x.clientTop+parseFloat(v.paddingTop))*w.y;c*=w.x,u*=w.y,d*=w.x,f*=w.y,c+=g,u+=j,y=Mt(x),x=ef(y)}}return Xo({width:d,height:f,x:c,y:u})}function Oc(e,t){const n=Ac(e).scrollLeft;return t?t.left+n:ca(Cn(e)).left+n}function Ey(e,t){const n=e.getBoundingClientRect(),s=n.left+t.scrollLeft-Oc(e,n),a=n.top+t.scrollTop;return{x:s,y:a}}function fE(e){let{elements:t,rect:n,offsetParent:s,strategy:a}=e;const r=a==="fixed",i=Cn(s),o=t?Cc(t.floating):!1;if(s===i||o&&r)return n;let c={scrollLeft:0,scrollTop:0},u=Nn(1);const d=Nn(0),f=_n(s);if((f||!f&&!r)&&((Dr(s)!=="body"||fi(i))&&(c=Ac(s)),_n(s))){const p=ca(s);u=rr(s),d.x=p.x+s.clientLeft,d.y=p.y+s.clientTop}const h=i&&!f&&!r?Ey(i,c):Nn(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+d.x+h.x,y:n.y*u.y-c.scrollTop*u.y+d.y+h.y}}function hE(e){return Array.from(e.getClientRects())}function mE(e){const t=Cn(e),n=Ac(e),s=e.ownerDocument.body,a=Et(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),r=Et(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let i=-n.scrollLeft+Oc(e);const o=-n.scrollTop;return cn(s).direction==="rtl"&&(i+=Et(t.clientWidth,s.clientWidth)-a),{width:a,height:r,x:i,y:o}}const eg=25;function pE(e,t){const n=Mt(e),s=Cn(e),a=n.visualViewport;let r=s.clientWidth,i=s.clientHeight,o=0,c=0;if(a){r=a.width,i=a.height;const d=kh();(!d||d&&t==="fixed")&&(o=a.offsetLeft,c=a.offsetTop)}const u=Oc(s);if(u<=0){const d=s.ownerDocument,f=d.body,h=getComputedStyle(f),p=d.compatMode==="CSS1Compat"&&parseFloat(h.marginLeft)+parseFloat(h.marginRight)||0,y=Math.abs(s.clientWidth-f.clientWidth-p);y<=eg&&(r-=y)}else u<=eg&&(r+=u);return{width:r,height:i,x:o,y:c}}const gE=new Set(["absolute","fixed"]);function vE(e,t){const n=ca(e,!0,t==="fixed"),s=n.top+e.clientTop,a=n.left+e.clientLeft,r=_n(e)?rr(e):Nn(1),i=e.clientWidth*r.x,o=e.clientHeight*r.y,c=a*r.x,u=s*r.y;return{width:i,height:o,x:c,y:u}}function tg(e,t,n){let s;if(t==="viewport")s=pE(e,n);else if(t==="document")s=mE(Cn(e));else if(on(t))s=vE(t,n);else{const a=_y(e);s={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Xo(s)}function Ty(e,t){const n=Ds(e);return n===t||!on(n)||wr(n)?!1:cn(n).position==="fixed"||Ty(n,t)}function xE(e,t){const n=t.get(e);if(n)return n;let s=ql(e,[],!1).filter(o=>on(o)&&Dr(o)!=="body"),a=null;const r=cn(e).position==="fixed";let i=r?Ds(e):e;for(;on(i)&&!wr(i);){const o=cn(i),c=Dh(i);!c&&o.position==="fixed"&&(a=null),(r?!c&&!a:!c&&o.position==="static"&&!!a&&gE.has(a.position)||fi(i)&&!c&&Ty(e,i))?s=s.filter(d=>d!==i):a=o,i=Ds(i)}return t.set(e,s),s}function yE(e){let{element:t,boundary:n,rootBoundary:s,strategy:a}=e;const i=[...n==="clippingAncestors"?Cc(t)?[]:xE(t,this._c):[].concat(n),s],o=i[0],c=i.reduce((u,d)=>{const f=tg(t,d,a);return u.top=Et(f.top,u.top),u.right=Ms(f.right,u.right),u.bottom=Ms(f.bottom,u.bottom),u.left=Et(f.left,u.left),u},tg(t,o,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function bE(e){const{width:t,height:n}=Sy(e);return{width:t,height:n}}function wE(e,t,n){const s=_n(t),a=Cn(t),r=n==="fixed",i=ca(e,!0,r,t);let o={scrollLeft:0,scrollTop:0};const c=Nn(0);function u(){c.x=Oc(a)}if(s||!s&&!r)if((Dr(t)!=="body"||fi(a))&&(o=Ac(t)),s){const p=ca(t,!0,r,t);c.x=p.x+t.clientLeft,c.y=p.y+t.clientTop}else a&&u();r&&!s&&a&&u();const d=a&&!s&&!r?Ey(a,o):Nn(0),f=i.left+o.scrollLeft-c.x-d.x,h=i.top+o.scrollTop-c.y-d.y;return{x:f,y:h,width:i.width,height:i.height}}function Lu(e){return cn(e).position==="static"}function ng(e,t){if(!_n(e)||cn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Cn(e)===n&&(n=n.ownerDocument.body),n}function Cy(e,t){const n=Mt(e);if(Cc(e))return n;if(!_n(e)){let a=Ds(e);for(;a&&!wr(a);){if(on(a)&&!Lu(a))return a;a=Ds(a)}return n}let s=ng(e,t);for(;s&&sE(s)&&Lu(s);)s=ng(s,t);return s&&wr(s)&&Lu(s)&&!Dh(s)?n:s||oE(e)||n}const jE=async function(e){const t=this.getOffsetParent||Cy,n=this.getDimensions,s=await n(e.floating);return{reference:wE(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function NE(e){return cn(e).direction==="rtl"}const SE={convertOffsetParentRelativeRectToViewportRelativeRect:fE,getDocumentElement:Cn,getClippingRect:yE,getOffsetParent:Cy,getElementRects:jE,getClientRects:hE,getDimensions:bE,getScale:rr,isElement:on,isRTL:NE};function Ay(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function _E(e,t){let n=null,s;const a=Cn(e);function r(){var o;clearTimeout(s),(o=n)==null||o.disconnect(),n=null}function i(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),r();const u=e.getBoundingClientRect(),{left:d,top:f,width:h,height:p}=u;if(o||t(),!h||!p)return;const y=Li(f),x=Li(a.clientWidth-(d+h)),w=Li(a.clientHeight-(f+p)),b=Li(d),g={rootMargin:-y+"px "+-x+"px "+-w+"px "+-b+"px",threshold:Et(0,Ms(1,c))||1};let j=!0;function N(S){const _=S[0].intersectionRatio;if(_!==c){if(!j)return i();_?i(!1,_):s=setTimeout(()=>{i(!1,1e-7)},1e3)}_===1&&!Ay(u,e.getBoundingClientRect())&&i(),j=!1}try{n=new IntersectionObserver(N,{...g,root:a.ownerDocument})}catch{n=new IntersectionObserver(N,g)}n.observe(e)}return i(!0),r}function EE(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:a=!0,ancestorResize:r=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=s,u=Uh(e),d=a||r?[...u?ql(u):[],...ql(t)]:[];d.forEach(b=>{a&&b.addEventListener("scroll",n,{passive:!0}),r&&b.addEventListener("resize",n)});const f=u&&o?_E(u,n):null;let h=-1,p=null;i&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var g;(g=p)==null||g.observe(t)})),n()}),u&&!c&&p.observe(u),p.observe(t));let y,x=c?ca(e):null;c&&w();function w(){const b=ca(e);x&&!Ay(x,b)&&n(),x=b,y=requestAnimationFrame(w)}return n(),()=>{var b;d.forEach(v=>{a&&v.removeEventListener("scroll",n),r&&v.removeEventListener("resize",n)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const TE=Z2,CE=W2,AE=K2,OE=eE,RE=F2,sg=X2,ME=J2,DE=(e,t,n)=>{const s=new Map,a={platform:SE,...n},r={...a.platform,_c:s};return Y2(e,t,{...a,platform:r})};var kE=typeof document<"u",UE=function(){},ro=kE?m.useLayoutEffect:UE;function Ko(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Ko(e[s],t[s]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,a[s]))return!1;for(s=n;s--!==0;){const r=a[s];if(!(r==="_owner"&&e.$$typeof)&&!Ko(e[r],t[r]))return!1}return!0}return e!==e&&t!==t}function Oy(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function ag(e,t){const n=Oy(e);return Math.round(t*n)/n}function Iu(e){const t=m.useRef(e);return ro(()=>{t.current=e}),t}function LE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:a,elements:{reference:r,floating:i}={},transform:o=!0,whileElementsMounted:c,open:u}=e,[d,f]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=m.useState(s);Ko(h,s)||p(s);const[y,x]=m.useState(null),[w,b]=m.useState(null),v=m.useCallback(M=>{M!==S.current&&(S.current=M,x(M))},[]),g=m.useCallback(M=>{M!==_.current&&(_.current=M,b(M))},[]),j=r||y,N=i||w,S=m.useRef(null),_=m.useRef(null),A=m.useRef(d),R=c!=null,E=Iu(c),z=Iu(a),T=Iu(u),P=m.useCallback(()=>{if(!S.current||!_.current)return;const M={placement:t,strategy:n,middleware:h};z.current&&(M.platform=z.current),DE(S.current,_.current,M).then(U=>{const V={...U,isPositioned:T.current!==!1};H.current&&!Ko(A.current,V)&&(A.current=V,Sr.flushSync(()=>{f(V)}))})},[h,t,n,z,T]);ro(()=>{u===!1&&A.current.isPositioned&&(A.current.isPositioned=!1,f(M=>({...M,isPositioned:!1})))},[u]);const H=m.useRef(!1);ro(()=>(H.current=!0,()=>{H.current=!1}),[]),ro(()=>{if(j&&(S.current=j),N&&(_.current=N),j&&N){if(E.current)return E.current(j,N,P);P()}},[j,N,P,E,R]);const k=m.useMemo(()=>({reference:S,floating:_,setReference:v,setFloating:g}),[v,g]),C=m.useMemo(()=>({reference:j,floating:N}),[j,N]),O=m.useMemo(()=>{const M={position:n,left:0,top:0};if(!C.floating)return M;const U=ag(C.floating,d.x),V=ag(C.floating,d.y);return o?{...M,transform:"translate("+U+"px, "+V+"px)",...Oy(C.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:V}},[n,o,C.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:P,refs:k,elements:C,floatingStyles:O}),[d,P,k,C,O])}const IE=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:a}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?sg({element:s.current,padding:a}).fn(n):{}:s?sg({element:s,padding:a}).fn(n):{}}}},zE=(e,t)=>({...TE(e),options:[e,t]}),PE=(e,t)=>({...CE(e),options:[e,t]}),$E=(e,t)=>({...ME(e),options:[e,t]}),BE=(e,t)=>({...AE(e),options:[e,t]}),HE=(e,t)=>({...OE(e),options:[e,t]}),qE=(e,t)=>({...RE(e),options:[e,t]}),GE=(e,t)=>({...IE(e),options:[e,t]});var VE="Arrow",Ry=m.forwardRef((e,t)=>{const{children:n,width:s=10,height:a=5,...r}=e;return l.jsx(re.svg,{...r,ref:t,width:s,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});Ry.displayName=VE;var YE=Ry;function XE(e){const[t,n]=m.useState(void 0);return it(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const r=a[0];let i,o;if("borderBoxSize"in r){const c=r.borderBoxSize,u=Array.isArray(c)?c[0]:c;i=u.inlineSize,o=u.blockSize}else i=e.offsetWidth,o=e.offsetHeight;n({width:i,height:o})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Lh="Popper",[My,Rc]=Ls(Lh),[KE,Dy]=My(Lh),ky=e=>{const{__scopePopper:t,children:n}=e,[s,a]=m.useState(null);return l.jsx(KE,{scope:t,anchor:s,onAnchorChange:a,children:n})};ky.displayName=Lh;var Uy="PopperAnchor",Ly=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...a}=e,r=Dy(Uy,n),i=m.useRef(null),o=Se(t,i),c=m.useRef(null);return m.useEffect(()=>{const u=c.current;c.current=(s==null?void 0:s.current)||i.current,u!==c.current&&r.onAnchorChange(c.current)}),s?null:l.jsx(re.div,{...a,ref:o})});Ly.displayName=Uy;var Ih="PopperContent",[FE,QE]=My(Ih),Iy=m.forwardRef((e,t)=>{var q,he,te,ce,xe,ye;const{__scopePopper:n,side:s="bottom",sideOffset:a=0,align:r="center",alignOffset:i=0,arrowPadding:o=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...x}=e,w=Dy(Ih,n),[b,v]=m.useState(null),g=Se(t,jt=>v(jt)),[j,N]=m.useState(null),S=XE(j),_=(S==null?void 0:S.width)??0,A=(S==null?void 0:S.height)??0,R=s+(r!=="center"?"-"+r:""),E=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},z=Array.isArray(u)?u:[u],T=z.length>0,P={padding:E,boundary:z.filter(WE),altBoundary:T},{refs:H,floatingStyles:k,placement:C,isPositioned:O,middlewareData:M}=LE({strategy:"fixed",placement:R,whileElementsMounted:(...jt)=>EE(...jt,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[zE({mainAxis:a+A,alignmentAxis:i}),c&&PE({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?$E():void 0,...P}),c&&BE({...P}),HE({...P,apply:({elements:jt,rects:fn,availableWidth:Ir,availableHeight:zr})=>{const{width:Pr,height:Dj}=fn.reference,yi=jt.floating.style;yi.setProperty("--radix-popper-available-width",`${Ir}px`),yi.setProperty("--radix-popper-available-height",`${zr}px`),yi.setProperty("--radix-popper-anchor-width",`${Pr}px`),yi.setProperty("--radix-popper-anchor-height",`${Dj}px`)}}),j&&GE({element:j,padding:o}),JE({arrowWidth:_,arrowHeight:A}),h&&qE({strategy:"referenceHidden",...P})]}),[U,V]=$y(C),J=Sn(y);it(()=>{O&&(J==null||J())},[O,J]);const Ue=(q=M.arrow)==null?void 0:q.x,ot=(he=M.arrow)==null?void 0:he.y,L=((te=M.arrow)==null?void 0:te.centerOffset)!==0,[X,je]=m.useState();return it(()=>{b&&je(window.getComputedStyle(b).zIndex)},[b]),l.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...k,transform:O?k.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:X,"--radix-popper-transform-origin":[(ce=M.transformOrigin)==null?void 0:ce.x,(xe=M.transformOrigin)==null?void 0:xe.y].join(" "),...((ye=M.hide)==null?void 0:ye.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:l.jsx(FE,{scope:n,placedSide:U,onArrowChange:N,arrowX:Ue,arrowY:ot,shouldHideArrow:L,children:l.jsx(re.div,{"data-side":U,"data-align":V,...x,ref:g,style:{...x.style,animation:O?void 0:"none"}})})})});Iy.displayName=Ih;var zy="PopperArrow",ZE={top:"bottom",right:"left",bottom:"top",left:"right"},Py=m.forwardRef(function(t,n){const{__scopePopper:s,...a}=t,r=QE(zy,s),i=ZE[r.placedSide];return l.jsx("span",{ref:r.onArrowChange,style:{position:"absolute",left:r.arrowX,top:r.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[r.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[r.placedSide],visibility:r.shouldHideArrow?"hidden":void 0},children:l.jsx(YE,{...a,ref:n,style:{...a.style,display:"block"}})})});Py.displayName=zy;function WE(e){return e!==null}var JE=e=>({name:"transformOrigin",options:e,fn(t){var w,b,v;const{placement:n,rects:s,middlewareData:a}=t,i=((w=a.arrow)==null?void 0:w.centerOffset)!==0,o=i?0:e.arrowWidth,c=i?0:e.arrowHeight,[u,d]=$y(n),f={start:"0%",center:"50%",end:"100%"}[d],h=(((b=a.arrow)==null?void 0:b.x)??0)+o/2,p=(((v=a.arrow)==null?void 0:v.y)??0)+c/2;let y="",x="";return u==="bottom"?(y=i?f:`${h}px`,x=`${-c}px`):u==="top"?(y=i?f:`${h}px`,x=`${s.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=i?f:`${p}px`):u==="left"&&(y=`${s.floating.width+c}px`,x=i?f:`${p}px`),{data:{x:y,y:x}}}});function $y(e){const[t,n="center"]=e.split("-");return[t,n]}var By=ky,Hy=Ly,qy=Iy,Gy=Py,eT="Portal",Mc=m.forwardRef((e,t)=>{var o;const{container:n,...s}=e,[a,r]=m.useState(!1);it(()=>r(!0),[]);const i=n||a&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return i?rN.createPortal(l.jsx(re.div,{...s,ref:t}),i):null});Mc.displayName=eT;function tT(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Vy=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),nT="VisuallyHidden",sT=m.forwardRef((e,t)=>l.jsx(re.span,{...e,ref:t,style:{...Vy,...e.style}}));sT.displayName=nT;var aT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Na=new WeakMap,Ii=new WeakMap,zi={},zu=0,Yy=function(e){return e&&(e.host||Yy(e.parentNode))},rT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=Yy(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},lT=function(e,t,n,s){var a=rT(t,Array.isArray(e)?e:[e]);zi[n]||(zi[n]=new WeakMap);var r=zi[n],i=[],o=new Set,c=new Set(a),u=function(f){!f||o.has(f)||(o.add(f),u(f.parentNode))};a.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(o.has(h))d(h);else try{var p=h.getAttribute(s),y=p!==null&&p!=="false",x=(Na.get(h)||0)+1,w=(r.get(h)||0)+1;Na.set(h,x),r.set(h,w),i.push(h),x===1&&y&&Ii.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(s,"true")}catch(b){console.error("aria-hidden: cannot operate on ",h,b)}})};return d(t),o.clear(),zu++,function(){i.forEach(function(f){var h=Na.get(f)-1,p=r.get(f)-1;Na.set(f,h),r.set(f,p),h||(Ii.has(f)||f.removeAttribute(s),Ii.delete(f)),p||f.removeAttribute(n)}),zu--,zu||(Na=new WeakMap,Na=new WeakMap,Ii=new WeakMap,zi={})}},zh=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),a=aT(e);return a?(s.push.apply(s,Array.from(a.querySelectorAll("[aria-live], script"))),lT(s,a,n,"aria-hidden")):function(){return null}},gn=function(){return gn=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gn.apply(this,arguments)};function Xy(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n}function iT(e,t,n){if(n||arguments.length===2)for(var s=0,a=t.length,r;s<a;s++)(r||!(s in t))&&(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))}var lo="right-scroll-bar-position",io="width-before-scroll-bar",oT="with-scroll-bars-hidden",cT="--removed-body-scroll-bar-size";function Pu(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uT(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var a=n.value;a!==s&&(n.value=s,n.callback(s,a))}}}})[0];return n.callback=t,n.facade}var dT=typeof window<"u"?m.useLayoutEffect:m.useEffect,rg=new WeakMap;function fT(e,t){var n=uT(null,function(s){return e.forEach(function(a){return Pu(a,s)})});return dT(function(){var s=rg.get(n);if(s){var a=new Set(s),r=new Set(e),i=n.current;a.forEach(function(o){r.has(o)||Pu(o,null)}),r.forEach(function(o){a.has(o)||Pu(o,i)})}rg.set(n,e)},[e]),n}function hT(e){return e}function mT(e,t){t===void 0&&(t=hT);var n=[],s=!1,a={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(r){var i=t(r,s);return n.push(i),function(){n=n.filter(function(o){return o!==i})}},assignSyncMedium:function(r){for(s=!0;n.length;){var i=n;n=[],i.forEach(r)}n={push:function(o){return r(o)},filter:function(){return n}}},assignMedium:function(r){s=!0;var i=[];if(n.length){var o=n;n=[],o.forEach(r),i=n}var c=function(){var d=i;i=[],d.forEach(r)},u=function(){return Promise.resolve().then(c)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return a}function pT(e){e===void 0&&(e={});var t=mT(null);return t.options=gn({async:!0,ssr:!1},e),t}var Ky=function(e){var t=e.sideCar,n=Xy(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return m.createElement(s,gn({},n))};Ky.isSideCarExport=!0;function gT(e,t){return e.useMedium(t),Ky}var Fy=pT(),$u=function(){},Dc=m.forwardRef(function(e,t){var n=m.useRef(null),s=m.useState({onScrollCapture:$u,onWheelCapture:$u,onTouchMoveCapture:$u}),a=s[0],r=s[1],i=e.forwardProps,o=e.children,c=e.className,u=e.removeScrollBar,d=e.enabled,f=e.shards,h=e.sideCar,p=e.noRelative,y=e.noIsolation,x=e.inert,w=e.allowPinchZoom,b=e.as,v=b===void 0?"div":b,g=e.gapMode,j=Xy(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=h,S=fT([n,t]),_=gn(gn({},j),a);return m.createElement(m.Fragment,null,d&&m.createElement(N,{sideCar:Fy,removeScrollBar:u,shards:f,noRelative:p,noIsolation:y,inert:x,setCallbacks:r,allowPinchZoom:!!w,lockRef:n,gapMode:g}),i?m.cloneElement(m.Children.only(o),gn(gn({},_),{ref:S})):m.createElement(v,gn({},_,{className:c,ref:S}),o))});Dc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dc.classNames={fullWidth:io,zeroRight:lo};var vT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function xT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vT();return t&&e.setAttribute("nonce",t),e}function yT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function bT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var wT=function(){var e=0,t=null;return{add:function(n){e==0&&(t=xT())&&(yT(t,n),bT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},jT=function(){var e=wT();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Qy=function(){var e=jT(),t=function(n){var s=n.styles,a=n.dynamic;return e(s,a),null};return t},NT={left:0,top:0,right:0,gap:0},Bu=function(e){return parseInt(e||"",10)||0},ST=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Bu(n),Bu(s),Bu(a)]},_T=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NT;var t=ST(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},ET=Qy(),lr="data-scroll-locked",TT=function(e,t,n,s){var a=e.left,r=e.top,i=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(oT,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(o,"px ").concat(s,`;
  }
  body[`).concat(lr,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(r,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(lo,` {
    right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(io,` {
    margin-right: `).concat(o,"px ").concat(s,`;
  }
  
  .`).concat(lo," .").concat(lo,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(io," .").concat(io,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(lr,`] {
    `).concat(cT,": ").concat(o,`px;
  }
`)},lg=function(){var e=parseInt(document.body.getAttribute(lr)||"0",10);return isFinite(e)?e:0},CT=function(){m.useEffect(function(){return document.body.setAttribute(lr,(lg()+1).toString()),function(){var e=lg()-1;e<=0?document.body.removeAttribute(lr):document.body.setAttribute(lr,e.toString())}},[])},AT=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,a=s===void 0?"margin":s;CT();var r=m.useMemo(function(){return _T(a)},[a]);return m.createElement(ET,{styles:TT(r,!t,a,n?"":"!important")})},tf=!1;if(typeof window<"u")try{var Pi=Object.defineProperty({},"passive",{get:function(){return tf=!0,!0}});window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{tf=!1}var Sa=tf?{passive:!1}:!1,OT=function(e){return e.tagName==="TEXTAREA"},Zy=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!OT(e)&&n[t]==="visible")},RT=function(e){return Zy(e,"overflowY")},MT=function(e){return Zy(e,"overflowX")},ig=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var a=Wy(e,s);if(a){var r=Jy(e,s),i=r[1],o=r[2];if(i>o)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},DT=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},kT=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},Wy=function(e,t){return e==="v"?RT(t):MT(t)},Jy=function(e,t){return e==="v"?DT(t):kT(t)},UT=function(e,t){return e==="h"&&t==="rtl"?-1:1},LT=function(e,t,n,s,a){var r=UT(e,window.getComputedStyle(t).direction),i=r*s,o=n.target,c=t.contains(o),u=!1,d=i>0,f=0,h=0;do{if(!o)break;var p=Jy(e,o),y=p[0],x=p[1],w=p[2],b=x-w-r*y;(y||b)&&Wy(e,o)&&(f+=b,h+=y);var v=o.parentNode;o=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&o!==document.body||c&&(t.contains(o)||t===o));return(d&&Math.abs(f)<1||!d&&Math.abs(h)<1)&&(u=!0),u},$i=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},og=function(e){return[e.deltaX,e.deltaY]},cg=function(e){return e&&"current"in e?e.current:e},IT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},PT=0,_a=[];function $T(e){var t=m.useRef([]),n=m.useRef([0,0]),s=m.useRef(),a=m.useState(PT++)[0],r=m.useState(Qy)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var x=iT([e.lockRef.current],(e.shards||[]).map(cg),!0).filter(Boolean);return x.forEach(function(w){return w.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),x.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var o=m.useCallback(function(x,w){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!i.current.allowPinchZoom;var b=$i(x),v=n.current,g="deltaX"in x?x.deltaX:v[0]-b[0],j="deltaY"in x?x.deltaY:v[1]-b[1],N,S=x.target,_=Math.abs(g)>Math.abs(j)?"h":"v";if("touches"in x&&_==="h"&&S.type==="range")return!1;var A=ig(_,S);if(!A)return!0;if(A?N=_:(N=_==="v"?"h":"v",A=ig(_,S)),!A)return!1;if(!s.current&&"changedTouches"in x&&(g||j)&&(s.current=N),!N)return!0;var R=s.current||N;return LT(R,w,x,R==="h"?g:j)},[]),c=m.useCallback(function(x){var w=x;if(!(!_a.length||_a[_a.length-1]!==r)){var b="deltaY"in w?og(w):$i(w),v=t.current.filter(function(N){return N.name===w.type&&(N.target===w.target||w.target===N.shadowParent)&&IT(N.delta,b)})[0];if(v&&v.should){w.cancelable&&w.preventDefault();return}if(!v){var g=(i.current.shards||[]).map(cg).filter(Boolean).filter(function(N){return N.contains(w.target)}),j=g.length>0?o(w,g[0]):!i.current.noIsolation;j&&w.cancelable&&w.preventDefault()}}},[]),u=m.useCallback(function(x,w,b,v){var g={name:x,delta:w,target:b,should:v,shadowParent:BT(b)};t.current.push(g),setTimeout(function(){t.current=t.current.filter(function(j){return j!==g})},1)},[]),d=m.useCallback(function(x){n.current=$i(x),s.current=void 0},[]),f=m.useCallback(function(x){u(x.type,og(x),x.target,o(x,e.lockRef.current))},[]),h=m.useCallback(function(x){u(x.type,$i(x),x.target,o(x,e.lockRef.current))},[]);m.useEffect(function(){return _a.push(r),e.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:h}),document.addEventListener("wheel",c,Sa),document.addEventListener("touchmove",c,Sa),document.addEventListener("touchstart",d,Sa),function(){_a=_a.filter(function(x){return x!==r}),document.removeEventListener("wheel",c,Sa),document.removeEventListener("touchmove",c,Sa),document.removeEventListener("touchstart",d,Sa)}},[]);var p=e.removeScrollBar,y=e.inert;return m.createElement(m.Fragment,null,y?m.createElement(r,{styles:zT(a)}):null,p?m.createElement(AT,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function BT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const HT=gT(Fy,$T);var kc=m.forwardRef(function(e,t){return m.createElement(Dc,gn({},e,{ref:t,sideCar:HT}))});kc.classNames=Dc.classNames;var qT=[" ","Enter","ArrowUp","ArrowDown"],GT=[" ","Enter"],ua="Select",[Uc,Lc,VT]=Nh(ua),[kr]=Ls(ua,[VT,Rc]),Ic=Rc(),[YT,Is]=kr(ua),[XT,KT]=kr(ua),eb=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:a,onOpenChange:r,value:i,defaultValue:o,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:h,required:p,form:y}=e,x=Ic(t),[w,b]=m.useState(null),[v,g]=m.useState(null),[j,N]=m.useState(!1),S=wc(u),[_,A]=xr({prop:s,defaultProp:a??!1,onChange:r,caller:ua}),[R,E]=xr({prop:i,defaultProp:o,onChange:c,caller:ua}),z=m.useRef(null),T=w?y||!!w.closest("form"):!0,[P,H]=m.useState(new Set),k=Array.from(P).map(C=>C.props.value).join(";");return l.jsx(By,{...x,children:l.jsxs(YT,{required:p,scope:t,trigger:w,onTriggerChange:b,valueNode:v,onValueNodeChange:g,valueNodeHasChildren:j,onValueNodeHasChildrenChange:N,contentId:jn(),value:R,onValueChange:E,open:_,onOpenChange:A,dir:S,triggerPointerDownPosRef:z,disabled:h,children:[l.jsx(Uc.Provider,{scope:t,children:l.jsx(XT,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback(C=>{H(O=>new Set(O).add(C))},[]),onNativeOptionRemove:m.useCallback(C=>{H(O=>{const M=new Set(O);return M.delete(C),M})},[]),children:n})}),T?l.jsxs(Sb,{"aria-hidden":!0,required:p,tabIndex:-1,name:d,autoComplete:f,value:R,onChange:C=>E(C.target.value),disabled:h,form:y,children:[R===void 0?l.jsx("option",{value:""}):null,Array.from(P)]},k):null]})})};eb.displayName=ua;var tb="SelectTrigger",nb=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...a}=e,r=Ic(n),i=Is(tb,n),o=i.disabled||s,c=Se(t,i.onTriggerChange),u=Lc(n),d=m.useRef("touch"),[f,h,p]=Eb(x=>{const w=u().filter(g=>!g.disabled),b=w.find(g=>g.value===i.value),v=Tb(w,x,b);v!==void 0&&i.onValueChange(v.value)}),y=x=>{o||(i.onOpenChange(!0),p()),x&&(i.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return l.jsx(Hy,{asChild:!0,...r,children:l.jsx(re.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":_b(i.value)?"":void 0,...a,ref:c,onClick:G(a.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:G(a.onPointerDown,x=>{d.current=x.pointerType;const w=x.target;w.hasPointerCapture(x.pointerId)&&w.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:G(a.onKeyDown,x=>{const w=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&h(x.key),!(w&&x.key===" ")&&qT.includes(x.key)&&(y(),x.preventDefault())})})})});nb.displayName=tb;var sb="SelectValue",ab=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,children:r,placeholder:i="",...o}=e,c=Is(sb,n),{onValueNodeHasChildrenChange:u}=c,d=r!==void 0,f=Se(t,c.onValueNodeChange);return it(()=>{u(d)},[u,d]),l.jsx(re.span,{...o,ref:f,style:{pointerEvents:"none"},children:_b(c.value)?l.jsx(l.Fragment,{children:i}):r})});ab.displayName=sb;var FT="SelectIcon",rb=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...a}=e;return l.jsx(re.span,{"aria-hidden":!0,...a,ref:t,children:s||"▼"})});rb.displayName=FT;var QT="SelectPortal",lb=e=>l.jsx(Mc,{asChild:!0,...e});lb.displayName=QT;var da="SelectContent",ib=m.forwardRef((e,t)=>{const n=Is(da,e.__scopeSelect),[s,a]=m.useState();if(it(()=>{a(new DocumentFragment)},[]),!n.open){const r=s;return r?Sr.createPortal(l.jsx(ob,{scope:e.__scopeSelect,children:l.jsx(Uc.Slot,{scope:e.__scopeSelect,children:l.jsx("div",{children:e.children})})}),r):null}return l.jsx(cb,{...e,ref:t})});ib.displayName=da;var tn=10,[ob,zs]=kr(da),ZT="SelectContentImpl",WT=la("SelectContent.RemoveScroll"),cb=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:r,onPointerDownOutside:i,side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:x,avoidCollisions:w,...b}=e,v=Is(da,n),[g,j]=m.useState(null),[N,S]=m.useState(null),_=Se(t,q=>j(q)),[A,R]=m.useState(null),[E,z]=m.useState(null),T=Lc(n),[P,H]=m.useState(!1),k=m.useRef(!1);m.useEffect(()=>{if(g)return zh(g)},[g]),Ah();const C=m.useCallback(q=>{const[he,...te]=T().map(ye=>ye.ref.current),[ce]=te.slice(-1),xe=document.activeElement;for(const ye of q)if(ye===xe||(ye==null||ye.scrollIntoView({block:"nearest"}),ye===he&&N&&(N.scrollTop=0),ye===ce&&N&&(N.scrollTop=N.scrollHeight),ye==null||ye.focus(),document.activeElement!==xe))return},[T,N]),O=m.useCallback(()=>C([A,g]),[C,A,g]);m.useEffect(()=>{P&&O()},[P,O]);const{onOpenChange:M,triggerPointerDownPosRef:U}=v;m.useEffect(()=>{if(g){let q={x:0,y:0};const he=ce=>{var xe,ye;q={x:Math.abs(Math.round(ce.pageX)-(((xe=U.current)==null?void 0:xe.x)??0)),y:Math.abs(Math.round(ce.pageY)-(((ye=U.current)==null?void 0:ye.y)??0))}},te=ce=>{q.x<=10&&q.y<=10?ce.preventDefault():g.contains(ce.target)||M(!1),document.removeEventListener("pointermove",he),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",he),document.addEventListener("pointerup",te,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",he),document.removeEventListener("pointerup",te,{capture:!0})}}},[g,M,U]),m.useEffect(()=>{const q=()=>M(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[M]);const[V,J]=Eb(q=>{const he=T().filter(xe=>!xe.disabled),te=he.find(xe=>xe.ref.current===document.activeElement),ce=Tb(he,q,te);ce&&setTimeout(()=>ce.ref.current.focus())}),Ue=m.useCallback((q,he,te)=>{const ce=!k.current&&!te;(v.value!==void 0&&v.value===he||ce)&&(R(q),ce&&(k.current=!0))},[v.value]),ot=m.useCallback(()=>g==null?void 0:g.focus(),[g]),L=m.useCallback((q,he,te)=>{const ce=!k.current&&!te;(v.value!==void 0&&v.value===he||ce)&&z(q)},[v.value]),X=s==="popper"?nf:ub,je=X===nf?{side:o,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:x,avoidCollisions:w}:{};return l.jsx(ob,{scope:n,content:g,viewport:N,onViewportChange:S,itemRefCallback:Ue,selectedItem:A,onItemLeave:ot,itemTextRefCallback:L,focusSelectedItem:O,selectedItemText:E,position:s,isPositioned:P,searchRef:V,children:l.jsx(kc,{as:WT,allowPinchZoom:!0,children:l.jsx(Ec,{asChild:!0,trapped:v.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:G(a,q=>{var he;(he=v.trigger)==null||he.focus({preventScroll:!0}),q.preventDefault()}),children:l.jsx(_c,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(X,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:q=>q.preventDefault(),...b,...je,onPlaced:()=>H(!0),ref:_,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:G(b.onKeyDown,q=>{const he=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!he&&q.key.length===1&&J(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let ce=T().filter(xe=>!xe.disabled).map(xe=>xe.ref.current);if(["ArrowUp","End"].includes(q.key)&&(ce=ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const xe=q.target,ye=ce.indexOf(xe);ce=ce.slice(ye+1)}setTimeout(()=>C(ce)),q.preventDefault()}})})})})})})});cb.displayName=ZT;var JT="SelectItemAlignedPosition",ub=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...a}=e,r=Is(da,n),i=zs(da,n),[o,c]=m.useState(null),[u,d]=m.useState(null),f=Se(t,_=>d(_)),h=Lc(n),p=m.useRef(!1),y=m.useRef(!0),{viewport:x,selectedItem:w,selectedItemText:b,focusSelectedItem:v}=i,g=m.useCallback(()=>{if(r.trigger&&r.valueNode&&o&&u&&x&&w&&b){const _=r.trigger.getBoundingClientRect(),A=u.getBoundingClientRect(),R=r.valueNode.getBoundingClientRect(),E=b.getBoundingClientRect();if(r.dir!=="rtl"){const xe=E.left-A.left,ye=R.left-xe,jt=_.left-ye,fn=_.width+jt,Ir=Math.max(fn,A.width),zr=window.innerWidth-tn,Pr=$p(ye,[tn,Math.max(tn,zr-Ir)]);o.style.minWidth=fn+"px",o.style.left=Pr+"px"}else{const xe=A.right-E.right,ye=window.innerWidth-R.right-xe,jt=window.innerWidth-_.right-ye,fn=_.width+jt,Ir=Math.max(fn,A.width),zr=window.innerWidth-tn,Pr=$p(ye,[tn,Math.max(tn,zr-Ir)]);o.style.minWidth=fn+"px",o.style.right=Pr+"px"}const z=h(),T=window.innerHeight-tn*2,P=x.scrollHeight,H=window.getComputedStyle(u),k=parseInt(H.borderTopWidth,10),C=parseInt(H.paddingTop,10),O=parseInt(H.borderBottomWidth,10),M=parseInt(H.paddingBottom,10),U=k+C+P+M+O,V=Math.min(w.offsetHeight*5,U),J=window.getComputedStyle(x),Ue=parseInt(J.paddingTop,10),ot=parseInt(J.paddingBottom,10),L=_.top+_.height/2-tn,X=T-L,je=w.offsetHeight/2,q=w.offsetTop+je,he=k+C+q,te=U-he;if(he<=L){const xe=z.length>0&&w===z[z.length-1].ref.current;o.style.bottom="0px";const ye=u.clientHeight-x.offsetTop-x.offsetHeight,jt=Math.max(X,je+(xe?ot:0)+ye+O),fn=he+jt;o.style.height=fn+"px"}else{const xe=z.length>0&&w===z[0].ref.current;o.style.top="0px";const jt=Math.max(L,k+x.offsetTop+(xe?Ue:0)+je)+te;o.style.height=jt+"px",x.scrollTop=he-L+x.offsetTop}o.style.margin=`${tn}px 0`,o.style.minHeight=V+"px",o.style.maxHeight=T+"px",s==null||s(),requestAnimationFrame(()=>p.current=!0)}},[h,r.trigger,r.valueNode,o,u,x,w,b,r.dir,s]);it(()=>g(),[g]);const[j,N]=m.useState();it(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=m.useCallback(_=>{_&&y.current===!0&&(g(),v==null||v(),y.current=!1)},[g,v]);return l.jsx(tC,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:p,onScrollButtonChange:S,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:j},children:l.jsx(re.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});ub.displayName=JT;var eC="SelectPopperPosition",nf=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:a=tn,...r}=e,i=Ic(n);return l.jsx(qy,{...i,...r,ref:t,align:s,collisionPadding:a,style:{boxSizing:"border-box",...r.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});nf.displayName=eC;var[tC,Ph]=kr(da,{}),sf="SelectViewport",db=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...a}=e,r=zs(sf,n),i=Ph(sf,n),o=Se(t,r.onViewportChange),c=m.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),l.jsx(Uc.Slot,{scope:n,children:l.jsx(re.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:G(a.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:h}=i;if(h!=null&&h.current&&f){const p=Math.abs(c.current-d.scrollTop);if(p>0){const y=window.innerHeight-tn*2,x=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),b=Math.max(x,w);if(b<y){const v=b+p,g=Math.min(y,v),j=v-g;f.style.height=g+"px",f.style.bottom==="0px"&&(d.scrollTop=j>0?j:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});db.displayName=sf;var fb="SelectGroup",[nC,sC]=kr(fb),aC=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=jn();return l.jsx(nC,{scope:n,id:a,children:l.jsx(re.div,{role:"group","aria-labelledby":a,...s,ref:t})})});aC.displayName=fb;var hb="SelectLabel",mb=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=sC(hb,n);return l.jsx(re.div,{id:a.id,...s,ref:t})});mb.displayName=hb;var Fo="SelectItem",[rC,pb]=kr(Fo),gb=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:a=!1,textValue:r,...i}=e,o=Is(Fo,n),c=zs(Fo,n),u=o.value===s,[d,f]=m.useState(r??""),[h,p]=m.useState(!1),y=Se(t,v=>{var g;return(g=c.itemRefCallback)==null?void 0:g.call(c,v,s,a)}),x=jn(),w=m.useRef("touch"),b=()=>{a||(o.onValueChange(s),o.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(rC,{scope:n,value:s,disabled:a,textId:x,isSelected:u,onItemTextChange:m.useCallback(v=>{f(g=>g||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(Uc.ItemSlot,{scope:n,value:s,disabled:a,textValue:d,children:l.jsx(re.div,{role:"option","aria-labelledby":x,"data-highlighted":h?"":void 0,"aria-selected":u&&h,"data-state":u?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...i,ref:y,onFocus:G(i.onFocus,()=>p(!0)),onBlur:G(i.onBlur,()=>p(!1)),onClick:G(i.onClick,()=>{w.current!=="mouse"&&b()}),onPointerUp:G(i.onPointerUp,()=>{w.current==="mouse"&&b()}),onPointerDown:G(i.onPointerDown,v=>{w.current=v.pointerType}),onPointerMove:G(i.onPointerMove,v=>{var g;w.current=v.pointerType,a?(g=c.onItemLeave)==null||g.call(c):w.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:G(i.onPointerLeave,v=>{var g;v.currentTarget===document.activeElement&&((g=c.onItemLeave)==null||g.call(c))}),onKeyDown:G(i.onKeyDown,v=>{var j;((j=c.searchRef)==null?void 0:j.current)!==""&&v.key===" "||(GT.includes(v.key)&&b(),v.key===" "&&v.preventDefault())})})})})});gb.displayName=Fo;var tl="SelectItemText",vb=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:a,...r}=e,i=Is(tl,n),o=zs(tl,n),c=pb(tl,n),u=KT(tl,n),[d,f]=m.useState(null),h=Se(t,b=>f(b),c.onItemTextChange,b=>{var v;return(v=o.itemTextRefCallback)==null?void 0:v.call(o,b,c.value,c.disabled)}),p=d==null?void 0:d.textContent,y=m.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:x,onNativeOptionRemove:w}=u;return it(()=>(x(y),()=>w(y)),[x,w,y]),l.jsxs(l.Fragment,{children:[l.jsx(re.span,{id:c.textId,...r,ref:h}),c.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Sr.createPortal(r.children,i.valueNode):null]})});vb.displayName=tl;var xb="SelectItemIndicator",yb=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return pb(xb,n).isSelected?l.jsx(re.span,{"aria-hidden":!0,...s,ref:t}):null});yb.displayName=xb;var af="SelectScrollUpButton",bb=m.forwardRef((e,t)=>{const n=zs(af,e.__scopeSelect),s=Ph(af,e.__scopeSelect),[a,r]=m.useState(!1),i=Se(t,s.onScrollButtonChange);return it(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollTop>0;r(u)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?l.jsx(jb,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop-c.offsetHeight)}}):null});bb.displayName=af;var rf="SelectScrollDownButton",wb=m.forwardRef((e,t)=>{const n=zs(rf,e.__scopeSelect),s=Ph(rf,e.__scopeSelect),[a,r]=m.useState(!1),i=Se(t,s.onScrollButtonChange);return it(()=>{if(n.viewport&&n.isPositioned){let o=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;r(d)};const c=n.viewport;return o(),c.addEventListener("scroll",o),()=>c.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),a?l.jsx(jb,{...e,ref:i,onAutoScroll:()=>{const{viewport:o,selectedItem:c}=n;o&&c&&(o.scrollTop=o.scrollTop+c.offsetHeight)}}):null});wb.displayName=rf;var jb=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...a}=e,r=zs("SelectScrollButton",n),i=m.useRef(null),o=Lc(n),c=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>c(),[c]),it(()=>{var d;const u=o().find(f=>f.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[o]),l.jsx(re.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:G(a.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:G(a.onPointerMove,()=>{var u;(u=r.onItemLeave)==null||u.call(r),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:G(a.onPointerLeave,()=>{c()})})}),lC="SelectSeparator",Nb=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return l.jsx(re.div,{"aria-hidden":!0,...s,ref:t})});Nb.displayName=lC;var lf="SelectArrow",iC=m.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,a=Ic(n),r=Is(lf,n),i=zs(lf,n);return r.open&&i.position==="popper"?l.jsx(Gy,{...a,...s,ref:t}):null});iC.displayName=lf;var oC="SelectBubbleInput",Sb=m.forwardRef(({__scopeSelect:e,value:t,...n},s)=>{const a=m.useRef(null),r=Se(s,a),i=tT(t);return m.useEffect(()=>{const o=a.current;if(!o)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(i!==t&&d){const f=new Event("change",{bubbles:!0});d.call(o,t),o.dispatchEvent(f)}},[i,t]),l.jsx(re.select,{...n,style:{...Vy,...n.style},ref:r,defaultValue:t})});Sb.displayName=oC;function _b(e){return e===""||e===void 0}function Eb(e){const t=Sn(e),n=m.useRef(""),s=m.useRef(0),a=m.useCallback(i=>{const o=n.current+i;t(o),function c(u){n.current=u,window.clearTimeout(s.current),u!==""&&(s.current=window.setTimeout(()=>c(""),1e3))}(o)},[t]),r=m.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,a,r]}function Tb(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,r=n?e.indexOf(n):-1;let i=cC(e,Math.max(r,0));a.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.textValue.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function cC(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var uC=eb,Cb=nb,dC=ab,fC=rb,hC=lb,Ab=ib,mC=db,Ob=mb,Rb=gb,pC=vb,gC=yb,Mb=bb,Db=wb,kb=Nb;const an=uC,rn=dC,Xt=m.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(Cb,{ref:s,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(fC,{asChild:!0,children:l.jsx(fy,{className:"h-4 w-4 opacity-50"})})]}));Xt.displayName=Cb.displayName;const Ub=m.forwardRef(({className:e,...t},n)=>l.jsx(Mb,{ref:n,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(i2,{className:"h-4 w-4"})}));Ub.displayName=Mb.displayName;const Lb=m.forwardRef(({className:e,...t},n)=>l.jsx(Db,{ref:n,className:W("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(fy,{className:"h-4 w-4"})}));Lb.displayName=Db.displayName;const Kt=m.forwardRef(({className:e,children:t,position:n="popper",...s},a)=>l.jsx(hC,{children:l.jsxs(Ab,{ref:a,className:W("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[l.jsx(Ub,{}),l.jsx(mC,{className:W("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(Lb,{})]})}));Kt.displayName=Ab.displayName;const vC=m.forwardRef(({className:e,...t},n)=>l.jsx(Ob,{ref:n,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));vC.displayName=Ob.displayName;const Ge=m.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(Rb,{ref:s,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(gC,{children:l.jsx(dy,{className:"h-4 w-4"})})}),l.jsx(pC,{children:t})]}));Ge.displayName=Rb.displayName;const xC=m.forwardRef(({className:e,...t},n)=>l.jsx(kb,{ref:n,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));xC.displayName=kb.displayName;const hi={الرياض:["الرياض","الخرج","الدوادمي","الزلفي","شقراء","عفيف","القويعية","وادي الدواسر","الأفلاج","حوطة بني تميم","المجمعة","رماح"],"مكة المكرمة":["مكة المكرمة","جدة","الطائف","رابغ","الليث","القنفذة","الجموم","خليص","تربة","رنية","الخرمة","العرضيات"],"المدينة المنورة":["المدينة المنورة","ينبع","العلا","مهد الذهب","الحناكية","بدر","خيبر","وادي الفرع"],القصيم:["بريدة","عنيزة","الرس","المذنب","البكيرية","البدائع","عيون الجواء","الأسياح","رياض الخبراء","الشماسية","عقلة الصقور"],"المنطقة الشرقية":["الدمام","الخبر","الظهران","الجبيل","الأحساء","القطيف","حفر الباطن","رأس تنورة","بقيق","النعيرية","الخفجي","العديد"],عسير:["أبها","خميس مشيط","بيشة","النماص","تنومة","سراة عبيدة","رجال ألمع","محايل","ظهران الجنوب","البرك","أحد رفيدة"],تبوك:["تبوك","الوجه","ضباء","تيماء","أملج","حقل","البدع"],حائل:["حائل","بقعاء","الغزالة","الشنان","السليمي","الحائط","موقق"],"الحدود الشمالية":["عرعر","رفحاء","طريف","العويقيلة"],جازان:["جازان","صبيا","أبو عريش","صامطة","الدرب","بيش","فرسان","العارضة","الداير","الحرث","ضمد","الريث"],نجران:["نجران","شرورة","حبونا","ثار","بدر الجنوب","يدمة","الخرخير"],الباحة:["الباحة","بلجرشي","المندق","العقيق","قلوة","المخواة","غامد الزناد","القرى"],الجوف:["سكاكا","القريات","دومة الجندل","طبرجل"]};Object.values(hi).flat();const $h=Object.keys(hi);var zc="Dialog",[Ib]=Ls(zc),[yC,dn]=Ib(zc),zb=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:a,onOpenChange:r,modal:i=!0}=e,o=m.useRef(null),c=m.useRef(null),[u,d]=xr({prop:s,defaultProp:a??!1,onChange:r,caller:zc});return l.jsx(yC,{scope:t,triggerRef:o,contentRef:c,contentId:jn(),titleId:jn(),descriptionId:jn(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(f=>!f),[d]),modal:i,children:n})};zb.displayName=zc;var Pb="DialogTrigger",$b=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=dn(Pb,n),r=Se(t,a.triggerRef);return l.jsx(re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":qh(a.open),...s,ref:r,onClick:G(e.onClick,a.onOpenToggle)})});$b.displayName=Pb;var Bh="DialogPortal",[bC,Bb]=Ib(Bh,{forceMount:void 0}),Hb=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:a}=e,r=dn(Bh,t);return l.jsx(bC,{scope:t,forceMount:n,children:m.Children.map(s,i=>l.jsx(Zn,{present:n||r.open,children:l.jsx(Mc,{asChild:!0,container:a,children:i})}))})};Hb.displayName=Bh;var Qo="DialogOverlay",qb=m.forwardRef((e,t)=>{const n=Bb(Qo,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,r=dn(Qo,e.__scopeDialog);return r.modal?l.jsx(Zn,{present:s||r.open,children:l.jsx(jC,{...a,ref:t})}):null});qb.displayName=Qo;var wC=la("DialogOverlay.RemoveScroll"),jC=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=dn(Qo,n);return l.jsx(kc,{as:wC,allowPinchZoom:!0,shards:[a.contentRef],children:l.jsx(re.div,{"data-state":qh(a.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),fa="DialogContent",Gb=m.forwardRef((e,t)=>{const n=Bb(fa,e.__scopeDialog),{forceMount:s=n.forceMount,...a}=e,r=dn(fa,e.__scopeDialog);return l.jsx(Zn,{present:s||r.open,children:r.modal?l.jsx(NC,{...a,ref:t}):l.jsx(SC,{...a,ref:t})})});Gb.displayName=fa;var NC=m.forwardRef((e,t)=>{const n=dn(fa,e.__scopeDialog),s=m.useRef(null),a=Se(t,n.contentRef,s);return m.useEffect(()=>{const r=s.current;if(r)return zh(r)},[]),l.jsx(Vb,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:G(e.onCloseAutoFocus,r=>{var i;r.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:G(e.onPointerDownOutside,r=>{const i=r.detail.originalEvent,o=i.button===0&&i.ctrlKey===!0;(i.button===2||o)&&r.preventDefault()}),onFocusOutside:G(e.onFocusOutside,r=>r.preventDefault())})}),SC=m.forwardRef((e,t)=>{const n=dn(fa,e.__scopeDialog),s=m.useRef(!1),a=m.useRef(!1);return l.jsx(Vb,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:r=>{var i,o;(i=e.onCloseAutoFocus)==null||i.call(e,r),r.defaultPrevented||(s.current||(o=n.triggerRef.current)==null||o.focus(),r.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:r=>{var c,u;(c=e.onInteractOutside)==null||c.call(e,r),r.defaultPrevented||(s.current=!0,r.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const i=r.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&r.preventDefault(),r.detail.originalEvent.type==="focusin"&&a.current&&r.preventDefault()}})}),Vb=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:r,...i}=e,o=dn(fa,n),c=m.useRef(null),u=Se(t,c);return Ah(),l.jsxs(l.Fragment,{children:[l.jsx(Ec,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:r,children:l.jsx(_c,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":qh(o.open),...i,ref:u,onDismiss:()=>o.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(_C,{titleId:o.titleId}),l.jsx(TC,{contentRef:c,descriptionId:o.descriptionId})]})]})}),Hh="DialogTitle",Yb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=dn(Hh,n);return l.jsx(re.h2,{id:a.titleId,...s,ref:t})});Yb.displayName=Hh;var Xb="DialogDescription",Kb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=dn(Xb,n);return l.jsx(re.p,{id:a.descriptionId,...s,ref:t})});Kb.displayName=Xb;var Fb="DialogClose",Qb=m.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,a=dn(Fb,n);return l.jsx(re.button,{type:"button",...s,ref:t,onClick:G(e.onClick,()=>a.onOpenChange(!1))})});Qb.displayName=Fb;function qh(e){return e?"open":"closed"}var Zb="DialogTitleWarning",[W4,Wb]=A_(Zb,{contentName:fa,titleName:Hh,docsSlug:"dialog"}),_C=({titleId:e})=>{const t=Wb(Zb),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},EC="DialogDescriptionWarning",TC=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Wb(EC).contentName}}.`;return m.useEffect(()=>{var r;const a=(r=e.current)==null?void 0:r.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},CC=zb,AC=$b,OC=Hb,Jb=qb,ew=Gb,tw=Yb,nw=Kb,RC=Qb;const MC=CC,DC=AC,kC=OC,sw=m.forwardRef(({className:e,...t},n)=>l.jsx(Jb,{ref:n,className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));sw.displayName=Jb.displayName;const aw=m.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(kC,{children:[l.jsx(sw,{}),l.jsxs(ew,{ref:s,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,l.jsxs(RC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(Ch,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));aw.displayName=ew.displayName;const rw=({className:e,...t})=>l.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});rw.displayName="DialogHeader";const lw=m.forwardRef(({className:e,...t},n)=>l.jsx(tw,{ref:n,className:W("text-lg font-semibold leading-none tracking-tight",e),...t}));lw.displayName=tw.displayName;const iw=m.forwardRef(({className:e,...t},n)=>l.jsx(nw,{ref:n,className:W("text-sm text-muted-foreground",e),...t}));iw.displayName=nw.displayName;function Gh({onSchoolSelect:e}){const[t,n]=m.useState([]),[s,a]=m.useState(!1),[r,i]=m.useState(null),[o,c]=m.useState({name:"",address:"",province:"",city:"",phone:"",email:"",principalName:""}),[u,d]=m.useState(!1),[f,h]=m.useState("");m.useEffect(()=>{p()},[]);const p=()=>{const S=va();n(S)},y=(S,_)=>{c(A=>{const R={...A,[S]:_};return S==="province"&&(R.city=""),R}),h("")},x=()=>o.province?hi[o.province]||[]:[],w=()=>o.name.trim()?o.address.trim()?o.province?o.city?o.phone.trim()?/^05\d{8}$/.test(o.phone)?o.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)?(h("البريد الإلكتروني غير صحيح"),!1):o.principalName.trim()?!0:(h("يرجى إدخال اسم مدير المدرسة"),!1):(h("رقم الهاتف يجب أن يبدأ بـ 05 ويحتوي على 10 أرقام"),!1):(h("يرجى إدخال رقم هاتف المدرسة"),!1):(h("يرجى اختيار المدينة"),!1):(h("يرجى اختيار المنطقة"),!1):(h("يرجى إدخال عنوان المدرسة"),!1):(h("يرجى إدخال اسم المدرسة"),!1),b=async S=>{if(S.preventDefault(),!!w()){d(!0),h("");try{const _={id:(r==null?void 0:r.id)||Date.now().toString(),name:o.name,address:o.address,province:o.province,city:o.city,phone:o.phone,email:o.email,principalName:o.principalName,createdAt:(r==null?void 0:r.createdAt)||new Date().toISOString()};R0(_)?(p(),j(),a(!1),i(null)):h("حدث خطأ في حفظ المدرسة، يرجى المحاولة مرة أخرى")}catch(_){console.error("School save error:",_),h("حدث خطأ في حفظ المدرسة، يرجى المحاولة مرة أخرى")}finally{d(!1)}}},v=S=>{i(S),c({name:S.name,address:S.address,province:S.province,city:S.city,phone:S.phone,email:S.email||"",principalName:S.principalName}),a(!0)},g=S=>{window.confirm("هل أنت متأكد من حذف هذه المدرسة؟")&&(H1(S),p())},j=()=>{c({name:"",address:"",province:"",city:"",phone:"",email:"",principalName:""}),h("")},N=S=>{const _=B1(S.name),A=_.filter(T=>T.type==="student").length,R=_.filter(T=>T.type==="parent").length,E=_.filter(T=>T.type==="driver").length,z=_.filter(T=>T.type==="admin").length;return{students:A,parents:R,drivers:E,admins:z,total:_.length}};return l.jsxs("div",{className:"p-6",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"إدارة المدارس"}),l.jsx("p",{className:"text-gray-600 mt-2",children:"إضافة وإدارة المدارس في النظام"})]}),l.jsxs(MC,{open:s,onOpenChange:a,children:[l.jsx(DC,{asChild:!0,children:l.jsxs(I,{className:"bg-blue-600 hover:bg-blue-700",onClick:()=>{j(),i(null)},children:[l.jsx(Pp,{className:"w-4 h-4 mr-2"}),"إضافة مدرسة جديدة"]})}),l.jsxs(aw,{className:"max-w-md",children:[l.jsxs(rw,{children:[l.jsx(lw,{children:r?"تعديل المدرسة":"إضافة مدرسة جديدة"}),l.jsx(iw,{children:r?"تعديل بيانات المدرسة":"أدخل بيانات المدرسة الجديدة"})]}),l.jsxs("form",{onSubmit:b,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"name",className:"flex items-center gap-2",children:[l.jsx(Rs,{className:"w-4 h-4"}),"اسم المدرسة"]}),l.jsx(Q,{id:"name",type:"text",value:o.name,onChange:S=>y("name",S.target.value),placeholder:"أدخل اسم المدرسة",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"address",children:"العنوان"}),l.jsx(Q,{id:"address",type:"text",value:o.address,onChange:S=>y("address",S.target.value),placeholder:"أدخل عنوان المدرسة",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx(Eh,{className:"w-4 h-4"}),"المنطقة"]}),l.jsxs(an,{value:o.province,onValueChange:S=>y("province",S),children:[l.jsx(Xt,{className:"text-right",children:l.jsx(rn,{placeholder:"اختر المنطقة"})}),l.jsx(Kt,{children:$h.map(S=>l.jsx(Ge,{value:S,children:S},S))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx($l,{className:"w-4 h-4"}),"المدينة"]}),l.jsxs(an,{value:o.city,onValueChange:S=>y("city",S),disabled:!o.province,children:[l.jsx(Xt,{className:"text-right",children:l.jsx(rn,{placeholder:o.province?"اختر المدينة":"اختر المنطقة أولاً"})}),l.jsx(Kt,{children:x().map(S=>l.jsx(Ge,{value:S,children:S},S))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"phone",children:"رقم الهاتف"}),l.jsx(Q,{id:"phone",type:"tel",value:o.phone,onChange:S=>y("phone",S.target.value),placeholder:"05xxxxxxxx",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"email",children:"البريد الإلكتروني (اختياري)"}),l.jsx(Q,{id:"email",type:"email",value:o.email,onChange:S=>y("email",S.target.value),placeholder:"example@school.edu.sa",className:"text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"principalName",children:"اسم مدير المدرسة"}),l.jsx(Q,{id:"principalName",type:"text",value:o.principalName,onChange:S=>y("principalName",S.target.value),placeholder:"أدخل اسم مدير المدرسة",className:"text-right",required:!0})]}),f&&l.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-2 rounded",children:f}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{type:"submit",className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:u,children:u?"جاري الحفظ...":r?"تحديث المدرسة":"إضافة المدرسة"}),l.jsx(I,{type:"button",variant:"outline",onClick:()=>a(!1),children:"إلغاء"})]})]})]})]})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(S=>{const _=N(S);return l.jsxs($,{className:"hover:shadow-lg transition-shadow",children:[l.jsx(ue,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx(de,{className:"text-lg",children:S.name}),l.jsxs(Xe,{className:"flex items-center gap-1 mt-1",children:[l.jsx($l,{className:"w-3 h-3"}),S.city,", ",S.province]})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(I,{variant:"ghost",size:"sm",onClick:()=>v(S),children:l.jsx(Sc,{className:"w-4 h-4"})}),l.jsx(I,{variant:"ghost",size:"sm",onClick:()=>g(S.id),className:"text-red-600 hover:text-red-700",children:l.jsx(Go,{className:"w-4 h-4"})})]})]})}),l.jsx(B,{children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"text-sm text-gray-600",children:[l.jsxs("p",{children:[l.jsx("strong",{children:"العنوان:"})," ",S.address]}),l.jsxs("p",{children:[l.jsx("strong",{children:"الهاتف:"})," ",S.phone]}),S.email&&l.jsxs("p",{children:[l.jsx("strong",{children:"البريد:"})," ",S.email]}),l.jsxs("p",{children:[l.jsx("strong",{children:"المدير:"})," ",S.principalName]})]}),l.jsxs("div",{className:"border-t pt-3",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx(ys,{className:"w-4 h-4 text-blue-600"}),l.jsx("span",{className:"font-medium",children:"إحصائيات المستخدمين"})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[l.jsxs("div",{className:"bg-blue-50 p-2 rounded",children:[l.jsx("div",{className:"font-medium text-blue-700",children:"الطلاب"}),l.jsx("div",{className:"text-blue-600",children:_.students})]}),l.jsxs("div",{className:"bg-green-50 p-2 rounded",children:[l.jsx("div",{className:"font-medium text-green-700",children:"أولياء الأمور"}),l.jsx("div",{className:"text-green-600",children:_.parents})]}),l.jsxs("div",{className:"bg-orange-50 p-2 rounded",children:[l.jsx("div",{className:"font-medium text-orange-700",children:"السائقين"}),l.jsx("div",{className:"text-orange-600",children:_.drivers})]}),l.jsxs("div",{className:"bg-purple-50 p-2 rounded",children:[l.jsx("div",{className:"font-medium text-purple-700",children:"الإدارة"}),l.jsx("div",{className:"text-purple-600",children:_.admins})]})]}),l.jsxs("div",{className:"mt-2 text-center text-sm font-medium text-gray-700",children:["المجموع: ",_.total," مستخدم"]})]}),e&&l.jsx(I,{variant:"outline",className:"w-full",onClick:()=>e(S),children:"اختيار هذه المدرسة"})]})})]},S.id)})}),t.length===0&&l.jsxs("div",{className:"text-center py-12",children:[l.jsx(Rs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"لا توجد مدارس مسجلة"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"ابدأ بإضافة مدرسة جديدة للنظام"}),l.jsxs(I,{onClick:()=>a(!0),className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(Pp,{className:"w-4 h-4 mr-2"}),"إضافة مدرسة جديدة"]})]})]})}function UC({onSuccess:e,onBack:t}){const[n,s]=m.useState("form"),[a,r]=m.useState("student"),[i,o]=m.useState(null),[c,u]=m.useState(""),[d,f]=m.useState(""),[h,p]=m.useState(!1),[y,x]=m.useState([]),[w,b]=m.useState({name:"",phone:"",email:"",password:"",confirmPassword:"",schoolName:"",province:"",city:"",grade:"",parentPhone:""}),[v,g]=m.useState(!1),[j,N]=m.useState("");Pt.useEffect(()=>{wh()},[]),Pt.useEffect(()=>{if(w.city){const k=M0(w.city);x(k)}else if(w.province){const k=D0(w.province);x(k)}else x([])},[w.city,w.province]);const S=(k,C)=>{b(O=>{const M={...O,[k]:C};return k==="province"&&(M.city="",M.schoolName=""),k==="city"&&(M.schoolName=""),M}),N("")},_=()=>w.province?hi[w.province]||[]:[],A=()=>w.name.trim()?!w.phone.trim()&&!w.email.trim()?(N("يرجى إدخال رقم الهاتف أو البريد الإلكتروني"),!1):w.phone&&!/^05\d{8}$/.test(w.phone)?(N("رقم الهاتف يجب أن يبدأ بـ 05 ويحتوي على 10 أرقام"),!1):w.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(w.email)?(N("البريد الإلكتروني غير صحيح"),!1):w.password?w.password.length<6?(N("كلمة المرور يجب أن تحتوي على 6 أحرف على الأقل"),!1):w.password!==w.confirmPassword?(N("كلمة المرور وتأكيد كلمة المرور غير متطابقتين"),!1):w.schoolName.trim()?w.province?w.city?a==="student"&&!w.grade.trim()?(N("يرجى إدخال الصف الدراسي"),!1):a==="student"&&!w.parentPhone.trim()?(N("يرجى إدخال رقم هاتف ولي الأمر"),!1):a==="student"&&!/^05\d{8}$/.test(w.parentPhone)?(N("رقم هاتف ولي الأمر يجب أن يبدأ بـ 05 ويحتوي على 10 أرقام"),!1):!0:(N("يرجى اختيار المدينة"),!1):(N("يرجى اختيار المنطقة"),!1):(N("يرجى اختيار المدرسة أو إضافة مدرسة جديدة"),!1):(N("يرجى إدخال كلمة المرور"),!1):(N("يرجى إدخال الاسم الكامل"),!1),R=()=>Math.floor(1e5+Math.random()*9e5).toString(),E=async k=>{g(!0),N("");try{if(bh(w.phone)){N("رقم الهاتف مسجل مسبقاً"),g(!1);return}const O=R();f(O),o(k),await new Promise(M=>setTimeout(M,1e3)),console.log(`Verification code sent via ${k}: ${O}`),alert(k==="phone"?`تم إرسال رمز التحقق إلى رقم الهاتف ${w.phone}: ${O}`:`تم إرسال رمز التحقق إلى البريد الإلكتروني ${w.email}: ${O}`),s("verification")}catch(C){console.error("Error sending verification code:",C),N("حدث خطأ في إرسال رمز التحقق")}finally{g(!1)}},z=async k=>{if(k.preventDefault(),!!A())if(w.phone&&w.email){const C=window.confirm("هل تريد التحقق عبر رقم الهاتف؟ (اضغط إلغاء للتحقق عبر البريد الإلكتروني)");await E(C?"phone":"email")}else w.phone?await E("phone"):w.email&&await E("email")},T=async k=>{if(k.preventDefault(),!c.trim()){N("يرجى إدخال رمز التحقق");return}if(c!==d){N("رمز التحقق غير صحيح");return}g(!0),N("");try{const C={id:Date.now().toString(),name:w.name,phone:w.phone||"",email:w.email||void 0,password:w.password,type:a,schoolName:w.schoolName,province:w.province,city:w.city,status:"verified",createdAt:new Date().toISOString(),...a==="student"&&{grade:w.grade,parentPhone:w.parentPhone},...a==="parent"&&{children:[]}};ra(C)?(s("success"),setTimeout(()=>{e&&typeof e=="function"&&e(C)},2e3)):N("حدث خطأ في التسجيل، يرجى المحاولة مرة أخرى")}catch(C){console.error("Registration error:",C),N("حدث خطأ في التسجيل، يرجى المحاولة مرة أخرى")}finally{g(!1)}},P=k=>{b(C=>({...C,schoolName:k.name,province:k.province,city:k.city})),p(!1)},H=()=>{switch(a){case"student":return"طالب";case"parent":return"ولي أمر";case"admin":return"إدارة مدرسة";default:return""}};return h?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("div",{className:"mb-4",children:l.jsxs(I,{variant:"ghost",onClick:()=>p(!1),children:[l.jsx(yr,{className:"w-4 h-4 mr-2"}),"العودة للتسجيل"]})}),l.jsx(Gh,{onSchoolSelect:P,selectedCity:w.city,selectedProvince:w.province})]})}):n==="success"?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-100 flex items-center justify-center p-4",children:l.jsx($,{className:"w-full max-w-md text-center",children:l.jsxs(B,{className:"pt-6",children:[l.jsx("div",{className:"text-6xl mb-4",children:"✅"}),l.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"تم التسجيل بنجاح!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"تم إنشاء حسابك وتفعيله بنجاح"}),l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"جاري تحويلك إلى لوحة التحكم..."})]})})}):n==="verification"?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs($,{className:"w-full max-w-md",children:[l.jsxs(ue,{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:"🔐"}),l.jsx(de,{className:"text-2xl font-bold text-gray-900",children:"تحقق من الهوية"}),l.jsxs(Xe,{className:"text-gray-600",children:["أدخل رمز التحقق المرسل إلى ",i==="phone"?"رقم الهاتف":"البريد الإلكتروني"]})]}),l.jsx(B,{children:l.jsxs("form",{onSubmit:T,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"verificationCode",className:"flex items-center gap-2",children:[l.jsx(Bl,{className:"w-4 h-4"}),"رمز التحقق"]}),l.jsx(Q,{id:"verificationCode",type:"text",value:c,onChange:k=>u(k.target.value),placeholder:"أدخل رمز التحقق المكون من 6 أرقام",className:"text-center text-2xl font-mono",maxLength:6,required:!0}),l.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["تم الإرسال إلى: ",i==="phone"?w.phone:w.email]})]}),j&&l.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-2 rounded",children:j}),l.jsx(I,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:v,children:v?"جاري التحقق...":"تحقق من الرمز"}),l.jsx(I,{type:"button",variant:"outline",onClick:()=>s("form"),className:"w-full",children:"العودة للتعديل"})]})})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs($,{className:"w-full max-w-md",children:[l.jsxs(ue,{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t&&l.jsx(I,{variant:"ghost",onClick:t,className:"p-2",children:l.jsx(yr,{className:"w-5 h-5"})}),l.jsx("div",{className:"text-4xl",children:"🚌"}),l.jsx("div",{className:"w-10"})]}),l.jsx(de,{className:"text-2xl font-bold text-gray-900",children:"تسجيل حساب جديد"}),l.jsxs(Xe,{className:"text-gray-600",children:["إنشاء حساب ",H()," جديد"]})]}),l.jsx(B,{children:l.jsxs("form",{onSubmit:z,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx(ft,{className:"w-4 h-4"}),"نوع الحساب"]}),l.jsxs(an,{value:a,onValueChange:k=>r(k),children:[l.jsx(Xt,{className:"text-right",children:l.jsx(rn,{placeholder:"اختر نوع الحساب"})}),l.jsxs(Kt,{children:[l.jsx(Ge,{value:"student",children:"طالب"}),l.jsx(Ge,{value:"parent",children:"ولي أمر"}),l.jsx(Ge,{value:"admin",children:"إدارة مدرسة"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"name",className:"flex items-center gap-2",children:[l.jsx(ft,{className:"w-4 h-4"}),"الاسم الكامل"]}),l.jsx(Q,{id:"name",type:"text",value:w.name,onChange:k=>S("name",k.target.value),placeholder:"أدخل الاسم الكامل",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"phone",className:"flex items-center gap-2",children:[l.jsx(oa,{className:"w-4 h-4"}),"رقم الهاتف"]}),l.jsx(Q,{id:"phone",type:"tel",value:w.phone,onChange:k=>S("phone",k.target.value),placeholder:"05xxxxxxxx",className:"text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"email",className:"flex items-center gap-2",children:[l.jsx(Xn,{className:"w-4 h-4"}),"البريد الإلكتروني"]}),l.jsx(Q,{id:"email",type:"email",value:w.email,onChange:k=>S("email",k.target.value),placeholder:"example@email.com",className:"text-right"}),l.jsx("p",{className:"text-xs text-gray-500",children:"يجب إدخال رقم الهاتف أو البريد الإلكتروني (أو كلاهما)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx(Eh,{className:"w-4 h-4"}),"المنطقة"]}),l.jsxs(an,{value:w.province,onValueChange:k=>S("province",k),children:[l.jsx(Xt,{className:"text-right",children:l.jsx(rn,{placeholder:"اختر المنطقة"})}),l.jsx(Kt,{children:$h.map(k=>l.jsx(Ge,{value:k,children:k},k))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx($l,{className:"w-4 h-4"}),"المدينة"]}),l.jsxs(an,{value:w.city,onValueChange:k=>S("city",k),disabled:!w.province,children:[l.jsx(Xt,{className:"text-right",children:l.jsx(rn,{placeholder:w.province?"اختر المدينة":"اختر المنطقة أولاً"})}),l.jsx(Kt,{children:_().map(k=>l.jsx(Ge,{value:k,children:k},k))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx(Rs,{className:"w-4 h-4"}),"المدرسة"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(an,{value:w.schoolName,onValueChange:k=>S("schoolName",k),disabled:y.length===0,children:[l.jsx(Xt,{className:"text-right flex-1",children:l.jsx(rn,{placeholder:y.length>0?"اختر المدرسة":w.city?"لا توجد مدارس في هذه المدينة":"اختر المدينة أولاً"})}),l.jsx(Kt,{children:y.map(k=>l.jsx(Ge,{value:k.name,children:k.name},k.id))})]}),l.jsx(I,{type:"button",variant:"outline",onClick:()=>p(!0),className:"whitespace-nowrap",children:"إضافة مدرسة"})]})]}),a==="student"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"grade",children:"الصف الدراسي"}),l.jsx(Q,{id:"grade",type:"text",value:w.grade,onChange:k=>S("grade",k.target.value),placeholder:"مثال: الصف الثالث الابتدائي",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"parentPhone",children:"رقم هاتف ولي الأمر"}),l.jsx(Q,{id:"parentPhone",type:"tel",value:w.parentPhone,onChange:k=>S("parentPhone",k.target.value),placeholder:"05xxxxxxxx",className:"text-right",required:!0})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"password",children:"كلمة المرور"}),l.jsx(Q,{id:"password",type:"password",value:w.password,onChange:k=>S("password",k.target.value),placeholder:"أدخل كلمة المرور",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور"}),l.jsx(Q,{id:"confirmPassword",type:"password",value:w.confirmPassword,onChange:k=>S("confirmPassword",k.target.value),placeholder:"أعد إدخال كلمة المرور",className:"text-right",required:!0})]}),j&&l.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-2 rounded",children:j}),l.jsx(I,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:v,children:v?"جاري الإرسال...":"إرسال رمز التحقق"})]})})]})})}function LC({onRegistrationComplete:e,onBack:t}){const[n,s]=m.useState("form"),[a,r]=m.useState(null),[i,o]=m.useState(""),[c,u]=m.useState(""),[d,f]=m.useState(!1),[h,p]=m.useState([]),[y,x]=m.useState({name:"",phone:"",email:"",password:"",confirmPassword:"",schoolName:"",province:"",city:"",vehicleNumber:"",licenseNumber:""}),[w,b]=m.useState(!1),[v,g]=m.useState("");Pt.useEffect(()=>{wh()},[]),Pt.useEffect(()=>{if(y.city){const T=M0(y.city);p(T)}else if(y.province){const T=D0(y.province);p(T)}else p([])},[y.city,y.province]);const j=(T,P)=>{x(H=>{const k={...H,[T]:P};return T==="province"&&(k.city="",k.schoolName=""),T==="city"&&(k.schoolName=""),k}),g("")},N=()=>y.province?hi[y.province]||[]:[],S=()=>y.name.trim()?!y.phone.trim()&&!y.email.trim()?(g("يرجى إدخال رقم الهاتف أو البريد الإلكتروني"),!1):y.phone&&!/^05\d{8}$/.test(y.phone)?(g("رقم الهاتف يجب أن يبدأ بـ 05 ويحتوي على 10 أرقام"),!1):y.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)?(g("البريد الإلكتروني غير صحيح"),!1):y.password?y.password.length<6?(g("كلمة المرور يجب أن تحتوي على 6 أحرف على الأقل"),!1):y.password!==y.confirmPassword?(g("كلمة المرور وتأكيد كلمة المرور غير متطابقتين"),!1):y.schoolName.trim()?y.province?y.city?y.vehicleNumber.trim()?y.licenseNumber.trim()?!0:(g("يرجى إدخال رقم رخصة القيادة"),!1):(g("يرجى إدخال رقم المركبة"),!1):(g("يرجى اختيار المدينة"),!1):(g("يرجى اختيار المنطقة"),!1):(g("يرجى اختيار المدرسة أو إضافة مدرسة جديدة"),!1):(g("يرجى إدخال كلمة المرور"),!1):(g("يرجى إدخال الاسم الكامل"),!1),_=()=>Math.floor(1e5+Math.random()*9e5).toString(),A=async T=>{b(!0),g("");try{if(bh(y.phone)){g("رقم الهاتف مسجل مسبقاً"),b(!1);return}const H=_();u(H),r(T),await new Promise(k=>setTimeout(k,1e3)),console.log(`Verification code sent via ${T}: ${H}`),alert(T==="phone"?`تم إرسال رمز التحقق إلى رقم الهاتف ${y.phone}: ${H}`:`تم إرسال رمز التحقق إلى البريد الإلكتروني ${y.email}: ${H}`),s("verification")}catch(P){console.error("Error sending verification code:",P),g("حدث خطأ في إرسال رمز التحقق")}finally{b(!1)}},R=async T=>{if(T.preventDefault(),!!S())if(y.phone&&y.email){const P=window.confirm("هل تريد التحقق عبر رقم الهاتف؟ (اضغط إلغاء للتحقق عبر البريد الإلكتروني)");await A(P?"phone":"email")}else y.phone?await A("phone"):y.email&&await A("email")},E=async T=>{if(T.preventDefault(),!i.trim()){g("يرجى إدخال رمز التحقق");return}if(i!==c){g("رمز التحقق غير صحيح");return}b(!0),g("");try{const P={id:Date.now().toString(),name:y.name,phone:y.phone||void 0,email:y.email||void 0,password:y.password,type:"driver",schoolName:y.schoolName,province:y.province,city:y.city,vehicleNumber:y.vehicleNumber,licenseNumber:y.licenseNumber,status:"not_arrived",createdAt:new Date().toISOString()};ra(P)?(s("success"),setTimeout(()=>{e(P)},2e3)):g("حدث خطأ في التسجيل، يرجى المحاولة مرة أخرى")}catch(P){console.error("Driver registration error:",P),g("حدث خطأ في التسجيل، يرجى المحاولة مرة أخرى")}finally{b(!1)}},z=T=>{x(P=>({...P,schoolName:T.name,province:T.province,city:T.city})),f(!1)};return d?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto",children:[l.jsx("div",{className:"mb-4",children:l.jsxs(I,{variant:"ghost",onClick:()=>f(!1),children:[l.jsx(yr,{className:"w-4 h-4 mr-2"}),"العودة للتسجيل"]})}),l.jsx(Gh,{onSchoolSelect:z,selectedCity:y.city,selectedProvince:y.province})]})}):n==="success"?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-100 flex items-center justify-center p-4",children:l.jsx($,{className:"w-full max-w-md text-center",children:l.jsxs(B,{className:"pt-6",children:[l.jsx("div",{className:"text-6xl mb-4",children:"✅"}),l.jsx("h2",{className:"text-2xl font-bold text-green-600 mb-2",children:"تم التسجيل بنجاح!"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"تم إنشاء حساب السائق وتفعيله بنجاح"}),l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto"}),l.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"جاري تحويلك إلى لوحة التحكم..."})]})})}):n==="verification"?l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs($,{className:"w-full max-w-md",children:[l.jsxs(ue,{className:"text-center",children:[l.jsx("div",{className:"text-4xl mb-4",children:"🔐"}),l.jsx(de,{className:"text-2xl font-bold text-gray-900",children:"تحقق من الهوية"}),l.jsxs(Xe,{className:"text-gray-600",children:["أدخل رمز التحقق المرسل إلى ",a==="phone"?"رقم الهاتف":"البريد الإلكتروني"]})]}),l.jsx(B,{children:l.jsxs("form",{onSubmit:E,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"verificationCode",className:"flex items-center gap-2",children:[l.jsx(Bl,{className:"w-4 h-4"}),"رمز التحقق"]}),l.jsx(Q,{id:"verificationCode",type:"text",value:i,onChange:T=>o(T.target.value),placeholder:"أدخل رمز التحقق المكون من 6 أرقام",className:"text-center text-2xl font-mono",maxLength:6,required:!0}),l.jsxs("p",{className:"text-sm text-gray-500 text-center",children:["تم الإرسال إلى: ",a==="phone"?y.phone:y.email]})]}),v&&l.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-2 rounded",children:v}),l.jsx(I,{type:"submit",className:"w-full bg-green-600 hover:bg-green-700",disabled:w,children:w?"جاري التحقق...":"تحقق من الرمز"}),l.jsx(I,{type:"button",variant:"outline",onClick:()=>s("form"),className:"w-full",children:"العودة للتعديل"})]})})]})}):l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4",children:l.jsxs($,{className:"w-full max-w-md",children:[l.jsxs(ue,{className:"text-center",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx(I,{variant:"ghost",onClick:t,className:"p-2",children:l.jsx(yr,{className:"w-5 h-5"})}),l.jsx("div",{className:"text-4xl",children:"🚗"}),l.jsx("div",{className:"w-10"})]}),l.jsx(de,{className:"text-2xl font-bold text-gray-900",children:"تسجيل سائق جديد"}),l.jsx(Xe,{className:"text-gray-600",children:"إنشاء حساب سائق حافلة مدرسية"})]}),l.jsx(B,{children:l.jsxs("form",{onSubmit:R,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"name",className:"flex items-center gap-2",children:[l.jsx(ft,{className:"w-4 h-4"}),"الاسم الكامل"]}),l.jsx(Q,{id:"name",type:"text",value:y.name,onChange:T=>j("name",T.target.value),placeholder:"أدخل الاسم الكامل",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"phone",className:"flex items-center gap-2",children:[l.jsx(oa,{className:"w-4 h-4"}),"رقم الهاتف"]}),l.jsx(Q,{id:"phone",type:"tel",value:y.phone,onChange:T=>j("phone",T.target.value),placeholder:"05xxxxxxxx",className:"text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"email",className:"flex items-center gap-2",children:[l.jsx(Xn,{className:"w-4 h-4"}),"البريد الإلكتروني"]}),l.jsx(Q,{id:"email",type:"email",value:y.email,onChange:T=>j("email",T.target.value),placeholder:"example@email.com",className:"text-right"}),l.jsx("p",{className:"text-xs text-gray-500",children:"يجب إدخال رقم الهاتف أو البريد الإلكتروني (أو كلاهما)"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx(Eh,{className:"w-4 h-4"}),"المنطقة"]}),l.jsxs(an,{value:y.province,onValueChange:T=>j("province",T),children:[l.jsx(Xt,{className:"text-right",children:l.jsx(rn,{placeholder:"اختر المنطقة"})}),l.jsx(Kt,{children:$h.map(T=>l.jsx(Ge,{value:T,children:T},T))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx($l,{className:"w-4 h-4"}),"المدينة"]}),l.jsxs(an,{value:y.city,onValueChange:T=>j("city",T),disabled:!y.province,children:[l.jsx(Xt,{className:"text-right",children:l.jsx(rn,{placeholder:y.province?"اختر المدينة":"اختر المنطقة أولاً"})}),l.jsx(Kt,{children:N().map(T=>l.jsx(Ge,{value:T,children:T},T))})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{className:"flex items-center gap-2",children:[l.jsx(Rs,{className:"w-4 h-4"}),"المدرسة"]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(an,{value:y.schoolName,onValueChange:T=>j("schoolName",T),disabled:h.length===0,children:[l.jsx(Xt,{className:"text-right flex-1",children:l.jsx(rn,{placeholder:h.length>0?"اختر المدرسة":y.city?"لا توجد مدارس في هذه المدينة":"اختر المدينة أولاً"})}),l.jsx(Kt,{children:h.map(T=>l.jsx(Ge,{value:T.name,children:T.name},T.id))})]}),l.jsx(I,{type:"button",variant:"outline",onClick:()=>f(!0),className:"whitespace-nowrap",children:"إضافة مدرسة"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"vehicleNumber",className:"flex items-center gap-2",children:[l.jsx(Pe,{className:"w-4 h-4"}),"رقم المركبة"]}),l.jsx(Q,{id:"vehicleNumber",type:"text",value:y.vehicleNumber,onChange:T=>j("vehicleNumber",T.target.value),placeholder:"مثال: أ ب ج 1234",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"licenseNumber",className:"flex items-center gap-2",children:[l.jsx(u2,{className:"w-4 h-4"}),"رقم رخصة القيادة"]}),l.jsx(Q,{id:"licenseNumber",type:"text",value:y.licenseNumber,onChange:T=>j("licenseNumber",T.target.value),placeholder:"أدخل رقم رخصة القيادة",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"password",children:"كلمة المرور"}),l.jsx(Q,{id:"password",type:"password",value:y.password,onChange:T=>j("password",T.target.value),placeholder:"أدخل كلمة المرور",className:"text-right",required:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"confirmPassword",children:"تأكيد كلمة المرور"}),l.jsx(Q,{id:"confirmPassword",type:"password",value:y.confirmPassword,onChange:T=>j("confirmPassword",T.target.value),placeholder:"أعد إدخال كلمة المرور",className:"text-right",required:!0})]}),v&&l.jsx("div",{className:"text-red-600 text-sm text-center bg-red-50 p-2 rounded",children:v}),l.jsx(I,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:w,children:w?"جاري الإرسال...":"إرسال رمز التحقق"})]})})]})})}function IC({onBack:e}){const[t,n]=m.useState("email"),[s,a]=m.useState({email:"",resetCode:"",newPassword:"",confirmPassword:""}),[r,i]=m.useState([]),[o,c]=m.useState(!1),[u,d]=m.useState(""),f=(j,N)=>{a(S=>({...S,[j]:N})),r.length>0&&i([]),u&&d("")},h=j=>/\S+@\S+\.\S+/.test(j),p=async()=>{const j=[];if(s.email.trim()?h(s.email)||j.push("البريد الإلكتروني غير صحيح"):j.push("البريد الإلكتروني مطلوب"),j.length>0){i(j);return}c(!0),i([]);try{if(await new Promise(R=>setTimeout(R,2e3)),!JSON.parse(localStorage.getItem("users")||"[]").some(R=>R.email===s.email.trim())){i(["البريد الإلكتروني غير مسجل في النظام"]);return}const _=Math.floor(1e5+Math.random()*9e5).toString(),A={email:s.email.trim(),code:_,timestamp:Date.now(),expires:Date.now()+15*60*1e3};localStorage.setItem("resetCode",JSON.stringify(A)),d(`تم إرسال رمز التحقق إلى ${s.email}`),n("code")}catch{i(["حدث خطأ أثناء إرسال رمز التحقق. يرجى المحاولة مرة أخرى"])}finally{c(!1)}},y=async()=>{const j=[];if(s.resetCode.trim()?s.resetCode.length!==6&&j.push("رمز التحقق يجب أن يكون 6 أرقام"):j.push("رمز التحقق مطلوب"),j.length>0){i(j);return}c(!0),i([]);try{await new Promise(S=>setTimeout(S,1e3));const N=JSON.parse(localStorage.getItem("resetCode")||"null");if(!N){i(["رمز التحقق غير صحيح أو منتهي الصلاحية"]);return}if(N.code!==s.resetCode.trim()){i(["رمز التحقق غير صحيح"]);return}if(Date.now()>N.expires){i(["رمز التحقق منتهي الصلاحية. يرجى طلب رمز جديد"]),localStorage.removeItem("resetCode");return}d("تم التحقق من الرمز بنجاح"),n("reset")}catch{i(["حدث خطأ أثناء التحقق من الرمز. يرجى المحاولة مرة أخرى"])}finally{c(!1)}},x=async()=>{const j=[];if(s.newPassword?s.newPassword.length<6&&j.push("كلمة المرور يجب أن تكون 6 أحرف على الأقل"):j.push("كلمة المرور الجديدة مطلوبة"),s.confirmPassword||j.push("تأكيد كلمة المرور مطلوب"),s.newPassword!==s.confirmPassword&&j.push("كلمة المرور وتأكيد كلمة المرور غير متطابقتان"),j.length>0){i(j);return}c(!0),i([]);try{await new Promise(_=>setTimeout(_,2e3));const N=JSON.parse(localStorage.getItem("users")||"[]"),S=N.findIndex(_=>_.email===s.email);S!==-1?(N[S].password=s.newPassword,localStorage.setItem("users",JSON.stringify(N)),localStorage.removeItem("resetCode"),d("تم تغيير كلمة المرور بنجاح! يمكنك الآن تسجيل الدخول"),setTimeout(()=>{e()},3e3)):i(["حدث خطأ أثناء تحديث كلمة المرور"])}catch{i(["حدث خطأ أثناء تغيير كلمة المرور. يرجى المحاولة مرة أخرى"])}finally{c(!1)}},w=()=>{a(j=>({...j,resetCode:""})),n("email"),d(""),i([])},v={email:{title:"نسيت كلمة المرور؟",description:"أدخل بريدك الإلكتروني لإرسال رمز التحقق",icon:Xn,emoji:"📧"},code:{title:"تحقق من بريدك الإلكتروني",description:"أدخل رمز التحقق المرسل إلى بريدك الإلكتروني",icon:Bo,emoji:"🔐"},reset:{title:"إنشاء كلمة مرور جديدة",description:"أدخل كلمة المرور الجديدة",icon:nt,emoji:"✅"}}[t],g=v.icon;return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center p-4",children:l.jsxs("div",{className:"w-full max-w-md space-y-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-6xl mb-4",children:v.emoji}),l.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:v.title}),l.jsx("p",{className:"text-gray-600 mt-2",children:v.description})]}),l.jsxs($,{className:"shadow-xl border-0 bg-white/90 backdrop-blur-sm",children:[l.jsxs(ue,{children:[l.jsxs(de,{className:"text-center text-xl flex items-center justify-center gap-2",children:[l.jsx(g,{className:"w-6 h-6 text-blue-600"}),v.title]}),l.jsx(Xe,{className:"text-center",children:v.description})]}),l.jsxs(B,{className:"space-y-4",children:[r.length>0&&l.jsxs(Ze,{className:"border-red-200 bg-red-50",children:[l.jsx(ia,{className:"h-4 w-4"}),l.jsx(We,{children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:r.map((j,N)=>l.jsx("li",{className:"text-red-700 text-sm",children:j},N))})})]}),u&&l.jsxs(Ze,{className:"border-green-200 bg-green-50",children:[l.jsx(nt,{className:"h-4 w-4"}),l.jsx(We,{className:"text-green-700 text-sm",children:u})]}),t==="email"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[l.jsx(Xn,{className:"w-4 h-4"}),"البريد الإلكتروني *"]}),l.jsx(Q,{type:"email",placeholder:"أدخل بريدك الإلكتروني",value:s.email,onChange:j=>f("email",j.target.value),className:"text-right",disabled:o})]}),l.jsx(I,{onClick:p,disabled:o,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium h-12",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري الإرسال..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Fa,{className:"w-4 h-4"}),"إرسال رمز التحقق"]})})]}),t==="code"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[l.jsx(Bo,{className:"w-4 h-4"}),"رمز التحقق *"]}),l.jsx(Q,{type:"text",placeholder:"أدخل رمز التحقق (6 أرقام)",value:s.resetCode,onChange:j=>f("resetCode",j.target.value.replace(/\D/g,"").slice(0,6)),className:"text-center text-2xl font-mono tracking-widest",disabled:o,maxLength:6}),l.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["تم إرسال الرمز إلى: ",s.email]})]}),l.jsx(I,{onClick:y,disabled:o||s.resetCode.length!==6,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white font-medium h-12",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري التحقق..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nt,{className:"w-4 h-4"}),"تحقق من الرمز"]})}),l.jsx(I,{variant:"outline",onClick:w,disabled:o,className:"w-full",children:"إعادة إرسال الرمز"})]}),t==="reset"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"كلمة المرور الجديدة *"}),l.jsx(Q,{type:"password",placeholder:"أدخل كلمة المرور الجديدة",value:s.newPassword,onChange:j=>f("newPassword",j.target.value),className:"text-right",disabled:o})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"تأكيد كلمة المرور *"}),l.jsx(Q,{type:"password",placeholder:"أعد إدخال كلمة المرور",value:s.confirmPassword,onChange:j=>f("confirmPassword",j.target.value),className:"text-right",disabled:o})]}),l.jsx(I,{onClick:x,disabled:o,className:"w-full bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600 text-white font-medium h-12",children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"جاري التحديث..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(nt,{className:"w-4 h-4"}),"تحديث كلمة المرور"]})})]}),l.jsxs(I,{variant:"outline",onClick:e,disabled:o,className:"w-full flex items-center gap-2",children:[l.jsx(yr,{className:"w-4 h-4"}),"العودة لتسجيل الدخول"]})]})]}),l.jsx("div",{className:"text-center text-xs text-gray-500",children:l.jsx("p",{children:"© 2024 نظام النقل المدرسي. جميع الحقوق محفوظة."})})]})})}const zC=bc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Dt({className:e,variant:t,...n}){return l.jsx("div",{className:W(zC({variant:t}),e),...n})}function PC({user:e,onLogout:t,onUserUpdate:n}){const[s,a]=m.useState("status"),[r,i]=m.useState(null),[o,c]=m.useState([]),[u,d]=m.useState(!1),[f,h]=m.useState("");m.useEffect(()=>{if(e){const E={...e,status:e.status||"not_arrived",vehicleNumber:e.vehicleNumber||"",licenseNumber:e.licenseNumber||"",lastUpdate:e.lastUpdate||new Date().toISOString()};i(E),e.photo&&h(e.photo)}p();const R=setInterval(p,3e4);return()=>clearInterval(R)},[e]);const p=()=>{if(!e)return;const z=ci().filter(T=>T.driverId===e.id||T.schoolId===e.schoolName&&!T.driverId).sort((T,P)=>new Date(P.timestamp).getTime()-new Date(T.timestamp).getTime());c(z)},y=async R=>{if(!r){console.error("No driver data available");return}d(!0);try{console.log("Updating driver status from",r.status,"to",R);const E={...r,status:R,lastUpdate:new Date().toISOString()};console.log("Updated driver object:",E),Cp(E)?(i(E),n(E),alert({not_arrived:'تم تعيين الحالة إلى "لم أصل بعد"',on_way:'تم تحديث الحالة إلى "في الطريق"',arrived:'تم تحديث الحالة إلى "وصلت"',departed:'تم تحديث الحالة إلى "غادرت"'}[R]||"تم تحديث الحالة بنجاح"),console.log("Status updated successfully")):(alert("فشل في تحديث الحالة، يرجى المحاولة مرة أخرى"),console.error("Failed to save driver status"))}catch(E){console.error("Error updating status:",E),alert("حدث خطأ في تحديث الحالة")}finally{d(!1)}},x=R=>{var z;const E=(z=R.target.files)==null?void 0:z[0];if(E){if(E.size>2*1024*1024){alert("حجم الصورة يجب أن يكون أقل من 2 ميجابايت");return}if(!E.type.startsWith("image/")){alert("يرجى اختيار ملف صورة صحيح");return}const T=new FileReader;T.onload=P=>{var k;const H=(k=P.target)==null?void 0:k.result;h(H)},T.readAsDataURL(E)}},w=async()=>{if(r){d(!0);try{const R={...r,photo:f};Cp(R)&&(i(R),n(R),alert("تم تحديث الصورة بنجاح"))}catch(R){console.error("Error updating photo:",R),alert("حدث خطأ في تحديث الصورة")}finally{d(!1)}}},b=()=>{h("");const R=document.getElementById("photo");R&&(R.value="")},v=R=>{switch(R){case"arrived":return{label:"وصلت",color:"bg-green-500 hover:bg-green-600",textColor:"text-green-600",icon:nt,bgClass:"bg-green-50 border-green-200"};case"on_way":return{label:"في الطريق",color:"bg-blue-500 hover:bg-blue-600",textColor:"text-blue-600",icon:Ho,bgClass:"bg-blue-50 border-blue-200"};case"departed":return{label:"غادرت",color:"bg-purple-500 hover:bg-purple-600",textColor:"text-purple-600",icon:qo,bgClass:"bg-purple-50 border-purple-200"};default:return{label:"لم أصل بعد",color:"bg-gray-500 hover:bg-gray-600",textColor:"text-gray-600",icon:Yt,bgClass:"bg-gray-50 border-gray-200"}}};if(!e||!r)return l.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:l.jsxs("div",{className:"text-center",children:[l.jsx(Pe,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-500",children:"جاري تحميل البيانات..."})]})});const g=v(r.status),j=g.icon,N=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs($,{className:`${g.bgClass} border-2`,children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(j,{className:`w-6 h-6 ${g.textColor}`}),"الحالة الحالية"]})}),l.jsx(B,{children:l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsx(Dt,{className:`${g.color} text-white text-lg px-4 py-2`,children:g.label}),r.lastUpdate&&l.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["آخر تحديث: ",new Date(r.lastUpdate).toLocaleString("ar-SA")]})]})})})]}),l.jsxs($,{children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(Pe,{className:"w-5 h-5"}),"معلومات السائق"]})}),l.jsxs(B,{children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center border-2 border-white shadow-sm",children:r.photo?l.jsx("img",{src:r.photo,alt:r.name||"السائق",className:"w-full h-full object-cover"}):l.jsx(ft,{className:"w-8 h-8 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold",children:r.name||"غير محدد"}),l.jsx("p",{className:"text-gray-600",children:r.schoolName||"غير محدد"})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"رقم المركبة"}),l.jsx("p",{className:"font-medium",children:r.vehicleNumber||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"رقم الرخصة"}),l.jsx("p",{className:"font-medium",children:r.licenseNumber||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"رقم الهاتف"}),l.jsx("p",{className:"font-medium",children:r.phone||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"البريد الإلكتروني"}),l.jsx("p",{className:"font-medium",children:r.email||"غير محدد"})]})]})]})]}),l.jsxs($,{children:[l.jsxs(ue,{children:[l.jsx(de,{children:"تحديث الحالة"}),l.jsx(Xe,{children:"اختر حالتك الحالية لإعلام إدارة المدرسة"})]}),l.jsx(B,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{status:"not_arrived",label:"لم أصل بعد",icon:Yt,color:"bg-gray-500 hover:bg-gray-600"},{status:"on_way",label:"في الطريق",icon:Ho,color:"bg-blue-500 hover:bg-blue-600"},{status:"arrived",label:"وصلت",icon:nt,color:"bg-green-500 hover:bg-green-600"},{status:"departed",label:"غادرت",icon:qo,color:"bg-purple-500 hover:bg-purple-600"}].map(({status:R,label:E,icon:z,color:T})=>l.jsxs(I,{onClick:()=>y(R),disabled:u,className:`${T} text-white flex flex-col items-center gap-2 h-20 ${r.status===R?"ring-2 ring-offset-2 ring-blue-500":""}`,children:[l.jsx(z,{className:"w-5 h-5"}),l.jsx("span",{className:"text-sm",children:E}),u&&l.jsx("div",{className:"text-xs",children:"جاري التحديث..."})]},R))})})]})]}),S=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-xl font-bold",children:"الإشعارات"}),l.jsxs(I,{onClick:p,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[l.jsx(yt,{className:"w-4 h-4"}),"تحديث"]})]}),o.length===0?l.jsx($,{children:l.jsxs(B,{className:"p-8 text-center",children:[l.jsx(yt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"لا توجد إشعارات"}),l.jsx("p",{className:"text-gray-500",children:"لم يتم استلام أي إشعارات بعد"})]})}):l.jsx("div",{className:"space-y-4",children:o.map(R=>l.jsxs(Ze,{className:"border-l-4 border-l-blue-500",children:[l.jsx(yt,{className:"h-4 w-4"}),l.jsx(We,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium mb-1",children:R.message}),l.jsx("p",{className:"text-xs text-gray-500",children:new Date(R.timestamp).toLocaleString("ar-SA")})]}),l.jsx(Dt,{variant:"outline",className:"mr-2",children:R.type==="general"?"عام":R.type==="arrival"?"وصول":"مغادرة"})]})})]},R.id))})]}),_=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h3",{className:"text-xl font-bold",children:"إعدادات الحساب"}),l.jsxs($,{children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(r2,{className:"w-5 h-5"}),"الصورة الشخصية"]})}),l.jsx(B,{className:"space-y-4",children:l.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center border-4 border-blue-200 shadow-lg",children:f?l.jsx("img",{src:f,alt:"الصورة الشخصية",className:"w-full h-full object-cover"}):l.jsx(ft,{className:"w-16 h-16 text-gray-400"})}),f&&l.jsx("button",{type:"button",onClick:b,className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 text-white rounded-full flex items-center justify-center hover:bg-red-600 transition-colors shadow-lg",children:l.jsx(Ch,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"flex flex-col items-center space-y-2",children:[l.jsx("input",{type:"file",id:"photo",accept:"image/*",onChange:x,className:"hidden"}),l.jsxs(I,{type:"button",variant:"outline",onClick:()=>{var R;return(R=document.getElementById("photo"))==null?void 0:R.click()},className:"flex items-center gap-2",children:[l.jsx(h2,{className:"w-4 h-4"}),f?"تغيير الصورة":"اختر صورة"]}),f!==(r.photo||"")&&l.jsx(I,{onClick:w,disabled:u,className:"flex items-center gap-2",children:u?"جاري الحفظ...":"حفظ الصورة"})]}),l.jsx("p",{className:"text-xs text-gray-500 text-center",children:"الحد الأقصى: 2MB | الأنواع المدعومة: JPG, PNG, GIF"})]})})]}),l.jsxs($,{children:[l.jsx(ue,{children:l.jsx(de,{children:"معلومات الحساب"})}),l.jsx(B,{children:l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-500",children:"الاسم الكامل"}),l.jsx("p",{className:"font-medium",children:r.name||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-500",children:"رقم الهاتف"}),l.jsx("p",{className:"font-medium",children:r.phone||"غير محدد"})]}),r.email&&l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-500",children:"البريد الإلكتروني"}),l.jsx("p",{className:"font-medium",children:r.email})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-500",children:"المدرسة"}),l.jsx("p",{className:"font-medium",children:r.schoolName||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-500",children:"رقم المركبة"}),l.jsx("p",{className:"font-medium",children:r.vehicleNumber||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"text-sm text-gray-500",children:"رقم رخصة القيادة"}),l.jsx("p",{className:"font-medium",children:r.licenseNumber||"غير محدد"})]})]})})]})]}),A=()=>{switch(s){case"status":return N();case"notifications":return S();case"settings":return _();default:return N()}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[l.jsx("div",{className:"text-2xl",children:"🚗"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"لوحة تحكم السائق"}),l.jsx("p",{className:"text-sm text-gray-500",children:r.name||"السائق"})]})]}),l.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[o.length>0&&l.jsxs("div",{className:"relative",children:[l.jsx(yt,{className:"w-5 h-5 text-gray-600"}),l.jsx("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-red-500 rounded-full text-xs text-white flex items-center justify-center",children:o.length>9?"9+":o.length})]}),l.jsxs(I,{variant:"outline",onClick:t,className:"flex items-center gap-2",children:[l.jsx(di,{className:"w-4 h-4"}),"تسجيل الخروج"]})]})]})})}),l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("nav",{className:"flex space-x-8 rtl:space-x-reverse",children:[{id:"status",label:"الحالة",icon:Pe},{id:"notifications",label:"الإشعارات",icon:yt,badge:o.length},{id:"settings",label:"الإعدادات",icon:br}].map(R=>{const E=R.icon;return l.jsxs("button",{onClick:()=>a(R.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm relative ${s===R.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(E,{className:"w-4 h-4"}),R.label,R.badge&&R.badge>0&&l.jsx("span",{className:"bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:R.badge>9?"9+":R.badge})]},R.id)})})})}),l.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:A()})]})}function ow({user:e,onUpdate:t,onClose:n}){const[s,a]=m.useState("personal"),[r,i]=m.useState(!1),[o,c]=m.useState(!1),[u,d]=m.useState("email"),[f,h]=m.useState(""),[p,y]=m.useState(""),[x,w]=m.useState({name:e.name,email:e.email||"",phone:e.phone||"",currentPassword:"",newPassword:"",confirmPassword:""}),[b,v]=m.useState({}),[g,j]=m.useState([]),[N,S]=m.useState(!1),A={driver:{emoji:"🚗",label:"السائق",color:"bg-blue-500"},student:{emoji:"🎓",label:"الطالب",color:"bg-green-500"},parent:{emoji:"👨‍👩‍👧‍👦",label:"ولي الأمر",color:"bg-purple-500"},admin:{emoji:"👔",label:"إدارة المدرسة",color:"bg-orange-500"}}[e.type],R=(O,M)=>{w(U=>({...U,[O]:M})),g.length>0&&j([])},E=()=>{const O=[];x.name.trim()||O.push("الاسم مطلوب"),x.email&&!/\S+@\S+\.\S+/.test(x.email)&&O.push("البريد الإلكتروني غير صحيح"),x.phone&&!/^[0-9+\-\s()]+$/.test(x.phone)&&O.push("رقم الجوال غير صحيح");const M=at(),U=x.email&&x.email!==e.email&&M.some(J=>J.id!==e.id&&J.email===x.email),V=x.phone&&x.phone!==e.phone&&M.some(J=>J.id!==e.id&&J.phone===x.phone);return U&&O.push("البريد الإلكتروني مستخدم بالفعل"),V&&O.push("رقم الجوال مستخدم بالفعل"),j(O),O.length===0},z=()=>{const O=[];return x.currentPassword||O.push("كلمة المرور الحالية مطلوبة"),x.currentPassword!==e.password&&O.push("كلمة المرور الحالية غير صحيحة"),x.newPassword||O.push("كلمة المرور الجديدة مطلوبة"),x.newPassword.length<6&&O.push("كلمة المرور يجب أن تكون 6 أحرف على الأقل"),x.newPassword!==x.confirmPassword&&O.push("كلمة المرور الجديدة وتأكيد كلمة المرور غير متطابقتان"),j(O),O.length===0},T=async()=>{if(!E())return;const O={};if(x.name!==e.name&&(O.name=x.name),x.email!==e.email&&(O.email=x.email),x.phone!==e.phone&&(O.phone=x.phone),Object.keys(O).length===0){i(!1);return}if(O.email||O.phone)v(O),d(O.email?"email":"phone"),await H(O.email?"email":"phone"),c(!0);else{const M={...e,...O};ra(M),t(M),i(!1)}},P=async()=>{z()&&(v({password:x.newPassword}),d("password"),e.email,await H(),c(!0))},H=async O=>{S(!0);try{const M=Math.floor(1e5+Math.random()*9e5).toString();y(M),await new Promise(U=>setTimeout(U,1500))}catch{j(["حدث خطأ في إرسال رمز التحقق"])}finally{S(!1)}},k=async()=>{if(f!==p){j(["رمز التحقق غير صحيح"]);return}S(!0);try{const O={...e,...b};ra(O),t(O),c(!1),h(""),v({}),i(!1),u==="password"&&w(M=>({...M,currentPassword:"",newPassword:"",confirmPassword:""}))}catch{j(["حدث خطأ في حفظ التغييرات"])}finally{S(!1)}},C=()=>u==="email"?`تم إرسال رمز التحقق إلى البريد الإلكتروني: ${b.email}`:u==="phone"?`تم إرسال رمز التحقق إلى رقم الجوال: ${b.phone}`:`تم إرسال رمز التحقق إلى ${e.email?"البريد الإلكتروني":"رقم الجوال"} المسجل`;return o?l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($,{className:"w-full max-w-md shadow-xl bg-white",children:[l.jsxs(ue,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Xn,{className:"w-8 h-8 text-blue-600"})}),l.jsx(de,{className:"text-xl font-bold",children:"تحقق من الهوية"}),l.jsx(Xe,{children:C()})]}),l.jsxs(B,{className:"space-y-6",children:[g.length>0&&l.jsx(Ze,{className:"border-red-200 bg-red-50",children:l.jsx(We,{children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:g.map((O,M)=>l.jsx("li",{className:"text-red-700",children:O},M))})})}),l.jsxs("div",{className:"space-y-4",children:[l.jsx(Q,{type:"text",placeholder:"أدخل رمز التحقق (6 أرقام)",value:f,onChange:O=>h(O.target.value),className:"text-center text-lg tracking-widest",maxLength:6}),l.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:l.jsxs("p",{className:"text-sm text-yellow-700",children:["💡 للاختبار، استخدم الرمز: ",l.jsx("strong",{children:p})]})}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(I,{onClick:k,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600",disabled:N||f.length!==6,children:N?"جاري التحقق...":"تأكيد التغييرات"}),l.jsx(I,{variant:"outline",onClick:()=>{c(!1),h(""),v({}),j([])},className:"flex-1",children:"إلغاء"})]})]})]})]})}):l.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:l.jsxs($,{className:"w-full max-w-2xl max-h-[90vh] overflow-auto shadow-xl bg-white",children:[l.jsxs(ue,{className:"text-center border-b",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(I,{variant:"ghost",onClick:n,size:"sm",children:l.jsx(Ch,{className:"w-4 h-4"})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-3xl",children:A.emoji}),l.jsx(de,{className:"text-xl",children:"إعدادات الحساب"})]}),l.jsx("div",{className:"w-8"})]}),l.jsx(Xe,{children:"إدارة بيانات حسابك الشخصية وإعدادات الأمان"})]}),l.jsx(B,{className:"p-6",children:l.jsxs(oy,{value:s,onValueChange:a,className:"w-full",children:[l.jsxs(_h,{className:"grid w-full grid-cols-2",children:[l.jsxs(Il,{value:"personal",className:"flex items-center gap-2",children:[l.jsx(ft,{className:"w-4 h-4"}),"البيانات الشخصية"]}),l.jsxs(Il,{value:"security",className:"flex items-center gap-2",children:[l.jsx(Lp,{className:"w-4 h-4"}),"الأمان وكلمة المرور"]})]}),l.jsxs(zl,{value:"personal",className:"space-y-6 mt-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"المعلومات الشخصية"}),l.jsxs(I,{variant:r?"default":"outline",size:"sm",onClick:()=>i(!r),children:[l.jsx(Sc,{className:"w-4 h-4 mr-2"}),r?"إلغاء التعديل":"تعديل البيانات"]})]}),g.length>0&&l.jsx(Ze,{className:"border-red-200 bg-red-50",children:l.jsx(We,{children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:g.map((O,M)=>l.jsx("li",{className:"text-red-700",children:O},M))})})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"الاسم الكامل"}),l.jsx(Q,{type:"text",value:x.name,onChange:O=>R("name",O.target.value),disabled:!r,className:"text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"نوع المستخدم"}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[l.jsx(Dt,{className:`${A.color} text-white`,children:A.label}),l.jsx("span",{className:"text-sm text-gray-600",children:"غير قابل للتغيير"})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[l.jsx(Xn,{className:"w-4 h-4"}),"البريد الإلكتروني"]}),l.jsx(Q,{type:"email",value:x.email,onChange:O=>R("email",O.target.value),disabled:!r,className:"text-right",placeholder:"أدخل البريد الإلكتروني"}),r&&x.email!==e.email&&l.jsx("p",{className:"text-xs text-orange-600",children:"⚠️ سيتم إرسال رمز تحقق للبريد الجديد"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-2",children:[l.jsx(oa,{className:"w-4 h-4"}),"رقم الجوال"]}),l.jsx(Q,{type:"tel",value:x.phone,onChange:O=>R("phone",O.target.value),disabled:!r,className:"text-right",placeholder:"أدخل رقم الجوال"}),r&&x.phone!==e.phone&&l.jsx("p",{className:"text-xs text-orange-600",children:"⚠️ سيتم إرسال رمز تحقق للجوال الجديد"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"المدرسة"}),l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-gray-50 rounded-lg",children:[l.jsx("span",{className:"text-lg",children:"🏫"}),l.jsx("span",{className:"text-sm",children:e.schoolName}),l.jsx(Dt,{variant:"secondary",className:"text-xs",children:"غير قابل للتغيير"})]})]}),r&&l.jsxs("div",{className:"flex gap-2 pt-4",children:[l.jsx(I,{onClick:T,className:"flex-1 bg-gradient-to-r from-green-500 to-blue-500 hover:from-green-600 hover:to-blue-600",disabled:N,children:N?"جاري الحفظ...":"حفظ التغييرات"}),l.jsx(I,{variant:"outline",onClick:()=>{i(!1),w({name:e.name,email:e.email||"",phone:e.phone||"",currentPassword:"",newPassword:"",confirmPassword:""}),j([])},className:"flex-1",children:"إلغاء"})]})]})]}),l.jsx(zl,{value:"security",className:"space-y-6 mt-6",children:l.jsxs("div",{className:"space-y-4",children:[l.jsx("h3",{className:"text-lg font-semibold",children:"تغيير كلمة المرور"}),g.length>0&&l.jsx(Ze,{className:"border-red-200 bg-red-50",children:l.jsx(We,{children:l.jsx("ul",{className:"list-disc list-inside space-y-1",children:g.map((O,M)=>l.jsx("li",{className:"text-red-700",children:O},M))})})}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"كلمة المرور الحالية"}),l.jsx(Q,{type:"password",value:x.currentPassword,onChange:O=>R("currentPassword",O.target.value),placeholder:"أدخل كلمة المرور الحالية",className:"text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"كلمة المرور الجديدة"}),l.jsx(Q,{type:"password",value:x.newPassword,onChange:O=>R("newPassword",O.target.value),placeholder:"أدخل كلمة المرور الجديدة (6 أحرف على الأقل)",className:"text-right"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium text-gray-700",children:"تأكيد كلمة المرور الجديدة"}),l.jsx(Q,{type:"password",value:x.confirmPassword,onChange:O=>R("confirmPassword",O.target.value),placeholder:"أعد إدخال كلمة المرور الجديدة",className:"text-right"})]}),l.jsxs(Ze,{className:"bg-blue-50 border-blue-200",children:[l.jsx(Lp,{className:"h-4 w-4 text-blue-600"}),l.jsxs(We,{className:"text-blue-700",children:["سيتم إرسال رمز تحقق إلى ",e.email?"البريد الإلكتروني":"رقم الجوال"," المسجل لتأكيد تغيير كلمة المرور."]})]}),l.jsx(I,{onClick:P,className:"w-full bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",disabled:N||!x.currentPassword||!x.newPassword||!x.confirmPassword,children:N?"جاري التحقق...":"تغيير كلمة المرور"})]})]})})]})})]})})}function $C({user:e,onLogout:t,onUserUpdate:n}){const[s,a]=m.useState("not_started"),[r,i]=m.useState(!1),[o,c]=m.useState("غير محدد");m.useEffect(()=>{const p=setInterval(()=>{const y=["not_started","on_way","arrived","departed"],x=y[Math.floor(Math.random()*y.length)];a(x),c(x==="on_way"?"15 دقيقة":x==="arrived"?"وصل الآن":"غير محدد")},3e4);return()=>clearInterval(p)},[]);const u=p=>{n&&n(p),i(!1)},d=p=>{const x={not_started:{label:"لم يبدأ",color:"bg-gray-500",icon:Yt},on_way:{label:"في الطريق",color:"bg-blue-500",icon:Pe},arrived:{label:"وصل",color:"bg-green-500",icon:nt},departed:{label:"غادر",color:"bg-purple-500",icon:zp}}[p],w=x.icon;return l.jsxs(Dt,{className:`${x.color} text-white flex items-center gap-1`,children:[l.jsx(w,{className:"w-3 h-3"}),x.label]})},f={name:"أحمد محمد السائق",phone:"+966501234567",vehicleNumber:"أ ب ج 1234",vehicleType:"باص مدرسي"},h=[{time:"06:30",location:"نقطة الانطلاق",status:"completed"},{time:"06:45",location:"حي النخيل",status:"completed"},{time:"07:00",location:"حي الورود",status:"current"},{time:"07:15",location:"حي الأمل",status:"pending"},{time:"07:30",location:"المدرسة",status:"pending"}];return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 via-emerald-50 to-teal-50 p-4",children:l.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center",children:l.jsx(ft,{className:"w-8 h-8 text-green-600"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:e.type==="parent"?"لوحة تحكم ولي الأمر":"لوحة تحكم الطالب"}),l.jsx("p",{className:"text-gray-600",children:e.schoolName}),l.jsxs("p",{className:"text-sm text-gray-500",children:["مرحباً ",e.name]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(I,{variant:"outline",size:"sm",onClick:()=>i(!0),className:"flex items-center gap-2",children:[l.jsx(br,{className:"w-4 h-4"}),"إعدادات الحساب"]}),l.jsxs(I,{variant:"outline",size:"sm",onClick:t,className:"flex items-center gap-2 text-red-600 hover:text-red-700",children:[l.jsx(di,{className:"w-4 h-4"}),"تسجيل الخروج"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs($,{children:[l.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(de,{className:"text-sm font-medium",children:"حالة الباص"}),l.jsx(Pe,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(B,{children:[l.jsx("div",{className:"flex items-center gap-2",children:d(s)}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["آخر تحديث: ",new Date().toLocaleTimeString("ar-SA")]})]})]}),l.jsxs($,{children:[l.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(de,{className:"text-sm font-medium",children:"وقت الوصول المتوقع"}),l.jsx(Yt,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(B,{children:[l.jsx("div",{className:"text-lg font-bold",children:o}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"للمدرسة"})]})]}),l.jsxs($,{children:[l.jsxs(ue,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[l.jsx(de,{className:"text-sm font-medium",children:"اليوم"}),l.jsx(uy,{className:"h-4 w-4 text-muted-foreground"})]}),l.jsxs(B,{children:[l.jsx("div",{className:"text-lg font-bold",children:new Date().toLocaleDateString("ar-SA",{weekday:"long"})}),l.jsx("p",{className:"text-xs text-muted-foreground",children:new Date().toLocaleDateString("ar-SA")})]})]})]}),l.jsxs($,{children:[l.jsxs(ue,{children:[l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(ft,{className:"w-5 h-5"}),"معلومات السائق"]}),l.jsx(Xe,{children:"بيانات السائق المسؤول عن رحلتك"})]}),l.jsx(B,{children:l.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Pe,{className:"w-6 h-6 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium",children:f.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[f.vehicleType," - ",f.vehicleNumber]}),l.jsxs("p",{className:"text-xs text-gray-400",children:["رقم الجوال: ",f.phone]})]})]}),l.jsxs(I,{size:"sm",className:"flex items-center gap-2 bg-green-600 hover:bg-green-700",children:[l.jsx(oa,{className:"w-4 h-4"}),"اتصال"]})]})})]}),l.jsxs($,{children:[l.jsxs(ue,{children:[l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(zp,{className:"w-5 h-5"}),"جدول الرحلة"]}),l.jsx(Xe,{children:"مواعيد ومحطات الرحلة اليومية"})]}),l.jsx(B,{children:l.jsx("div",{className:"space-y-4",children:h.map((p,y)=>l.jsxs("div",{className:"flex items-center gap-4 p-3 border rounded-lg",children:[l.jsxs("div",{className:"flex items-center justify-center w-8 h-8 rounded-full bg-gray-100",children:[p.status==="completed"&&l.jsx(nt,{className:"w-4 h-4 text-green-600"}),p.status==="current"&&l.jsx($l,{className:"w-4 h-4 text-blue-600"}),p.status==="pending"&&l.jsx(Yt,{className:"w-4 h-4 text-gray-400"})]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h4",{className:"font-medium",children:p.location}),l.jsx("span",{className:"text-sm text-gray-500",children:p.time})]}),l.jsxs(Dt,{className:p.status==="completed"?"bg-green-100 text-green-800":p.status==="current"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600",children:[p.status==="completed"&&"مكتمل",p.status==="current"&&"الموقع الحالي",p.status==="pending"&&"في الانتظار"]})]})]},y))})})]}),l.jsxs(Ze,{className:"border-orange-200 bg-orange-50",children:[l.jsx(ia,{className:"h-4 w-4"}),l.jsx(We,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("span",{children:[l.jsx("strong",{children:"للطوارئ:"})," اتصل بإدارة المدرسة على الرقم: 920000000"]}),l.jsxs(I,{size:"sm",variant:"outline",className:"flex items-center gap-1",children:[l.jsx(oa,{className:"w-3 h-3"}),"اتصال سريع"]})]})})]}),l.jsxs($,{children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(Rs,{className:"w-5 h-5"}),"معلومات المدرسة"]})}),l.jsx(B,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"اسم المدرسة"}),l.jsx("p",{className:"text-gray-600",children:e.schoolName})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"رقم الطالب"}),l.jsx("p",{className:"text-gray-600",children:e.studentId||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"الصف الدراسي"}),l.jsx("p",{className:"text-gray-600",children:e.studentClass||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-medium text-gray-900",children:"نوع الحساب"}),l.jsx("p",{className:"text-gray-600",children:e.type==="student"?"طالب":"ولي أمر"})]})]})})]}),r&&l.jsx(ow,{user:e,onUpdate:u,onClose:()=>i(!1)})]})})}function BC({user:e,onLogout:t,onUserUpdate:n}){const[s,a]=m.useState("overview"),[r,i]=m.useState([]),[o,c]=m.useState([]),[u,d]=m.useState(null);m.useEffect(()=>{f();const g=setInterval(f,3e4);return()=>clearInterval(g)},[]);const f=()=>{const j=O0().filter(_=>_.schoolName===e.schoolName);i(j);const S=ci().filter(_=>_.schoolId===e.schoolId||_.type==="dismissal");c(S.slice(0,10))},h=g=>{switch(g){case"not_arrived":return"لم يصل";case"arrived":return"وصل";case"departed":return"غادر";default:return g}},p=g=>{switch(g){case"not_arrived":return"text-gray-500 bg-gray-100";case"arrived":return"text-green-500 bg-green-100";case"departed":return"text-blue-500 bg-blue-100";default:return"text-gray-500 bg-gray-100"}},y=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs($,{children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(ft,{className:"w-5 h-5"}),"معلومات الطالب"]})}),l.jsx(B,{children:l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"اسم الطالب"}),l.jsx("p",{className:"font-medium",children:e.childName||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"الصف الدراسي"}),l.jsx("p",{className:"font-medium",children:e.childClass||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"المدرسة"}),l.jsx("p",{className:"font-medium",children:e.schoolName})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"ولي الأمر"}),l.jsx("p",{className:"font-medium",children:e.name})]})]})})]}),l.jsxs($,{children:[l.jsxs(ue,{children:[l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(Pe,{className:"w-5 h-5"}),"حالة السائقين"]}),l.jsx(Xe,{children:"تابع حالة وصول ومغادرة السائقين في المدرسة"})]}),l.jsx(B,{children:l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.length===0?l.jsxs("div",{className:"col-span-full text-center py-8 text-gray-500",children:[l.jsx(Pe,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"لا توجد سائقين مسجلين في المدرسة"})]}):r.map(g=>l.jsx($,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>d(g),children:l.jsxs(B,{className:"p-4",children:[l.jsx("div",{className:"flex items-center justify-between mb-3",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"text-2xl",children:"🚌"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:g.name}),l.jsx("p",{className:"text-sm text-gray-500",children:g.vehicleNumber||"غير محدد"})]})]})}),l.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${p(g.status)}`,children:[l.jsx(Yt,{className:"w-3 h-3 mr-1"}),h(g.status)]}),l.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["آخر تحديث: ",new Date(g.lastUpdate).toLocaleString("ar-SA")]})]})},g.id))})})]}),l.jsxs($,{children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(yt,{className:"w-5 h-5"}),"آخر الإشعارات"]})}),l.jsx(B,{children:l.jsx("div",{className:"space-y-3",children:o.length===0?l.jsxs("div",{className:"text-center py-8 text-gray-500",children:[l.jsx(yt,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),l.jsx("p",{children:"لا توجد إشعارات جديدة"})]}):o.map(g=>l.jsxs(Ze,{className:"border-l-4 border-l-blue-500",children:[l.jsx(yt,{className:"h-4 w-4"}),l.jsx(We,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{children:g.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(g.timestamp).toLocaleString("ar-SA")})]}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${g.type==="arrival"?"bg-green-100 text-green-800":g.type==="departure"?"bg-blue-100 text-blue-800":g.type==="dismissal"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:g.type==="arrival"?"وصول":g.type==="departure"?"مغادرة":g.type==="dismissal"?"انصراف":"عام"})]})})]},g.id))})})]})]}),x=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"السائقين المتاحين"}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(g=>l.jsx($,{className:"hover:shadow-lg transition-shadow",children:l.jsxs(B,{className:"p-6",children:[l.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[l.jsx("div",{className:"text-4xl",children:"🚌"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg",children:g.name}),l.jsx("p",{className:"text-gray-600",children:g.vehicleNumber||"غير محدد"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${p(g.status)}`,children:[l.jsx(Yt,{className:"w-4 h-4 mr-2"}),h(g.status)]}),g.phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(oa,{className:"w-4 h-4"}),l.jsx("span",{children:g.phone})]}),g.email&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(Xn,{className:"w-4 h-4"}),l.jsx("span",{children:g.email})]}),l.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[l.jsx(Yt,{className:"w-4 h-4"}),l.jsxs("span",{children:["آخر تحديث: ",new Date(g.lastUpdate).toLocaleString("ar-SA")]})]})]})]})},g.id))})]}),w=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"جميع الإشعارات"}),l.jsx("div",{className:"space-y-4",children:o.map(g=>l.jsxs(Ze,{className:"border-l-4 border-l-blue-500",children:[l.jsx(yt,{className:"h-4 w-4"}),l.jsx(We,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:g.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(g.timestamp).toLocaleString("ar-SA")})]}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${g.type==="arrival"?"bg-green-100 text-green-800":g.type==="departure"?"bg-blue-100 text-blue-800":g.type==="dismissal"?"bg-orange-100 text-orange-800":"bg-gray-100 text-gray-800"}`,children:g.type==="arrival"?"وصول":g.type==="departure"?"مغادرة":g.type==="dismissal"?"انصراف":"عام"})]})})]},g.id))})]}),b=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"إعدادات الملف الشخصي"}),l.jsx(ow,{user:e,onUserUpdate:n})]}),v=()=>{switch(s){case"overview":return y();case"drivers":return x();case"notifications":return w();case"profile":return b();default:return y()}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-pink-50 to-indigo-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[l.jsx("div",{className:"text-2xl",children:"👨‍👩‍👧‍👦"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"لوحة تحكم ولي الأمر"}),l.jsx("p",{className:"text-sm text-gray-500",children:e.schoolName})]})]}),l.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["مرحباً، ",e.name]}),l.jsxs(I,{variant:"outline",onClick:t,className:"flex items-center gap-2",children:[l.jsx(di,{className:"w-4 h-4"}),"تسجيل الخروج"]})]})]})})}),l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("nav",{className:"flex space-x-8 rtl:space-x-reverse",children:[{id:"overview",label:"نظرة عامة",icon:br},{id:"drivers",label:"السائقين",icon:Pe},{id:"notifications",label:"الإشعارات",icon:yt},{id:"profile",label:"الملف الشخصي",icon:ft}].map(g=>{const j=g.icon;return l.jsxs("button",{onClick:()=>a(g.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm ${s===g.id?"border-purple-500 text-purple-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(j,{className:"w-4 h-4"}),g.label]},g.id)})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:v()}),u&&l.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:l.jsxs($,{className:"w-full max-w-md",children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(Pe,{className:"w-5 h-5"}),"تفاصيل السائق"]})}),l.jsxs(B,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"اسم السائق"}),l.jsx("p",{className:"font-medium",children:u.name})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"رقم المركبة"}),l.jsx("p",{className:"font-medium",children:u.vehicleNumber||"غير محدد"})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"الحالة الحالية"}),l.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${p(u.status)}`,children:[l.jsx(Yt,{className:"w-4 h-4 mr-2"}),h(u.status)]})]}),u.phone&&l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"رقم الهاتف"}),l.jsx("p",{className:"font-medium",children:u.phone})]}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm text-gray-600",children:"آخر تحديث"}),l.jsx("p",{className:"font-medium",children:new Date(u.lastUpdate).toLocaleString("ar-SA")})]}),l.jsx(I,{onClick:()=>d(null),className:"w-full",children:"إغلاق"})]})]})})]})}class HC{constructor(){Xc(this,"schools",[]);Xc(this,"listeners",[]);this.loadSchools()}loadSchools(){try{const t=localStorage.getItem("schools");this.schools=t?JSON.parse(t):["مدرسة الأمل الابتدائية","مدرسة النور المتوسطة","ثانوية الفيصل","مدرسة الرياض الأهلية"]}catch(t){console.error("Error loading schools:",t),this.schools=["مدرسة الأمل الابتدائية","مدرسة النور المتوسطة","ثانوية الفيصل","مدرسة الرياض الأهلية"]}}saveSchools(){try{localStorage.setItem("schools",JSON.stringify(this.schools))}catch(t){console.error("Error saving schools:",t)}}getSchools(){return[...this.schools]}addSchool(t){const n=t.trim();return!n||this.schools.includes(n)?!1:(this.schools.push(n),this.saveSchools(),this.notifyListeners(),!0)}updateSchools(t){this.schools=[...t],this.saveSchools(),this.notifyListeners()}removeSchool(t){const n=this.schools.indexOf(t);return n===-1?!1:(this.schools.splice(n,1),this.saveSchools(),this.notifyListeners(),!0)}addListener(t){this.listeners.push(t)}removeListener(t){const n=this.listeners.indexOf(t);n>-1&&this.listeners.splice(n,1)}notifyListeners(){this.listeners.forEach(t=>t()),window.dispatchEvent(new CustomEvent("schoolsUpdated"))}}const qC=new HC,cw=m.forwardRef(({className:e,...t},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:W("w-full caption-bottom text-sm",e),...t})}));cw.displayName="Table";const uw=m.forwardRef(({className:e,...t},n)=>l.jsx("thead",{ref:n,className:W("[&_tr]:border-b",e),...t}));uw.displayName="TableHeader";const dw=m.forwardRef(({className:e,...t},n)=>l.jsx("tbody",{ref:n,className:W("[&_tr:last-child]:border-0",e),...t}));dw.displayName="TableBody";const GC=m.forwardRef(({className:e,...t},n)=>l.jsx("tfoot",{ref:n,className:W("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));GC.displayName="TableFooter";const of=m.forwardRef(({className:e,...t},n)=>l.jsx("tr",{ref:n,className:W("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));of.displayName="TableRow";const rs=m.forwardRef(({className:e,...t},n)=>l.jsx("th",{ref:n,className:W("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));rs.displayName="TableHead";const ls=m.forwardRef(({className:e,...t},n)=>l.jsx("td",{ref:n,className:W("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));ls.displayName="TableCell";const VC=m.forwardRef(({className:e,...t},n)=>l.jsx("caption",{ref:n,className:W("mt-4 text-sm text-muted-foreground",e),...t}));VC.displayName="TableCaption";var cf=["Enter"," "],YC=["ArrowDown","PageUp","Home"],fw=["ArrowUp","PageDown","End"],XC=[...YC,...fw],KC={ltr:[...cf,"ArrowRight"],rtl:[...cf,"ArrowLeft"]},FC={ltr:["ArrowLeft"],rtl:["ArrowRight"]},mi="Menu",[Gl,QC,ZC]=Nh(mi),[xa,hw]=Ls(mi,[ZC,Rc,jc]),Pc=Rc(),mw=jc(),[WC,ya]=xa(mi),[JC,pi]=xa(mi),pw=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:a,onOpenChange:r,modal:i=!0}=e,o=Pc(t),[c,u]=m.useState(null),d=m.useRef(!1),f=Sn(r),h=wc(a);return m.useEffect(()=>{const p=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",p,{capture:!0}),()=>{document.removeEventListener("keydown",p,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),l.jsx(By,{...o,children:l.jsx(WC,{scope:t,open:n,onOpenChange:f,content:c,onContentChange:u,children:l.jsx(JC,{scope:t,onClose:m.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:h,modal:i,children:s})})})};pw.displayName=mi;var eA="MenuAnchor",Vh=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=Pc(n);return l.jsx(Hy,{...a,...s,ref:t})});Vh.displayName=eA;var Yh="MenuPortal",[tA,gw]=xa(Yh,{forceMount:void 0}),vw=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:a}=e,r=ya(Yh,t);return l.jsx(tA,{scope:t,forceMount:n,children:l.jsx(Zn,{present:n||r.open,children:l.jsx(Mc,{asChild:!0,container:a,children:s})})})};vw.displayName=Yh;var Ft="MenuContent",[nA,Xh]=xa(Ft),xw=m.forwardRef((e,t)=>{const n=gw(Ft,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,r=ya(Ft,e.__scopeMenu),i=pi(Ft,e.__scopeMenu);return l.jsx(Gl.Provider,{scope:e.__scopeMenu,children:l.jsx(Zn,{present:s||r.open,children:l.jsx(Gl.Slot,{scope:e.__scopeMenu,children:i.modal?l.jsx(sA,{...a,ref:t}):l.jsx(aA,{...a,ref:t})})})})}),sA=m.forwardRef((e,t)=>{const n=ya(Ft,e.__scopeMenu),s=m.useRef(null),a=Se(t,s);return m.useEffect(()=>{const r=s.current;if(r)return zh(r)},[]),l.jsx(Kh,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:G(e.onFocusOutside,r=>r.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),aA=m.forwardRef((e,t)=>{const n=ya(Ft,e.__scopeMenu);return l.jsx(Kh,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),rA=la("MenuContent.ScrollLock"),Kh=m.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,disableOutsideScroll:y,...x}=e,w=ya(Ft,n),b=pi(Ft,n),v=Pc(n),g=mw(n),j=QC(n),[N,S]=m.useState(null),_=m.useRef(null),A=Se(t,_,w.onContentChange),R=m.useRef(0),E=m.useRef(""),z=m.useRef(0),T=m.useRef(null),P=m.useRef("right"),H=m.useRef(0),k=y?kc:m.Fragment,C=y?{as:rA,allowPinchZoom:!0}:void 0,O=U=>{var q,he;const V=E.current+U,J=j().filter(te=>!te.disabled),Ue=document.activeElement,ot=(q=J.find(te=>te.ref.current===Ue))==null?void 0:q.textValue,L=J.map(te=>te.textValue),X=vA(L,V,ot),je=(he=J.find(te=>te.textValue===X))==null?void 0:he.ref.current;(function te(ce){E.current=ce,window.clearTimeout(R.current),ce!==""&&(R.current=window.setTimeout(()=>te(""),1e3))})(V),je&&setTimeout(()=>je.focus())};m.useEffect(()=>()=>window.clearTimeout(R.current),[]),Ah();const M=m.useCallback(U=>{var J,Ue;return P.current===((J=T.current)==null?void 0:J.side)&&yA(U,(Ue=T.current)==null?void 0:Ue.area)},[]);return l.jsx(nA,{scope:n,searchRef:E,onItemEnter:m.useCallback(U=>{M(U)&&U.preventDefault()},[M]),onItemLeave:m.useCallback(U=>{var V;M(U)||((V=_.current)==null||V.focus(),S(null))},[M]),onTriggerLeave:m.useCallback(U=>{M(U)&&U.preventDefault()},[M]),pointerGraceTimerRef:z,onPointerGraceIntentChange:m.useCallback(U=>{T.current=U},[]),children:l.jsx(k,{...C,children:l.jsx(Ec,{asChild:!0,trapped:a,onMountAutoFocus:G(r,U=>{var V;U.preventDefault(),(V=_.current)==null||V.focus({preventScroll:!0})}),onUnmountAutoFocus:i,children:l.jsx(_c,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:h,onDismiss:p,children:l.jsx(X0,{asChild:!0,...g,dir:b.dir,orientation:"vertical",loop:s,currentTabStopId:N,onCurrentTabStopIdChange:S,onEntryFocus:G(c,U=>{b.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(qy,{role:"menu","aria-orientation":"vertical","data-state":kw(w.open),"data-radix-menu-content":"",dir:b.dir,...v,...x,ref:A,style:{outline:"none",...x.style},onKeyDown:G(x.onKeyDown,U=>{const J=U.target.closest("[data-radix-menu-content]")===U.currentTarget,Ue=U.ctrlKey||U.altKey||U.metaKey,ot=U.key.length===1;J&&(U.key==="Tab"&&U.preventDefault(),!Ue&&ot&&O(U.key));const L=_.current;if(U.target!==L||!XC.includes(U.key))return;U.preventDefault();const je=j().filter(q=>!q.disabled).map(q=>q.ref.current);fw.includes(U.key)&&je.reverse(),pA(je)}),onBlur:G(e.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(R.current),E.current="")}),onPointerMove:G(e.onPointerMove,Vl(U=>{const V=U.target,J=H.current!==U.clientX;if(U.currentTarget.contains(V)&&J){const Ue=U.clientX>H.current?"right":"left";P.current=Ue,H.current=U.clientX}}))})})})})})})});xw.displayName=Ft;var lA="MenuGroup",Fh=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return l.jsx(re.div,{role:"group",...s,ref:t})});Fh.displayName=lA;var iA="MenuLabel",yw=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return l.jsx(re.div,{...s,ref:t})});yw.displayName=iA;var Zo="MenuItem",ug="menu.itemSelect",$c=m.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...a}=e,r=m.useRef(null),i=pi(Zo,e.__scopeMenu),o=Xh(Zo,e.__scopeMenu),c=Se(t,r),u=m.useRef(!1),d=()=>{const f=r.current;if(!n&&f){const h=new CustomEvent(ug,{bubbles:!0,cancelable:!0});f.addEventListener(ug,p=>s==null?void 0:s(p),{once:!0}),B0(f,h),h.defaultPrevented?u.current=!1:i.onClose()}};return l.jsx(bw,{...a,ref:c,disabled:n,onClick:G(e.onClick,d),onPointerDown:f=>{var h;(h=e.onPointerDown)==null||h.call(e,f),u.current=!0},onPointerUp:G(e.onPointerUp,f=>{var h;u.current||(h=f.currentTarget)==null||h.click()}),onKeyDown:G(e.onKeyDown,f=>{const h=o.searchRef.current!=="";n||h&&f.key===" "||cf.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});$c.displayName=Zo;var bw=m.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:a,...r}=e,i=Xh(Zo,n),o=mw(n),c=m.useRef(null),u=Se(t,c),[d,f]=m.useState(!1),[h,p]=m.useState("");return m.useEffect(()=>{const y=c.current;y&&p((y.textContent??"").trim())},[r.children]),l.jsx(Gl.ItemSlot,{scope:n,disabled:s,textValue:a??h,children:l.jsx(K0,{asChild:!0,...o,focusable:!s,children:l.jsx(re.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...r,ref:u,onPointerMove:G(e.onPointerMove,Vl(y=>{s?i.onItemLeave(y):(i.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:G(e.onPointerLeave,Vl(y=>i.onItemLeave(y))),onFocus:G(e.onFocus,()=>f(!0)),onBlur:G(e.onBlur,()=>f(!1))})})})}),oA="MenuCheckboxItem",ww=m.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...a}=e;return l.jsx(Ew,{scope:e.__scopeMenu,checked:n,children:l.jsx($c,{role:"menuitemcheckbox","aria-checked":Wo(n)?"mixed":n,...a,ref:t,"data-state":Zh(n),onSelect:G(a.onSelect,()=>s==null?void 0:s(Wo(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ww.displayName=oA;var jw="MenuRadioGroup",[cA,uA]=xa(jw,{value:void 0,onValueChange:()=>{}}),Nw=m.forwardRef((e,t)=>{const{value:n,onValueChange:s,...a}=e,r=Sn(s);return l.jsx(cA,{scope:e.__scopeMenu,value:n,onValueChange:r,children:l.jsx(Fh,{...a,ref:t})})});Nw.displayName=jw;var Sw="MenuRadioItem",_w=m.forwardRef((e,t)=>{const{value:n,...s}=e,a=uA(Sw,e.__scopeMenu),r=n===a.value;return l.jsx(Ew,{scope:e.__scopeMenu,checked:r,children:l.jsx($c,{role:"menuitemradio","aria-checked":r,...s,ref:t,"data-state":Zh(r),onSelect:G(s.onSelect,()=>{var i;return(i=a.onValueChange)==null?void 0:i.call(a,n)},{checkForDefaultPrevented:!1})})})});_w.displayName=Sw;var Qh="MenuItemIndicator",[Ew,dA]=xa(Qh,{checked:!1}),Tw=m.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...a}=e,r=dA(Qh,n);return l.jsx(Zn,{present:s||Wo(r.checked)||r.checked===!0,children:l.jsx(re.span,{...a,ref:t,"data-state":Zh(r.checked)})})});Tw.displayName=Qh;var fA="MenuSeparator",Cw=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return l.jsx(re.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});Cw.displayName=fA;var hA="MenuArrow",Aw=m.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,a=Pc(n);return l.jsx(Gy,{...a,...s,ref:t})});Aw.displayName=hA;var mA="MenuSub",[J4,Ow]=xa(mA),nl="MenuSubTrigger",Rw=m.forwardRef((e,t)=>{const n=ya(nl,e.__scopeMenu),s=pi(nl,e.__scopeMenu),a=Ow(nl,e.__scopeMenu),r=Xh(nl,e.__scopeMenu),i=m.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:c}=r,u={__scopeMenu:e.__scopeMenu},d=m.useCallback(()=>{i.current&&window.clearTimeout(i.current),i.current=null},[]);return m.useEffect(()=>d,[d]),m.useEffect(()=>{const f=o.current;return()=>{window.clearTimeout(f),c(null)}},[o,c]),l.jsx(Vh,{asChild:!0,...u,children:l.jsx(bw,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":a.contentId,"data-state":kw(n.open),...e,ref:yc(t,a.onTriggerChange),onClick:f=>{var h;(h=e.onClick)==null||h.call(e,f),!(e.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:G(e.onPointerMove,Vl(f=>{r.onItemEnter(f),!f.defaultPrevented&&!e.disabled&&!n.open&&!i.current&&(r.onPointerGraceIntentChange(null),i.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:G(e.onPointerLeave,Vl(f=>{var p,y;d();const h=(p=n.content)==null?void 0:p.getBoundingClientRect();if(h){const x=(y=n.content)==null?void 0:y.dataset.side,w=x==="right",b=w?-5:5,v=h[w?"left":"right"],g=h[w?"right":"left"];r.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:v,y:h.top},{x:g,y:h.top},{x:g,y:h.bottom},{x:v,y:h.bottom}],side:x}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>r.onPointerGraceIntentChange(null),300)}else{if(r.onTriggerLeave(f),f.defaultPrevented)return;r.onPointerGraceIntentChange(null)}})),onKeyDown:G(e.onKeyDown,f=>{var p;const h=r.searchRef.current!=="";e.disabled||h&&f.key===" "||KC[s.dir].includes(f.key)&&(n.onOpenChange(!0),(p=n.content)==null||p.focus(),f.preventDefault())})})})});Rw.displayName=nl;var Mw="MenuSubContent",Dw=m.forwardRef((e,t)=>{const n=gw(Ft,e.__scopeMenu),{forceMount:s=n.forceMount,...a}=e,r=ya(Ft,e.__scopeMenu),i=pi(Ft,e.__scopeMenu),o=Ow(Mw,e.__scopeMenu),c=m.useRef(null),u=Se(t,c);return l.jsx(Gl.Provider,{scope:e.__scopeMenu,children:l.jsx(Zn,{present:s||r.open,children:l.jsx(Gl.Slot,{scope:e.__scopeMenu,children:l.jsx(Kh,{id:o.contentId,"aria-labelledby":o.triggerId,...a,ref:u,align:"start",side:i.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;i.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:G(e.onFocusOutside,d=>{d.target!==o.trigger&&r.onOpenChange(!1)}),onEscapeKeyDown:G(e.onEscapeKeyDown,d=>{i.onClose(),d.preventDefault()}),onKeyDown:G(e.onKeyDown,d=>{var p;const f=d.currentTarget.contains(d.target),h=FC[i.dir].includes(d.key);f&&h&&(r.onOpenChange(!1),(p=o.trigger)==null||p.focus(),d.preventDefault())})})})})})});Dw.displayName=Mw;function kw(e){return e?"open":"closed"}function Wo(e){return e==="indeterminate"}function Zh(e){return Wo(e)?"indeterminate":e?"checked":"unchecked"}function pA(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function gA(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function vA(e,t,n){const a=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,r=n?e.indexOf(n):-1;let i=gA(e,Math.max(r,0));a.length===1&&(i=i.filter(u=>u!==n));const c=i.find(u=>u.toLowerCase().startsWith(a.toLowerCase()));return c!==n?c:void 0}function xA(e,t){const{x:n,y:s}=e;let a=!1;for(let r=0,i=t.length-1;r<t.length;i=r++){const o=t[r],c=t[i],u=o.x,d=o.y,f=c.x,h=c.y;d>s!=h>s&&n<(f-u)*(s-d)/(h-d)+u&&(a=!a)}return a}function yA(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return xA(n,t)}function Vl(e){return t=>t.pointerType==="mouse"?e(t):void 0}var bA=pw,wA=Vh,jA=vw,NA=xw,SA=Fh,_A=yw,EA=$c,TA=ww,CA=Nw,AA=_w,OA=Tw,RA=Cw,MA=Aw,DA=Rw,kA=Dw,Bc="DropdownMenu",[UA]=Ls(Bc,[hw]),mt=hw(),[LA,Uw]=UA(Bc),Lw=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:a,defaultOpen:r,onOpenChange:i,modal:o=!0}=e,c=mt(t),u=m.useRef(null),[d,f]=xr({prop:a,defaultProp:r??!1,onChange:i,caller:Bc});return l.jsx(LA,{scope:t,triggerId:jn(),triggerRef:u,contentId:jn(),open:d,onOpenChange:f,onOpenToggle:m.useCallback(()=>f(h=>!h),[f]),modal:o,children:l.jsx(bA,{...c,open:d,onOpenChange:f,dir:s,modal:o,children:n})})};Lw.displayName=Bc;var Iw="DropdownMenuTrigger",zw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...a}=e,r=Uw(Iw,n),i=mt(n);return l.jsx(wA,{asChild:!0,...i,children:l.jsx(re.button,{type:"button",id:r.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":r.open?r.contentId:void 0,"data-state":r.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...a,ref:yc(t,r.triggerRef),onPointerDown:G(e.onPointerDown,o=>{!s&&o.button===0&&o.ctrlKey===!1&&(r.onOpenToggle(),r.open||o.preventDefault())}),onKeyDown:G(e.onKeyDown,o=>{s||(["Enter"," "].includes(o.key)&&r.onOpenToggle(),o.key==="ArrowDown"&&r.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});zw.displayName=Iw;var IA="DropdownMenuPortal",Pw=e=>{const{__scopeDropdownMenu:t,...n}=e,s=mt(t);return l.jsx(jA,{...s,...n})};Pw.displayName=IA;var $w="DropdownMenuContent",Bw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=Uw($w,n),r=mt(n),i=m.useRef(!1);return l.jsx(NA,{id:a.contentId,"aria-labelledby":a.triggerId,...r,...s,ref:t,onCloseAutoFocus:G(e.onCloseAutoFocus,o=>{var c;i.current||(c=a.triggerRef.current)==null||c.focus(),i.current=!1,o.preventDefault()}),onInteractOutside:G(e.onInteractOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!a.modal||d)&&(i.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Bw.displayName=$w;var zA="DropdownMenuGroup",PA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(SA,{...a,...s,ref:t})});PA.displayName=zA;var $A="DropdownMenuLabel",Hw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(_A,{...a,...s,ref:t})});Hw.displayName=$A;var BA="DropdownMenuItem",qw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(EA,{...a,...s,ref:t})});qw.displayName=BA;var HA="DropdownMenuCheckboxItem",Gw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(TA,{...a,...s,ref:t})});Gw.displayName=HA;var qA="DropdownMenuRadioGroup",GA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(CA,{...a,...s,ref:t})});GA.displayName=qA;var VA="DropdownMenuRadioItem",Vw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(AA,{...a,...s,ref:t})});Vw.displayName=VA;var YA="DropdownMenuItemIndicator",Yw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(OA,{...a,...s,ref:t})});Yw.displayName=YA;var XA="DropdownMenuSeparator",Xw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(RA,{...a,...s,ref:t})});Xw.displayName=XA;var KA="DropdownMenuArrow",FA=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(MA,{...a,...s,ref:t})});FA.displayName=KA;var QA="DropdownMenuSubTrigger",Kw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(DA,{...a,...s,ref:t})});Kw.displayName=QA;var ZA="DropdownMenuSubContent",Fw=m.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,a=mt(n);return l.jsx(kA,{...a,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fw.displayName=ZA;var WA=Lw,JA=zw,eO=Pw,Qw=Bw,Zw=Hw,Ww=qw,Jw=Gw,ej=Vw,tj=Yw,nj=Xw,sj=Kw,aj=Fw;const tO=WA,nO=JA,sO=m.forwardRef(({className:e,inset:t,children:n,...s},a)=>l.jsxs(sj,{ref:a,className:W("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...s,children:[n,l.jsx(l2,{className:"ml-auto h-4 w-4"})]}));sO.displayName=sj.displayName;const aO=m.forwardRef(({className:e,...t},n)=>l.jsx(aj,{ref:n,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));aO.displayName=aj.displayName;const rj=m.forwardRef(({className:e,sideOffset:t=4,...n},s)=>l.jsx(eO,{children:l.jsx(Qw,{ref:s,sideOffset:t,className:W("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));rj.displayName=Qw.displayName;const oo=m.forwardRef(({className:e,inset:t,...n},s)=>l.jsx(Ww,{ref:s,className:W("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...n}));oo.displayName=Ww.displayName;const rO=m.forwardRef(({className:e,children:t,checked:n,...s},a)=>l.jsxs(Jw,{ref:a,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(tj,{children:l.jsx(dy,{className:"h-4 w-4"})})}),t]}));rO.displayName=Jw.displayName;const lO=m.forwardRef(({className:e,children:t,...n},s)=>l.jsxs(ej,{ref:s,className:W("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(tj,{children:l.jsx(o2,{className:"h-2 w-2 fill-current"})})}),t]}));lO.displayName=ej.displayName;const lj=m.forwardRef(({className:e,inset:t,...n},s)=>l.jsx(Zw,{ref:s,className:W("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));lj.displayName=Zw.displayName;const ij=m.forwardRef(({className:e,...t},n)=>l.jsx(nj,{ref:n,className:W("-mx-1 my-1 h-px bg-muted",e),...t}));ij.displayName=nj.displayName;function iO({schoolName:e,onDataUpdate:t}){const[n,s]=m.useState([]),[a,r]=m.useState([]),[i,o]=m.useState(""),[c,u]=m.useState("all");m.useEffect(()=>{d()},[e]),m.useEffect(()=>{f()},[n,i,c]);const d=()=>{const x=at().filter(w=>w.type==="driver"&&w.schoolName===e);s(x),t&&t()},f=()=>{let y=n;i&&(y=y.filter(x=>x.name.toLowerCase().includes(i.toLowerCase())||x.email&&x.email.toLowerCase().includes(i.toLowerCase())||x.phone&&x.phone.includes(i)||x.vehicleNumber&&x.vehicleNumber.toLowerCase().includes(i.toLowerCase())||x.licenseNumber&&x.licenseNumber.toLowerCase().includes(i.toLowerCase()))),c!=="all"&&(y=y.filter(x=>(x.status||"pending")===c)),r(y)},h=y=>{const x={not_arrived:{label:"لم يصل",color:"bg-gray-500"},on_way:{label:"في الطريق",color:"bg-blue-500"},arrived:{label:"وصل",color:"bg-green-500"},departed:{label:"غادر",color:"bg-purple-500"},verified:{label:"نشط",color:"bg-green-500"},pending:{label:"في الانتظار",color:"bg-yellow-500"}},w=x[y]||x.pending;return l.jsx(Dt,{className:`${w.color} text-white text-xs`,children:w.label})},p=y=>{if(!y)return"غير محدد";try{return new Date(y).toLocaleDateString("ar-SA")}catch{return"غير محدد"}};return l.jsxs($,{children:[l.jsxs(ue,{children:[l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(Pe,{className:"w-5 h-5"}),"جدول إدارة السائقين"]}),l.jsx(Xe,{children:"عرض وإدارة جميع السائقين المسجلين في المدرسة"})]}),l.jsxs(B,{children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(f2,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),l.jsx(Q,{placeholder:"البحث بالاسم، البريد، الهاتف، رقم المركبة أو رقم الرخصة...",value:i,onChange:y=>o(y.target.value),className:"pl-10 text-right"})]}),l.jsx("div",{className:"flex gap-2",children:l.jsxs("select",{value:c,onChange:y=>u(y.target.value),className:"px-3 py-2 border rounded-md text-sm",children:[l.jsx("option",{value:"all",children:"جميع الحالات"}),l.jsx("option",{value:"verified",children:"نشط"}),l.jsx("option",{value:"pending",children:"في الانتظار"}),l.jsx("option",{value:"on_way",children:"في الطريق"}),l.jsx("option",{value:"arrived",children:"وصل"}),l.jsx("option",{value:"departed",children:"غادر"}),l.jsx("option",{value:"not_arrived",children:"لم يصل"})]})})]}),a.length===0?l.jsxs(Ze,{children:[l.jsx(yt,{className:"h-4 w-4"}),l.jsx(We,{children:n.length===0?"لا يوجد سائقين مسجلين في هذه المدرسة حتى الآن.":"لا توجد نتائج تطابق معايير البحث."})]}):l.jsx("div",{className:"rounded-md border",children:l.jsxs(cw,{children:[l.jsx(uw,{children:l.jsxs(of,{children:[l.jsx(rs,{className:"text-right",children:"اسم السائق"}),l.jsx(rs,{className:"text-right",children:"معلومات الاتصال"}),l.jsx(rs,{className:"text-right",children:"معلومات المركبة"}),l.jsx(rs,{className:"text-right",children:"رقم الرخصة"}),l.jsx(rs,{className:"text-right",children:"الحالة"}),l.jsx(rs,{className:"text-right",children:"تاريخ التسجيل"}),l.jsx(rs,{className:"text-right",children:"الإجراءات"})]})}),l.jsx(dw,{children:a.map(y=>l.jsxs(of,{children:[l.jsx(ls,{className:"font-medium text-right",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:l.jsx(Pe,{className:"w-4 h-4 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:y.name}),l.jsx("div",{className:"text-xs text-gray-500",children:y.schoolName})]})]})}),l.jsx(ls,{className:"text-right",children:l.jsxs("div",{className:"space-y-1",children:[y.email&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(Xn,{className:"w-3 h-3"}),l.jsx("span",{children:y.email})]}),y.phone&&l.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[l.jsx(oa,{className:"w-3 h-3"}),l.jsx("span",{children:y.phone})]})]})}),l.jsx(ls,{className:"text-right",children:l.jsx("div",{className:"text-sm",children:y.vehicleNumber||"غير محدد"})}),l.jsx(ls,{className:"text-right",children:l.jsx("div",{className:"text-sm",children:y.licenseNumber||"غير محدد"})}),l.jsx(ls,{className:"text-right",children:h(y.status||"pending")}),l.jsx(ls,{className:"text-right",children:l.jsxs("div",{className:"flex items-center gap-1 text-sm text-gray-500",children:[l.jsx(uy,{className:"w-3 h-3"}),p(y.createdAt)]})}),l.jsx(ls,{className:"text-right",children:l.jsxs(tO,{children:[l.jsx(nO,{asChild:!0,children:l.jsxs(I,{variant:"ghost",className:"h-8 w-8 p-0",children:[l.jsx("span",{className:"sr-only",children:"فتح القائمة"}),l.jsx(d2,{className:"h-4 w-4"})]})}),l.jsxs(rj,{align:"end",children:[l.jsx(lj,{children:"الإجراءات"}),l.jsxs(oo,{children:[l.jsx(Th,{className:"mr-2 h-4 w-4"}),"عرض التفاصيل"]}),l.jsxs(oo,{children:[l.jsx(Sc,{className:"mr-2 h-4 w-4"}),"تعديل البيانات"]}),l.jsx(ij,{}),l.jsxs(oo,{className:"text-red-600",children:[l.jsx(Go,{className:"mr-2 h-4 w-4"}),"حذف السائق"]})]})]})})]},y.id))})]})}),n.length>0&&l.jsxs("div",{className:"mt-4 text-sm text-gray-500 text-center",children:["عرض ",a.length," من أصل ",n.length," سائق مسجل"]})]})]})}function oO({schoolName:e,onBack:t}){const[n,s]=m.useState([]),[a,r]=m.useState("");m.useEffect(()=>{i();const y=setInterval(i,1e4);return()=>clearInterval(y)},[e]);const i=()=>{const w=at().filter(b=>b.type==="driver"&&b.schoolName===e).sort((b,v)=>{const g={arrived:1,on_way:2,departed:3,not_arrived:4},j=g[b.status||"not_arrived"],N=g[v.status||"not_arrived"];if(j===N){const S=new Date(b.lastUpdate||"").getTime()||0;return(new Date(v.lastUpdate||"").getTime()||0)-S}return j-N});s(w),r(new Date().toLocaleTimeString("ar-SA"))},o=y=>{switch(y){case"not_arrived":return"لم يصل";case"on_way":return"في الطريق";case"arrived":return"وصل";case"departed":return"غادر";default:return"غير محدد"}},c=y=>{switch(y){case"not_arrived":return qo;case"on_way":return Ho;case"arrived":return nt;case"departed":return nt;default:return qo}},u=y=>{switch(y){case"not_arrived":return"bg-gray-500";case"on_way":return"bg-blue-500";case"arrived":return"bg-green-500";case"departed":return"bg-purple-500";default:return"bg-gray-500"}},d=y=>{switch(y){case"not_arrived":return"border-gray-200";case"on_way":return"border-blue-200";case"arrived":return"border-green-200";case"departed":return"border-purple-200";default:return"border-gray-200"}},f=n.filter(y=>y.status==="arrived").length,h=n.filter(y=>y.status==="on_way").length,p=n.length;return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 p-6",children:l.jsxs("div",{className:"max-w-7xl mx-auto",children:[l.jsxs("div",{className:"flex items-center justify-between mb-8",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs(I,{variant:"outline",size:"lg",onClick:t,className:"flex items-center gap-3 text-lg px-6 py-3",children:[l.jsx(yr,{className:"w-6 h-6"}),"العودة"]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-5xl font-bold text-gray-900 mb-2",children:"حالة السائقين"}),l.jsxs("p",{className:"text-2xl text-gray-600",children:["مرتبة حسب الوصول - ",e]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs(I,{variant:"outline",size:"lg",onClick:i,className:"flex items-center gap-3 text-lg px-6 py-3 mb-4",children:[l.jsx(yl,{className:"w-6 h-6"}),"تحديث"]}),l.jsxs("p",{className:"text-lg text-gray-500",children:["آخر تحديث: ",a]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[l.jsx($,{className:"bg-white shadow-lg",children:l.jsx(B,{className:"p-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-4xl font-bold text-green-600",children:f}),l.jsx("p",{className:"text-xl text-gray-600 mt-2",children:"السائقين الواصلين"})]}),l.jsx(nt,{className:"w-16 h-16 text-green-500"})]})})}),l.jsx($,{className:"bg-white shadow-lg",children:l.jsx(B,{className:"p-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-4xl font-bold text-blue-600",children:h}),l.jsx("p",{className:"text-xl text-gray-600 mt-2",children:"في الطريق"})]}),l.jsx(Ho,{className:"w-16 h-16 text-blue-500"})]})})}),l.jsx($,{className:"bg-white shadow-lg",children:l.jsx(B,{className:"p-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-4xl font-bold text-gray-700",children:p}),l.jsx("p",{className:"text-xl text-gray-600 mt-2",children:"إجمالي السائقين"})]}),l.jsx(Pe,{className:"w-16 h-16 text-gray-500"})]})})})]}),l.jsx("div",{className:"space-y-4",children:n.length===0?l.jsx($,{className:"bg-white shadow-lg",children:l.jsxs(B,{className:"p-12 text-center",children:[l.jsx(Pe,{className:"w-24 h-24 text-gray-400 mx-auto mb-6"}),l.jsx("p",{className:"text-3xl text-gray-500",children:"لا يوجد سائقين مسجلين"})]})}):n.map((y,x)=>{const w=c(y.status);return l.jsx($,{className:`bg-white shadow-lg border-l-8 ${d(y.status)} hover:shadow-xl transition-shadow`,children:l.jsx(B,{className:"p-8",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-6",children:[l.jsxs("div",{className:"text-3xl font-bold text-gray-400 min-w-[60px]",children:["#",x+1]}),l.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center border-4 border-white shadow-lg",children:y.photo?l.jsx("img",{src:y.photo,alt:y.name,className:"w-full h-full object-cover"}):l.jsx(ft,{className:"w-12 h-12 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"text-3xl font-bold text-gray-900 mb-2",children:y.name}),l.jsxs("p",{className:"text-xl text-gray-600",children:["رقم المركبة: ",y.vehicleNumber||"غير محدد"]}),y.lastUpdate&&l.jsxs("p",{className:"text-lg text-gray-500 mt-1",children:["آخر تحديث: ",new Date(y.lastUpdate).toLocaleString("ar-SA")]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs(Dt,{className:`${u(y.status)} text-white text-2xl px-6 py-3 flex items-center gap-3`,children:[l.jsx(w,{className:"w-8 h-8"}),o(y.status)]}),y.status==="arrived"&&l.jsxs("div",{className:"mt-3 flex items-center gap-2 text-green-600",children:[l.jsx(nt,{className:"w-6 h-6"}),l.jsx("span",{className:"text-lg font-medium",children:"تم الوصول"})]})]})]})})},y.id)})}),l.jsx("div",{className:"mt-12 text-center",children:l.jsx("p",{className:"text-xl text-gray-500",children:"يتم تحديث البيانات تلقائياً كل 10 ثوانٍ"})})]})})}const oj=m.forwardRef(({className:e,...t},n)=>l.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));oj.displayName="Textarea";function cO({schoolName:e,onNotificationSent:t}){const[n,s]=m.useState({type:"general",message:"",dismissalTime:"",grade:"",customMessage:""}),[a,r]=m.useState(!1),[i,o]=m.useState(""),[c,u]=m.useState(""),d={dismissal:"تم انتهاء الدوام المدرسي. يرجى الحضور لاستلام الطلاب.",early_dismissal:"انتهاء مبكر للدوام المدرسي اليوم. يرجى الحضور في الوقت المحدد.",delay:"تأخير في انتهاء الدوام المدرسي. سيتم إشعاركم بالوقت الجديد.",emergency:"إشعار طارئ: يرجى الحضور فوراً لاستلام الطلاب.",weather:"بسبب الأحوال الجوية، تم تغيير وقت انتهاء الدوام المدرسي."},f=(w,b)=>{s(v=>({...v,[w]:b})),u(""),o("")},h=async()=>{r(!0),u(""),o("");try{const b=at().filter(N=>N.type==="driver"&&N.schoolName===e);if(b.length===0)throw new Error("لا يوجد سائقين مسجلين في هذه المدرسة");let v="";if(n.type==="dismissal"&&n.dismissalTime)v=`انتهاء الدوام المدرسي في تمام الساعة ${n.dismissalTime}. يرجى الحضور لاستلام الطلاب.`;else if(n.message&&d[n.message])v=d[n.message],n.dismissalTime&&(v+=` الوقت المحدد: ${n.dismissalTime}`);else if(n.customMessage)v=n.customMessage,n.dismissalTime&&(v+=` - الوقت: ${n.dismissalTime}`);else throw new Error("يرجى كتابة رسالة الإشعار");n.grade&&(v=`${n.grade}: ${v}`);const g=new Date().toISOString();let j=0;for(const N of b){const S={id:`${Date.now()}-${N.id}`,message:v,type:"general",timestamp:g,driverId:N.id,schoolId:e};Kd(S)&&j++}o(`تم إرسال الإشعار بنجاح إلى ${j} سائق`),s({type:"general",message:"",dismissalTime:"",grade:"",customMessage:""}),t()}catch(w){u(w instanceof Error?w.message:"حدث خطأ في إرسال الإشعار")}finally{r(!1)}},p=()=>new Date().toTimeString().slice(0,5),x=at().filter(w=>w.type==="driver"&&w.schoolName===e).length;return l.jsxs($,{children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(yt,{className:"w-5 h-5"}),"إرسال إشعار للسائقين"]})}),l.jsxs(B,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center gap-2 p-3 bg-blue-50 rounded-lg",children:[l.jsx(ys,{className:"w-4 h-4 text-blue-600"}),l.jsxs("span",{className:"text-sm text-blue-700",children:["سيتم إرسال الإشعار إلى ",x," سائق مسجل في ",e]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{children:"نوع الإشعار"}),l.jsxs(an,{value:n.type,onValueChange:w=>f("type",w),children:[l.jsx(Xt,{children:l.jsx(rn,{placeholder:"اختر نوع الإشعار"})}),l.jsxs(Kt,{children:[l.jsx(Ge,{value:"dismissal",children:"وقت انتهاء الدوام"}),l.jsx(Ge,{value:"general",children:"إشعار عام"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"dismissalTime",className:"flex items-center gap-2",children:[l.jsx(Yt,{className:"w-4 h-4"}),"وقت انتهاء الدوام"]}),l.jsx(Q,{id:"dismissalTime",type:"time",value:n.dismissalTime,onChange:w=>f("dismissalTime",w.target.value),className:"text-right"}),l.jsx(I,{type:"button",variant:"outline",size:"sm",onClick:()=>f("dismissalTime",p()),children:"استخدام الوقت الحالي"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"grade",children:"الصف (اختياري)"}),l.jsx(Q,{id:"grade",value:n.grade,onChange:w=>f("grade",w.target.value),placeholder:"مثال: الصف الأول، المرحلة الابتدائية",className:"text-right"})]}),n.type==="general"&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{children:"رسائل جاهزة"}),l.jsxs(an,{value:n.message,onValueChange:w=>f("message",w),children:[l.jsx(Xt,{children:l.jsx(rn,{placeholder:"اختر رسالة جاهزة"})}),l.jsxs(Kt,{children:[l.jsx(Ge,{value:"dismissal",children:"انتهاء الدوام العادي"}),l.jsx(Ge,{value:"early_dismissal",children:"انتهاء مبكر للدوام"}),l.jsx(Ge,{value:"delay",children:"تأخير في انتهاء الدوام"}),l.jsx(Ge,{value:"emergency",children:"إشعار طارئ"}),l.jsx(Ge,{value:"weather",children:"تغيير بسبب الطقس"})]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{htmlFor:"customMessage",children:"رسالة مخصصة"}),l.jsx(oj,{id:"customMessage",value:n.customMessage,onChange:w=>f("customMessage",w.target.value),placeholder:"اكتب رسالة مخصصة للسائقين...",rows:3,className:"text-right"})]}),(n.dismissalTime||n.customMessage||n.message)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx(Z,{children:"معاينة الرسالة"}),l.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:l.jsxs("p",{className:"text-sm text-gray-700",children:[n.grade&&`${n.grade}: `,n.type==="dismissal"&&n.dismissalTime&&`انتهاء الدوام المدرسي في تمام الساعة ${n.dismissalTime}. يرجى الحضور لاستلام الطلاب.`,n.message&&d[n.message]&&d[n.message],n.customMessage,n.dismissalTime&&n.customMessage&&` - الوقت: ${n.dismissalTime}`]})})]}),i&&l.jsx(Ze,{className:"border-green-200 bg-green-50",children:l.jsx(We,{className:"text-green-700",children:i})}),c&&l.jsx(Ze,{className:"border-red-200 bg-red-50",children:l.jsx(We,{className:"text-red-700",children:c})}),l.jsx(I,{onClick:h,disabled:a||x===0,className:"w-full flex items-center gap-2",children:a?"جاري الإرسال...":l.jsxs(l.Fragment,{children:[l.jsx(Fa,{className:"w-4 h-4"}),"إرسال الإشعار (",x," سائق)"]})}),x===0&&l.jsx("p",{className:"text-sm text-gray-500 text-center",children:"لا يوجد سائقين مسجلين في هذه المدرسة"})]})]})}const uO=["eng7763@gmail.com","0554038382"],dO=e=>uO.some(t=>e.email===t||e.phone===t);function fO({user:e,onLogout:t,onUserUpdate:n}){const[s,a]=m.useState("overview"),[r,i]=m.useState(!1),[o,c]=m.useState([]),[u,d]=m.useState([]),[f,h]=m.useState([]),[p,y]=m.useState({totalDrivers:0,activeDrivers:0,totalUsers:0,totalSchools:0});m.useEffect(()=>{x();const E=setInterval(x,3e4);return()=>clearInterval(E)},[]);const x=()=>{const E=at(),z=ci(),T=qC.getSchools(),P=E.filter(C=>!dO(C)),k=P.filter(C=>C.type==="driver"&&C.schoolName===C.schoolName).sort((C,O)=>{const M={arrived:1,on_way:2,departed:3,not_arrived:4},U=M[C.status||"not_arrived"],V=M[O.status||"not_arrived"];return U-V});c(k),d(P),h(z),y({totalDrivers:k.length,activeDrivers:k.filter(C=>C.status==="arrived").length,totalUsers:P.length,totalSchools:T.length})},w=()=>{x()},b=E=>{switch(E){case"not_arrived":return"لم يصل";case"on_way":return"في الطريق";case"arrived":return"وصل";case"departed":return"غادر";default:return E}},v=E=>{switch(E){case"not_arrived":return"text-gray-500";case"on_way":return"text-blue-500";case"arrived":return"text-green-500";case"departed":return"text-purple-500";default:return"text-gray-500"}};if(r)return l.jsx(oO,{schoolName:e.schoolName,onBack:()=>i(!1)});const g=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(Pe,{className:"w-8 h-8 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:p.totalDrivers}),l.jsx("p",{className:"text-gray-600",children:"إجمالي السائقين"})]})]})})}),l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(nt,{className:"w-8 h-8 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:p.activeDrivers}),l.jsx("p",{className:"text-gray-600",children:"السائقين الواصلين"})]})]})})}),l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(ys,{className:"w-8 h-8 text-purple-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:p.totalUsers}),l.jsx("p",{className:"text-gray-600",children:"إجمالي المستخدمين"})]})]})})}),l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(Rs,{className:"w-8 h-8 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:p.totalSchools}),l.jsx("p",{className:"text-gray-600",children:"المدارس المسجلة"})]})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsx($,{className:"border-blue-200 bg-blue-50",children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"إرسال إشعار للسائقين"}),l.jsx("p",{className:"text-blue-700",children:"أشعر السائقين بوقت انتهاء الدوام"})]}),l.jsxs(I,{onClick:()=>a("send-notification"),className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(Fa,{className:"w-4 h-4 mr-2"}),"إرسال إشعار"]})]})})}),l.jsx($,{className:"border-green-200 bg-green-50",children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-green-900",children:"عرض حالة السائقين"}),l.jsx("p",{className:"text-green-700",children:"شاشة كاملة لمتابعة السائقين"})]}),l.jsxs(I,{onClick:()=>i(!0),variant:"outline",className:"border-green-300 text-green-700 hover:bg-green-100",children:[l.jsx(Mu,{className:"w-4 h-4 mr-2"}),"شاشة كاملة"]})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs($,{children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pe,{className:"w-5 h-5"}),"حالة السائقين (مرتبة حسب الوصول)"]}),l.jsxs(I,{variant:"outline",size:"sm",onClick:()=>i(!0),className:"flex items-center gap-2",children:[l.jsx(Mu,{className:"w-4 h-4"}),"شاشة كاملة"]})]})}),l.jsxs(B,{children:[l.jsx("div",{className:"space-y-3",children:o.slice(0,5).map(E=>l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center border-2 border-white shadow-sm",children:E.photo?l.jsx("img",{src:E.photo,alt:E.name,className:"w-full h-full object-cover"}):l.jsx(ft,{className:"w-6 h-6 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:E.name}),l.jsx("p",{className:"text-sm text-gray-500",children:E.vehicleNumber||"غير محدد"})]})]}),l.jsxs("div",{className:`flex items-center gap-2 ${v(E.status)}`,children:[l.jsx(Yt,{className:"w-4 h-4"}),l.jsx("span",{className:"text-sm font-medium",children:b(E.status)}),E.status==="arrived"&&l.jsx(nt,{className:"w-4 h-4 text-green-500"})]})]},E.id))}),o.length>5&&l.jsx("div",{className:"mt-3 text-center",children:l.jsxs(I,{variant:"outline",size:"sm",onClick:()=>i(!0),children:["عرض جميع السائقين (",o.length,")"]})})]})]}),l.jsxs($,{children:[l.jsx(ue,{children:l.jsxs(de,{className:"flex items-center gap-2",children:[l.jsx(yt,{className:"w-5 h-5"}),"آخر الإشعارات"]})}),l.jsx(B,{children:l.jsx("div",{className:"space-y-3",children:f.slice(0,5).map(E=>l.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[l.jsx("p",{className:"text-sm",children:E.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(E.timestamp).toLocaleString("ar-SA")})]},E.id))})})]})]})]}),j=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"إرسال إشعار للسائقين"}),l.jsx(I,{variant:"outline",onClick:()=>a("overview"),children:"العودة للنظرة العامة"})]}),l.jsx(cO,{schoolName:e.schoolName,onNotificationSent:w})]}),N=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-bold",children:"إدارة السائقين"}),l.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"مرتبة حسب الوصول: الواصلين أولاً"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(I,{onClick:()=>a("send-notification"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[l.jsx(Fa,{className:"w-4 h-4"}),"إرسال إشعار"]}),l.jsxs(I,{onClick:()=>i(!0),variant:"outline",className:"flex items-center gap-2",children:[l.jsx(Mu,{className:"w-4 h-4"}),"شاشة كاملة"]})]})]}),l.jsx(iO,{schoolName:e.schoolName,onDataUpdate:x})]}),S=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"إدارة المستخدمين"}),l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:u.map(E=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center border-2 border-white shadow-sm",children:E.photo?l.jsx("img",{src:E.photo,alt:E.name,className:"w-full h-full object-cover"}):l.jsx(ft,{className:"w-6 h-6 text-gray-400"})}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:E.name}),l.jsx("p",{className:"text-sm text-gray-500",children:E.email||E.phone}),l.jsx("p",{className:"text-xs text-gray-400",children:E.type==="driver"?"سائق":"إدارة مدرسة"})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(my,{className:`w-4 h-4 ${E.status==="verified"?"text-green-500":"text-gray-400"}`}),l.jsx("span",{className:"text-sm",children:E.status==="verified"?"مفعل":"غير مفعل"})]})]},E.id))})})})]}),_=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"إدارة المدارس"}),l.jsx(Gh,{})]}),A=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"الإشعارات"}),l.jsxs(I,{onClick:()=>a("send-notification"),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700",children:[l.jsx(Fa,{className:"w-4 h-4"}),"إرسال إشعار جديد"]})]}),l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:f.map(E=>l.jsxs(Ze,{className:"border-l-4 border-l-blue-500",children:[l.jsx(ia,{className:"h-4 w-4"}),l.jsx(We,{children:l.jsxs("div",{className:"flex justify-between items-start",children:[l.jsxs("div",{children:[l.jsx("p",{children:E.message}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(E.timestamp).toLocaleString("ar-SA")})]}),l.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E.type==="arrival"?"bg-green-100 text-green-800":E.type==="departure"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}`,children:E.type})]})})]},E.id))})})})]}),R=()=>{switch(s){case"overview":return g();case"drivers":return N();case"users":return S();case"schools":return _();case"notifications":return A();case"send-notification":return j();default:return g()}};return l.jsxs("div",{className:"min-h-screen bg-gray-50",children:[l.jsx("div",{className:"bg-white shadow-sm border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[l.jsx("div",{className:"text-2xl",children:"👔"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"لوحة تحكم الإدارة"}),l.jsx("p",{className:"text-sm text-gray-500",children:e.schoolName})]})]}),l.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[l.jsxs("span",{className:"text-sm text-gray-600",children:["مرحباً، ",e.name]}),l.jsxs(I,{variant:"outline",onClick:t,className:"flex items-center gap-2",children:[l.jsx(di,{className:"w-4 h-4"}),"تسجيل الخروج"]})]})]})})}),l.jsx("div",{className:"bg-white border-b",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("nav",{className:"flex space-x-8 rtl:space-x-reverse",children:[{id:"overview",label:"نظرة عامة",icon:br},{id:"drivers",label:"السائقين",icon:Pe},{id:"send-notification",label:"إرسال إشعار",icon:Fa},{id:"users",label:"المستخدمين",icon:ys},{id:"schools",label:"المدارس",icon:Rs},{id:"notifications",label:"الإشعارات",icon:yt}].map(E=>{const z=E.icon;return l.jsxs("button",{onClick:()=>a(E.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm ${s===E.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(z,{className:"w-4 h-4"}),E.label]},E.id)})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:R()})]})}function hO({onLogin:e}){const[t,n]=m.useState(""),[s,a]=m.useState(""),[r,i]=m.useState(""),[o,c]=m.useState(!1),u=async d=>{d.preventDefault(),i(""),c(!0),t==="eng7763@gmail.com"&&s==="0554038382Kk"?e({email:t,password:s}):i("بيانات الدخول غير صحيحة. يرجى التحقق من البريد الإلكتروني وكلمة المرور."),c(!1)};return l.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-900 via-red-600 to-blue-900 flex items-center justify-center p-4",children:l.jsxs($,{className:"w-full max-w-md border-2 border-red-200 shadow-2xl",children:[l.jsxs(ue,{className:"text-center bg-gradient-to-r from-red-600 to-blue-600 text-white rounded-t-lg",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"w-16 h-16 bg-yellow-400 rounded-full flex items-center justify-center",children:l.jsx(Pl,{className:"w-8 h-8 text-red-800"})})}),l.jsx(de,{className:"text-2xl font-bold",children:"مسؤول النظام"}),l.jsx(Xe,{className:"text-red-100",children:"دخول لوحة التحكم الرئيسية - صلاحيات كاملة"})]}),l.jsxs(B,{className:"p-6",children:[l.jsxs("form",{onSubmit:u,className:"space-y-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"email",className:"flex items-center gap-2",children:[l.jsx(Bl,{className:"w-4 h-4 text-red-600"}),"البريد الإلكتروني"]}),l.jsx(Q,{id:"email",type:"email",value:t,onChange:d=>n(d.target.value),placeholder:"eng7763@gmail.com",required:!0,className:"border-red-200 focus:border-red-500"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(Z,{htmlFor:"password",className:"flex items-center gap-2",children:[l.jsx(Bl,{className:"w-4 h-4 text-red-600"}),"كلمة المرور"]}),l.jsx(Q,{id:"password",type:"password",value:s,onChange:d=>a(d.target.value),placeholder:"••••••••••••",required:!0,className:"border-red-200 focus:border-red-500"})]}),r&&l.jsxs(Ze,{variant:"destructive",children:[l.jsx(ia,{className:"h-4 w-4"}),l.jsx(We,{children:r})]}),l.jsx(I,{type:"submit",className:"w-full bg-gradient-to-r from-red-600 to-blue-600 hover:from-red-700 hover:to-blue-700 text-white font-bold py-3",disabled:o,children:o?l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"جاري التحقق..."]}):l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Pl,{className:"w-4 h-4"}),"دخول لوحة التحكم"]})})]}),l.jsx("div",{className:"mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(ia,{className:"w-5 h-5 text-yellow-600 mt-0.5"}),l.jsxs("div",{className:"text-sm text-yellow-800",children:[l.jsx("p",{className:"font-semibold",children:"تحذير أمني:"}),l.jsx("p",{children:"هذه لوحة تحكم مسؤول النظام مع صلاحيات كاملة. يمكن الوصول إلى جميع البيانات وتعديلها أو حذفها."})]})]})})]})]})})}const mO="modulepreload",pO=function(e){return"/"+e},dg={},gi=function(t,n,s){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),o=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=pO(c),c in dg)return;dg[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":mO,u||(f.as="script"),f.crossOrigin="",f.href=c,o&&f.setAttribute("nonce",o),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(i){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i}return a.then(i=>{for(const o of i||[])o.status==="rejected"&&r(o.reason);return t().catch(r)})},gO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ur);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)};class Wh extends Error{constructor(t,n="FunctionsError",s){super(t),this.name=n,this.context=s}}class vO extends Wh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fg extends Wh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hg extends Wh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var uf;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(uf||(uf={}));var xO=function(e,t,n,s){function a(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function o(d){try{u(s.next(d))}catch(f){i(f)}}function c(d){try{u(s.throw(d))}catch(f){i(f)}}function u(d){d.done?r(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};class yO{constructor(t,{headers:n={},customFetch:s,region:a=uf.Any}={}){this.url=t,this.headers=n,this.region=a,this.fetch=gO(s)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var s;return xO(this,void 0,void 0,function*(){try{const{headers:a,method:r,body:i}=n;let o={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(o["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(o["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(o["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:r||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),a),body:d}).catch(x=>{throw new vO(x)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new fg(f);if(!f.ok)throw new hg(f);let p=((s=f.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),y;return p==="application/json"?y=yield f.json():p==="application/octet-stream"?y=yield f.blob():p==="text/event-stream"?y=f:p==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(a){return{data:null,error:a,response:a instanceof hg||a instanceof fg?a.context:void 0}}})}}var xt={},Jh={},Hc={},vi={},qc={},Gc={},bO=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},jr=bO();const wO=jr.fetch,cj=jr.fetch.bind(jr),uj=jr.Headers,jO=jr.Request,NO=jr.Response,Ur=Object.freeze(Object.defineProperty({__proto__:null,Headers:uj,Request:jO,Response:NO,default:cj,fetch:wO},Symbol.toStringTag,{value:"Module"})),SO=Ij(Ur);var Vc={};Object.defineProperty(Vc,"__esModule",{value:!0});let _O=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Vc.default=_O;var dj=Qt&&Qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gc,"__esModule",{value:!0});const EO=dj(SO),TO=dj(Vc);let CO=class{constructor(t){var n,s;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=EO.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let a=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async r=>{var i,o,c,u;let d=null,f=null,h=null,p=r.status,y=r.statusText;if(r.ok){if(this.method!=="HEAD"){const v=await r.text();v===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=v:f=JSON.parse(v))}const w=(o=this.headers.get("Prefer"))===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),b=(c=r.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&b&&b.length>1&&(h=parseInt(b[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await r.text();try{d=JSON.parse(w),Array.isArray(d)&&r.status===404&&(f=[],d=null,p=200,y="OK")}catch{r.status===404&&w===""?(p=204,y="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,y="OK"),d&&this.shouldThrowOnError)throw new TO.default(d)}return{error:d,data:f,count:h,status:p,statusText:y}});return this.shouldThrowOnError||(a=a.catch(r=>{var i,o,c;return{error:{message:`${(i=r==null?void 0:r.name)!==null&&i!==void 0?i:"FetchError"}: ${r==null?void 0:r.message}`,details:`${(o=r==null?void 0:r.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=r==null?void 0:r.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(t,n)}returns(){return this}overrideTypes(){return this}};Gc.default=CO;var AO=Qt&&Qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(qc,"__esModule",{value:!0});const OO=AO(Gc);let RO=class extends OO.default{select(t){let n=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!n?"":(a==='"'&&(n=!n),a)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:s,foreignTable:a,referencedTable:r=a}={}){const i=r?`${r}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${t}.${n?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this}range(t,n,{foreignTable:s,referencedTable:a=s}={}){const r=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${t}`),this.url.searchParams.set(i,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:s=!1,buffers:a=!1,wal:r=!1,format:i="text"}={}){var o;const c=[t?"analyze":null,n?"verbose":null,s?"settings":null,a?"buffers":null,r?"wal":null].filter(Boolean).join("|"),u=(o=this.headers.get("Accept"))!==null&&o!==void 0?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};qc.default=RO;var MO=Qt&&Qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vi,"__esModule",{value:!0});const DO=MO(qc);let kO=class extends DO.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const s=Array.from(new Set(n)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:s,type:a}={}){let r="";a==="plain"?r="pl":a==="phrase"?r="ph":a==="websearch"&&(r="w");const i=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${r}fts${i}.${n}`),this}match(t){return Object.entries(t).forEach(([n,s])=>{this.url.searchParams.append(n,`eq.${s}`)}),this}not(t,n,s){return this.url.searchParams.append(t,`not.${n}.${s}`),this}or(t,{foreignTable:n,referencedTable:s=n}={}){const a=s?`${s}.or`:"or";return this.url.searchParams.append(a,`(${t})`),this}filter(t,n,s){return this.url.searchParams.append(t,`${n}.${s}`),this}};vi.default=kO;var UO=Qt&&Qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Hc,"__esModule",{value:!0});const Qr=UO(vi);let LO=class{constructor(t,{headers:n={},schema:s,fetch:a}){this.url=t,this.headers=new Headers(n),this.schema=s,this.fetch=a}select(t,{head:n=!1,count:s}={}){const a=n?"HEAD":"GET";let r=!1;const i=(t??"*").split("").map(o=>/\s/.test(o)&&!r?"":(o==='"'&&(r=!r),o)).join("");return this.url.searchParams.set("select",i),s&&this.headers.append("Prefer",`count=${s}`),new Qr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:s=!0}={}){var a;const r="POST";if(n&&this.headers.append("Prefer",`count=${n}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(i.length>0){const o=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Qr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:s=!1,count:a,defaultToNull:r=!0}={}){var i;const o="POST";if(this.headers.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),a&&this.headers.append("Prefer",`count=${a}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Qr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:n}={}){var s;const a="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Qr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}delete({count:t}={}){var n;const s="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Qr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Hc.default=LO;var fj=Qt&&Qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jh,"__esModule",{value:!0});const IO=fj(Hc),zO=fj(vi);let PO=class hj{constructor(t,{headers:n={},schema:s,fetch:a}={}){this.url=t,this.headers=new Headers(n),this.schemaName=s,this.fetch=a}from(t){const n=new URL(`${this.url}/${t}`);return new IO.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new hj(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:s=!1,get:a=!1,count:r}={}){var i;let o;const c=new URL(`${this.url}/rpc/${t}`);let u;s||a?(o=s?"HEAD":"GET",Object.entries(n).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(o="POST",u=n);const d=new Headers(this.headers);return r&&d.set("Prefer",`count=${r}`),new zO.default({method:o,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};Jh.default=PO;var Lr=Qt&&Qt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(xt,"__esModule",{value:!0});xt.PostgrestError=xt.PostgrestBuilder=xt.PostgrestTransformBuilder=xt.PostgrestFilterBuilder=xt.PostgrestQueryBuilder=xt.PostgrestClient=void 0;const mj=Lr(Jh);xt.PostgrestClient=mj.default;const pj=Lr(Hc);xt.PostgrestQueryBuilder=pj.default;const gj=Lr(vi);xt.PostgrestFilterBuilder=gj.default;const vj=Lr(qc);xt.PostgrestTransformBuilder=vj.default;const xj=Lr(Gc);xt.PostgrestBuilder=xj.default;const yj=Lr(Vc);xt.PostgrestError=yj.default;var $O=xt.default={PostgrestClient:mj.default,PostgrestQueryBuilder:pj.default,PostgrestFilterBuilder:gj.default,PostgrestTransformBuilder:vj.default,PostgrestBuilder:xj.default,PostgrestError:yj.default};const{PostgrestClient:BO,PostgrestQueryBuilder:rM,PostgrestFilterBuilder:lM,PostgrestTransformBuilder:iM,PostgrestBuilder:oM,PostgrestError:cM}=$O;class HO{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const s=n.node,a=parseInt(s.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const s=this.getWebSocketConstructor();return new s(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qO="2.15.5",GO=`realtime-js/${qO}`,VO="1.0.0",df=1e4,YO=1e3,XO=100;var bl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(bl||(bl={}));var Be;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Be||(Be={}));var sn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(sn||(sn={}));var ff;(function(e){e.websocket="websocket"})(ff||(ff={}));var Xs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Xs||(Xs={}));class KO{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),s=new TextDecoder;return this._decodeBroadcast(t,n,s)}_decodeBroadcast(t,n,s){const a=n.getUint8(1),r=n.getUint8(2);let i=this.HEADER_LENGTH+2;const o=s.decode(t.slice(i,i+a));i=i+a;const c=s.decode(t.slice(i,i+r));i=i+r;const u=JSON.parse(s.decode(t.slice(i,t.byteLength)));return{ref:null,topic:o,event:c,payload:u}}}class bj{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var _e;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(_e||(_e={}));const mg=(e,t,n={})=>{var s;const a=(s=n.skipTypes)!==null&&s!==void 0?s:[];return Object.keys(t).reduce((r,i)=>(r[i]=FO(i,e,t,a),r),{})},FO=(e,t,n,s)=>{const a=t.find(o=>o.name===e),r=a==null?void 0:a.type,i=n[e];return r&&!s.includes(r)?wj(r,i):hf(i)},wj=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return JO(t,n)}switch(e){case _e.bool:return QO(t);case _e.float4:case _e.float8:case _e.int2:case _e.int4:case _e.int8:case _e.numeric:case _e.oid:return ZO(t);case _e.json:case _e.jsonb:return WO(t);case _e.timestamp:return eR(t);case _e.abstime:case _e.date:case _e.daterange:case _e.int4range:case _e.int8range:case _e.money:case _e.reltime:case _e.text:case _e.time:case _e.timestamptz:case _e.timetz:case _e.tsrange:case _e.tstzrange:return hf(t);default:return hf(t)}},hf=e=>e,QO=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ZO=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},WO=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},JO=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,s=e[n];if(e[0]==="{"&&s==="}"){let r;const i=e.slice(1,n);try{r=JSON.parse("["+i+"]")}catch{r=i?i.split(","):[]}return r.map(o=>wj(t,o))}return e},eR=e=>typeof e=="string"?e.replace(" ","T"):e,jj=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Hu{constructor(t,n,s={},a=df){this.channel=t,this.event=n,this.payload=s,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var s;return this._hasReceived(t)&&n((s=this.receivedResp)===null||s===void 0?void 0:s.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(s=>s.status===t).forEach(s=>s.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var pg;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(pg||(pg={}));class wl{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const s=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(s.state,{},a=>{const{onJoin:r,onLeave:i,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wl.syncState(this.state,a,r,i),this.pendingDiffs.forEach(c=>{this.state=wl.syncDiff(this.state,c,r,i)}),this.pendingDiffs=[],o()}),this.channel._on(s.diff,{},a=>{const{onJoin:r,onLeave:i,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=wl.syncDiff(this.state,a,r,i),o())}),this.onJoin((a,r,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:r,newPresences:i})}),this.onLeave((a,r,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:r,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,s,a){const r=this.cloneDeep(t),i=this.transformState(n),o={},c={};return this.map(r,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=r[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),y=d.filter(w=>p.indexOf(w.presence_ref)<0),x=f.filter(w=>h.indexOf(w.presence_ref)<0);y.length>0&&(o[u]=y),x.length>0&&(c[u]=x)}else o[u]=d}),this.syncDiff(r,{joins:o,leaves:c},s,a)}static syncDiff(t,n,s,a){const{joins:r,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return s||(s=()=>{}),a||(a=()=>{}),this.map(r,(o,c)=>{var u;const d=(u=t[o])!==null&&u!==void 0?u:[];if(t[o]=this.cloneDeep(c),d.length>0){const f=t[o].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[o].unshift(...h)}s(o,d,c)}),this.map(i,(o,c)=>{let u=t[o];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[o]=u,a(o,u,c),u.length===0&&delete t[o]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(s=>n(s,t[s]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,s)=>{const a=t[s];return"metas"in a?n[s]=a.metas.map(r=>(r.presence_ref=r.phx_ref,delete r.phx_ref,delete r.phx_ref_prev,r)):n[s]=a,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gg;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(gg||(gg={}));var jl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jl||(jl={}));var kn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(kn||(kn={}));class em{constructor(t,n={config:{}},s){this.topic=t,this.params=n,this.socket=s,this.bindings={},this.state=Be.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hu(this,sn.join,this.params,this.timeout),this.rejoinTimer=new bj(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Be.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Be.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Be.errored,this.rejoinTimer.scheduleTimeout())}),this._on(sn.reply,{},(a,r)=>{this._trigger(this._replyEventName(r),a)}),this.presence=new wl(this),this.broadcastEndpointURL=jj(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var s,a,r;if(this.socket.isConnected()||this.socket.connect(),this.state==Be.closed){const{config:{broadcast:i,presence:o,private:c}}=this.params,u=(a=(s=this.bindings.postgres_changes)===null||s===void 0?void 0:s.map(p=>p.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[jl.PRESENCE]&&this.bindings[jl.PRESENCE].length>0||((r=this.params.config.presence)===null||r===void 0?void 0:r.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(kn.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(kn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var y;if(this.socket.setAuth(),p===void 0){t==null||t(kn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,w=(y=x==null?void 0:x.length)!==null&&y!==void 0?y:0,b=[];for(let v=0;v<w;v++){const g=x[v],{filter:{event:j,schema:N,table:S,filter:_}}=g,A=p&&p[v];if(A&&A.event===j&&A.schema===N&&A.table===S&&A.filter===_)b.push(Object.assign(Object.assign({},g),{id:A.id}));else{this.unsubscribe(),this.state=Be.errored,t==null||t(kn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(kn.SUBSCRIBED);return}}).receive("error",p=>{this.state=Be.errored,t==null||t(kn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(kn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,s){return this.state===Be.joined&&t===jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,s)}async send(t,n={}){var s,a;if(!this._canPush()&&t.type==="broadcast"){const{event:r,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(r=>{var i,o,c;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(o=(i=this.params)===null||i===void 0?void 0:i.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&r("ok"),u.receive("ok",()=>r("ok")),u.receive("error",()=>r("error")),u.receive("timeout",()=>r("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Be.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(sn.close,"leave",this._joinRef())};this.joinPush.destroy();let s=null;return new Promise(a=>{s=new Hu(this,sn.leave,{},t),s.receive("ok",()=>{n(),a("ok")}).receive("timeout",()=>{n(),a("timed out")}).receive("error",()=>{a("error")}),s.send(),this._canPush()||s.trigger("ok",{})}).finally(()=>{s==null||s.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Be.closed,this.bindings={}}async _fetchWithTimeout(t,n,s){const a=new AbortController,r=setTimeout(()=>a.abort(),s),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:a.signal}));return clearTimeout(r),i}_push(t,n,s=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Hu(this,t,n,s);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>XO){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,s){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,s){var a,r;const i=t.toLocaleLowerCase(),{close:o,error:c,leave:u,join:d}=sn;if(s&&[o,c,u,d].indexOf(i)>=0&&s!==this._joinRef())return;let h=this._onMessage(i,n,s);if(n&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(p=>{var y,x,w;return((y=p.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=p.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(p=>p.callback(h,s)):(r=this.bindings[i])===null||r===void 0||r.filter(p=>{var y,x,w,b,v,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const j=p.id,N=(y=p.filter)===null||y===void 0?void 0:y.event;return j&&((x=n.ids)===null||x===void 0?void 0:x.includes(j))&&(N==="*"||(N==null?void 0:N.toLocaleLowerCase())===((w=n.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const j=(v=(b=p==null?void 0:p.filter)===null||b===void 0?void 0:b.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return j==="*"||j===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:x,table:w,commit_timestamp:b,type:v,errors:g}=y;h=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:b,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(y))}p.callback(h,s)})}_isClosed(){return this.state===Be.closed}_isJoined(){return this.state===Be.joined}_isJoining(){return this.state===Be.joining}_isLeaving(){return this.state===Be.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,s){const a=t.toLocaleLowerCase(),r={type:a,filter:n,callback:s};return this.bindings[a]?this.bindings[a].push(r):this.bindings[a]=[r],this}_off(t,n){const s=t.toLocaleLowerCase();return this.bindings[s]&&(this.bindings[s]=this.bindings[s].filter(a=>{var r;return!(((r=a.type)===null||r===void 0?void 0:r.toLocaleLowerCase())===s&&em.isEqual(a.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(t[s]!==n[s])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(sn.close,{},t)}_onError(t){this._on(sn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Be.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=mg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=mg(t.columns,t.old_record)),n}}const qu=()=>{},Bi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tR=[1e3,2e3,5e3,1e4],nR=1e4,sR=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class aR{constructor(t,n){var s;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=df,this.transport=null,this.heartbeatIntervalMs=Bi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qu,this.ref=0,this.reconnectTimer=null,this.logger=qu,this.conn=null,this.sendBuffer=[],this.serializer=new KO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let r;return a?r=a:typeof fetch>"u"?r=(...i)=>gi(async()=>{const{default:o}=await Promise.resolve().then(()=>Ur);return{default:o}},void 0).then(({default:o})=>o(...i)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):r=fetch,(...i)=>r(...i)},!(!((s=n==null?void 0:n.params)===null||s===void 0)&&s.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${ff.websocket}`,this.httpEndpoint=jj(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=HO.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:VO}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const s=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(s),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,s){this.logger(t,n,s)}connectionState(){switch(this.conn&&this.conn.readyState){case bl.connecting:return Xs.Connecting;case bl.open:return Xs.Open;case bl.closing:return Xs.Closing;default:return Xs.Closed}}isConnected(){return this.connectionState()===Xs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const s=`realtime:${t}`,a=this.getChannels().find(r=>r.topic===s);if(a)return a;{const r=new em(`realtime:${t}`,n,this);return this.channels.push(r),r}}push(t){const{topic:n,event:s,payload:a,ref:r}=t,i=()=>{this.encode(t,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${n} ${s} (${r})`,a),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(YO,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Bi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(s=>s.topic===t&&(s._isJoined()||s._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:s,event:a,payload:r,ref:i}=n,o=i?`(${i})`:"",c=r.status||"";this.log("receive",`${c} ${s} ${a} ${o}`.trim(),r),this.channels.filter(u=>u._isMember(s)).forEach(u=>u._trigger(a,r,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(sn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const s=t.match(/\?/)?"&":"?",a=new URLSearchParams(n);return`${t}${s}${a}`}_workerObjectUrl(t){let n;if(t)n=t;else{const s=new Blob([sR],{type:"application/javascript"});n=URL.createObjectURL(s)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const a={access_token:n,version:GO};n&&s.updateJoinPayload(a),s.joinedOnce&&s._isJoined()&&s._push(sn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(s=>{try{s(n)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(s){this.log("error",`error triggering ${t} callbacks`,s)}}_setupReconnectionTimer(){this.reconnectTimer=new bj(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Bi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,s,a,r,i,o,c,u,d;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(s=t==null?void 0:t.timeout)!==null&&s!==void 0?s:df,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Bi.HEARTBEAT_INTERVAL,this.worker=(r=t==null?void 0:t.worker)!==null&&r!==void 0?r:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(o=t==null?void 0:t.heartbeatCallback)!==null&&o!==void 0?o:qu,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>tR[f-1]||nR,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class tm extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function He(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class rR extends tm{constructor(t,n,s){super(t),this.name="StorageApiError",this.status=n,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class mf extends tm{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var lR=function(e,t,n,s){function a(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function o(d){try{u(s.next(d))}catch(f){i(f)}}function c(d){try{u(s.throw(d))}catch(f){i(f)}}function u(d){d.done?r(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};const Nj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ur);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},iR=()=>lR(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield gi(()=>Promise.resolve().then(()=>Ur),void 0)).Response:Response}),pf=e=>{if(Array.isArray(e))return e.map(n=>pf(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,s])=>{const a=n.replace(/([-_][a-z])/gi,r=>r.toUpperCase().replace(/[-_]/g,""));t[a]=pf(s)}),t},oR=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ba=function(e,t,n,s){function a(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function o(d){try{u(s.next(d))}catch(f){i(f)}}function c(d){try{u(s.throw(d))}catch(f){i(f)}}function u(d){d.done?r(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};const Gu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),cR=(e,t,n)=>ba(void 0,void 0,void 0,function*(){const s=yield iR();e instanceof s&&!(n!=null&&n.noResolveJson)?e.json().then(a=>{const r=e.status||500,i=(a==null?void 0:a.statusCode)||r+"";t(new rR(Gu(a),r,i))}).catch(a=>{t(new mf(Gu(a),a))}):t(new mf(Gu(e),e))}),uR=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!s?a:(oR(s)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(s)):a.body=s,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),n))};function xi(e,t,n,s,a,r){return ba(this,void 0,void 0,function*(){return new Promise((i,o)=>{e(n,uR(t,s,a,r)).then(c=>{if(!c.ok)throw c;return s!=null&&s.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>cR(c,o,s))})})}function Jo(e,t,n,s){return ba(this,void 0,void 0,function*(){return xi(e,"GET",t,n,s)})}function mn(e,t,n,s,a){return ba(this,void 0,void 0,function*(){return xi(e,"POST",t,s,a,n)})}function gf(e,t,n,s,a){return ba(this,void 0,void 0,function*(){return xi(e,"PUT",t,s,a,n)})}function dR(e,t,n,s){return ba(this,void 0,void 0,function*(){return xi(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),s)})}function Sj(e,t,n,s,a){return ba(this,void 0,void 0,function*(){return xi(e,"DELETE",t,s,a,n)})}var ct=function(e,t,n,s){function a(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function o(d){try{u(s.next(d))}catch(f){i(f)}}function c(d){try{u(s.throw(d))}catch(f){i(f)}}function u(d){d.done?r(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};const fR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hR{constructor(t,n={},s,a){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=s,this.fetch=Nj(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,s,a){return ct(this,void 0,void 0,function*(){try{let r;const i=Object.assign(Object.assign({},vg),a);let o=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&s instanceof Blob?(r=new FormData,r.append("cacheControl",i.cacheControl),c&&r.append("metadata",this.encodeMetadata(c)),r.append("",s)):typeof FormData<"u"&&s instanceof FormData?(r=s,r.append("cacheControl",i.cacheControl),c&&r.append("metadata",this.encodeMetadata(c))):(r=s,o["cache-control"]=`max-age=${i.cacheControl}`,o["content-type"]=i.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(o=Object.assign(Object.assign({},o),a.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),f=yield(t=="PUT"?gf:mn)(this.fetch,`${this.url}/object/${d}`,r,Object.assign({headers:o},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}upload(t,n,s){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,s)})}uploadToSignedUrl(t,n,s,a){return ct(this,void 0,void 0,function*(){const r=this._removeEmptyFolders(t),i=this._getFinalPath(r),o=new URL(this.url+`/object/upload/sign/${i}`);o.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:vg.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.append("cacheControl",u.cacheControl)):(c=s,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield gf(this.fetch,o.toString(),c,{headers:d});return{data:{path:r,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(He(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return ct(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t);const a=Object.assign({},this.headers);n!=null&&n.upsert&&(a["x-upsert"]="true");const r=yield mn(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:a}),i=new URL(this.url+r.url),o=i.searchParams.get("token");if(!o)throw new tm("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:o},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}update(t,n,s){return ct(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,s)})}move(t,n,s){return ct(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}copy(t,n,s){return ct(this,void 0,void 0,function*(){try{return{data:{path:(yield mn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:s==null?void 0:s.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createSignedUrl(t,n,s){return ct(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),r=yield mn(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:n},s!=null&&s.transform?{transform:s.transform}:{}),{headers:this.headers});const i=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return r={signedUrl:encodeURI(`${this.url}${r.signedURL}${i}`)},{data:r,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}createSignedUrls(t,n,s){return ct(this,void 0,void 0,function*(){try{const a=yield mn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),r=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${r}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}download(t,n){return ct(this,void 0,void 0,function*(){const a=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),i=r?`?${r}`:"";try{const o=this._getFinalPath(t);return{data:yield(yield Jo(this.fetch,`${this.url}/${a}/${o}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(He(o))return{data:null,error:o};throw o}})}info(t){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const s=yield Jo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:pf(s),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}exists(t){return ct(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield dR(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s)&&s instanceof mf){const a=s.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:s}}throw s}})}getPublicUrl(t,n){const s=this._getFinalPath(t),a=[],r=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";r!==""&&a.push(r);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${s}${u}`)}}}remove(t){return ct(this,void 0,void 0,function*(){try{return{data:yield Sj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}list(t,n,s){return ct(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},fR),n),{prefix:t||""});return{data:yield mn(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(He(a))return{data:null,error:a};throw a}})}listV2(t,n){return ct(this,void 0,void 0,function*(){try{const s=Object.assign({},t);return{data:yield mn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const mR="2.12.1",pR={"X-Client-Info":`storage-js/${mR}`};var Ea=function(e,t,n,s){function a(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function o(d){try{u(s.next(d))}catch(f){i(f)}}function c(d){try{u(s.throw(d))}catch(f){i(f)}}function u(d){d.done?r(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};class gR{constructor(t,n={},s,a){this.shouldThrowOnError=!1;const r=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(r.hostname)&&!r.hostname.includes("storage.supabase.")&&(r.hostname=r.hostname.replace("supabase.","storage.supabase.")),this.url=r.href,this.headers=Object.assign(Object.assign({},pR),n),this.fetch=Nj(s)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ea(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(He(t))return{data:null,error:t};throw t}})}getBucket(t){return Ea(this,void 0,void 0,function*(){try{return{data:yield Jo(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return Ea(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}updateBucket(t,n){return Ea(this,void 0,void 0,function*(){try{return{data:yield gf(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(He(s))return{data:null,error:s};throw s}})}emptyBucket(t){return Ea(this,void 0,void 0,function*(){try{return{data:yield mn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}deleteBucket(t){return Ea(this,void 0,void 0,function*(){try{return{data:yield Sj(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}class vR extends gR{constructor(t,n={},s,a){super(t,n,s,a)}from(t){return new hR(this.url,this.headers,t,this.fetch)}}const xR="2.57.4";let sl="";typeof Deno<"u"?sl="deno":typeof document<"u"?sl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sl="react-native":sl="node";const yR={"X-Client-Info":`supabase-js-${sl}/${xR}`},bR={headers:yR},wR={schema:"public"},jR={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NR={};var SR=function(e,t,n,s){function a(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function o(d){try{u(s.next(d))}catch(f){i(f)}}function c(d){try{u(s.throw(d))}catch(f){i(f)}}function u(d){d.done?r(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};const _R=e=>{let t;return e?t=e:typeof fetch>"u"?t=cj:t=fetch,(...n)=>t(...n)},ER=()=>typeof Headers>"u"?uj:Headers,TR=(e,t,n)=>{const s=_R(n),a=ER();return(r,i)=>SR(void 0,void 0,void 0,function*(){var o;const c=(o=yield t())!==null&&o!==void 0?o:e;let u=new a(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),s(r,Object.assign(Object.assign({},i),{headers:u}))})};var CR=function(e,t,n,s){function a(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function o(d){try{u(s.next(d))}catch(f){i(f)}}function c(d){try{u(s.throw(d))}catch(f){i(f)}}function u(d){d.done?r(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};function AR(e){return e.endsWith("/")?e:e+"/"}function OR(e,t){var n,s;const{db:a,auth:r,realtime:i,global:o}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),r),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(s=o==null?void 0:o.headers)!==null&&s!==void 0?s:{})}),accessToken:()=>CR(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function RR(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(AR(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const _j="2.71.1",Ua=30*1e3,vf=3,Vu=vf*Ua,MR="http://localhost:9999",DR="supabase.auth.token",kR={"X-Client-Info":`gotrue-js/${_j}`},xf="X-Supabase-Api-Version",Ej={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UR=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,LR=10*60*1e3;class nm extends Error{constructor(t,n,s){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=s}}function ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IR extends nm{constructor(t,n,s){super(t,n,s),this.name="AuthApiError",this.status=n,this.code=s}}function zR(e){return ee(e)&&e.name==="AuthApiError"}class Tj extends nm{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Ps extends nm{constructor(t,n,s,a){super(t,s,a),this.name=n,this.status=s}}class is extends Ps{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function PR(e){return ee(e)&&e.name==="AuthSessionMissingError"}class Hi extends Ps{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qi extends Ps{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Gi extends Ps{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $R(e){return ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class xg extends Ps{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class yf extends Ps{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Yu(e){return ee(e)&&e.name==="AuthRetryableFetchError"}class yg extends Ps{constructor(t,n,s){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=s}}class bf extends Ps{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bg=` 	
\r=`.split(""),BR=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bg.length;t+=1)e[bg[t].charCodeAt(0)]=-2;for(let t=0;t<ec.length;t+=1)e[ec[t].charCodeAt(0)]=t;return e})();function wg(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(ec[s]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const s=t.queue>>t.queuedBits-6&63;n(ec[s]),t.queuedBits-=6}}function Cj(e,t,n){const s=BR[e];if(s>-1)for(t.queue=t.queue<<6|s,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(s===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jg(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},s={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},r=i=>{GR(i,s,n)};for(let i=0;i<e.length;i+=1)Cj(e.charCodeAt(i),a,r);return t.join("")}function HR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qR(e,t){for(let n=0;n<e.length;n+=1){let s=e.charCodeAt(n);if(s>55295&&s<=56319){const a=(s-55296)*1024&65535;s=(e.charCodeAt(n+1)-56320&65535|a)+65536,n+=1}HR(s,t)}}function GR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let s=1;s<6;s+=1)if(!(e>>7-s&1)){t.utf8seq=s;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function VR(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Cj(e.charCodeAt(a),n,s);return new Uint8Array(t)}function YR(e){const t=[];return qR(e,n=>t.push(n)),new Uint8Array(t)}function XR(e){const t=[],n={queue:0,queuedBits:0},s=a=>{t.push(a)};return e.forEach(a=>wg(a,n,s)),wg(null,n,s),t.join("")}function KR(e){return Math.round(Date.now()/1e3)+e}function FR(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const en=()=>typeof window<"u"&&typeof document<"u",Bs={tested:!1,writable:!1},Aj=()=>{if(!en())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bs.tested)return Bs.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bs.tested=!0,Bs.writable=!0}catch{Bs.tested=!0,Bs.writable=!1}return Bs.writable};function QR(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((a,r)=>{t[r]=a})}catch{}return n.searchParams.forEach((s,a)=>{t[a]=s}),t}const Oj=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>gi(async()=>{const{default:s}=await Promise.resolve().then(()=>Ur);return{default:s}},void 0).then(({default:s})=>s(...n)):t=fetch,(...n)=>t(...n)},ZR=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",La=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Hs=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ns=async(e,t)=>{await e.removeItem(t)};class Yc{constructor(){this.promise=new Yc.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Yc.promiseConstructor=Promise;function Xu(e){const t=e.split(".");if(t.length!==3)throw new bf("Invalid JWT structure");for(let s=0;s<t.length;s++)if(!UR.test(t[s]))throw new bf("JWT not in base64url format");return{header:JSON.parse(jg(t[0])),payload:JSON.parse(jg(t[1])),signature:VR(t[2]),raw:{header:t[0],payload:t[1]}}}async function WR(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function JR(e,t){return new Promise((s,a)=>{(async()=>{for(let r=0;r<1/0;r++)try{const i=await e(r);if(!t(r,null,i)){s(i);return}}catch(i){if(!t(r,i)){a(i);return}}})()})}function e4(e){return("0"+e.toString(16)).substr(-2)}function t4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",s=n.length;let a="";for(let r=0;r<56;r++)a+=n.charAt(Math.floor(Math.random()*s));return a}return crypto.getRandomValues(t),Array.from(t,e4).join("")}async function n4(e){const n=new TextEncoder().encode(e),s=await crypto.subtle.digest("SHA-256",n),a=new Uint8Array(s);return Array.from(a).map(r=>String.fromCharCode(r)).join("")}async function s4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await n4(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ta(e,t,n=!1){const s=t4();let a=s;n&&(a+="/PASSWORD_RECOVERY"),await La(e,`${t}-code-verifier`,a);const r=await s4(s);return[r,s===r?"plain":"s256"]}const a4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function r4(e){const t=e.headers.get(xf);if(!t||!t.match(a4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function l4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function i4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const o4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ca(e){if(!o4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ku(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ng(e){return JSON.parse(JSON.stringify(e))}var c4=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};const Ys=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),u4=[502,503,504];async function Sg(e){var t;if(!ZR(e))throw new yf(Ys(e),0);if(u4.includes(e.status))throw new yf(Ys(e),e.status);let n;try{n=await e.json()}catch(r){throw new Tj(Ys(r),r)}let s;const a=r4(e);if(a&&a.getTime()>=Ej["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?s=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(s=n.error_code),s){if(s==="weak_password")throw new yg(Ys(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(s==="session_not_found")throw new is}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((r,i)=>r&&typeof i=="string",!0))throw new yg(Ys(n),e.status,n.weak_password.reasons);throw new IR(Ys(n),e.status||500,s)}const d4=(e,t,n,s)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(s),Object.assign(Object.assign({},a),n))};async function le(e,t,n,s){var a;const r=Object.assign({},s==null?void 0:s.headers);r[xf]||(r[xf]=Ej["2024-01-01"].name),s!=null&&s.jwt&&(r.Authorization=`Bearer ${s.jwt}`);const i=(a=s==null?void 0:s.query)!==null&&a!==void 0?a:{};s!=null&&s.redirectTo&&(i.redirect_to=s.redirectTo);const o=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await f4(e,t,n+o,{headers:r,noResolveJson:s==null?void 0:s.noResolveJson},{},s==null?void 0:s.body);return s!=null&&s.xform?s==null?void 0:s.xform(c):{data:Object.assign({},c),error:null}}async function f4(e,t,n,s,a,r){const i=d4(t,s,a,r);let o;try{o=await e(n,Object.assign({},i))}catch(c){throw console.error(c),new yf(Ys(c),0)}if(o.ok||await Sg(o),s!=null&&s.noResolveJson)return o;try{return await o.json()}catch(c){await Sg(c)}}function Dn(e){var t;let n=null;g4(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=KR(e.expires_in)));const s=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:s},error:null}}function _g(e){const t=Dn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,s)=>n&&typeof s=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ms(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function h4(e){return{data:e,error:null}}function m4(e){const{action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:r}=e,i=c4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:t,email_otp:n,hashed_token:s,redirect_to:a,verification_type:r},c=Object.assign({},i);return{data:{properties:o,user:c},error:null}}function p4(e){return e}function g4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Fu=["global","local","others"];var v4=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n};class x4{constructor({url:t="",headers:n={},fetch:s}){this.url=t,this.headers=n,this.fetch=Oj(s),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Fu[0]){if(Fu.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fu.join(", ")}`);try{return await le(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}async inviteUserByEmail(t,n={}){try{return await le(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:ms})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async generateLink(t){try{const{options:n}=t,s=v4(t,["options"]),a=Object.assign(Object.assign({},s),n);return"newEmail"in s&&(a.new_email=s==null?void 0:s.newEmail,delete a.newEmail),await le(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:m4,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await le(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ms})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,s,a,r,i,o,c;try{const u={nextPage:null,lastPage:0,total:0},d=await le(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(s=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:"",per_page:(r=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:""},xform:p4});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);u[`${w}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ca(t);try{return await le(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ms})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Ca(t);try{return await le(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:ms})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async deleteUser(t,n=!1){Ca(t);try{return await le(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:ms})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async _listFactors(t){Ca(t.userId);try{const{data:n,error:s}=await le(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:n,error:s}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Ca(t.userId),Ca(t.id);try{return{data:await le(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}}function Eg(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function y4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Aa={debug:!!(globalThis&&Aj()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Rj extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class b4 extends Rj{}async function w4(e,t,n){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const s=new globalThis.AbortController;return t>0&&setTimeout(()=>{s.abort(),Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:s.signal},async a=>{if(a){Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await n()}finally{Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new b4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Aa.debug)try{const r=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(r,null,"  "))}catch(r){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",r)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}y4();const j4={url:MR,storageKey:DR,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:kR,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Tg(e,t,n){return await n()}const Oa={};class Yl{constructor(t){var n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Yl.nextInstanceID,Yl.nextInstanceID+=1,this.instanceID>0&&en()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},j4),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new x4({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Oj(a.fetch),this.lock=a.lock||Tg,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:en()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=w4:this.lock=Tg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Aj()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Eg(this.memoryStorage)),en()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Oa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Oa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Oa[this.storageKey]=Object.assign(Object.assign({},Oa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_j}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=QR(window.location.href);let s="none";if(this._isImplicitGrantCallback(n)?s="implicit":await this._isPKCECallback(n)&&(s="pkce"),en()&&this.detectSessionInUrl&&s!=="none"){const{data:a,error:r}=await this._getSessionFromURL(n,s);if(r){if(this._debug("#_initialize()","error detecting session from URL",r),$R(r)){const c=(t=r.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:r}}return await this._removeSession(),{error:r}}const{session:i,redirectType:o}=a;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ee(n)?{error:n}:{error:new Tj("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,s,a;try{const r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(s=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Dn}),{data:i,error:o}=r;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signUp(t){var n,s,a;try{let r;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,y=null;this.flowType==="pkce"&&([p,y]=await Ta(this.storage,this.storageKey)),r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:y},xform:Dn})}else if("phone"in t){const{phone:d,password:f,options:h}=t;r=await le(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(s=h==null?void 0:h.data)!==null&&s!==void 0?s:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Dn})}else throw new qi("You must provide either an email or phone number and a password");const{data:i,error:o}=r;if(o||!i)return{data:{user:null,session:null},error:o};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(r){if(ee(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithPassword(t){try{let n;if("email"in t){const{email:r,password:i,options:o}=t;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_g})}else if("phone"in t){const{phone:r,password:i,options:o}=t;n=await le(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:_g})}else throw new qi("You must provide either an email or phone number and a password");const{data:s,error:a}=n;return a?{data:{user:null,session:null},error:a}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Hi}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign({user:s.user,session:s.session},s.weak_password?{weakPassword:s.weak_password}:null),error:a})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,s,a,r;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(r=t.options)===null||r===void 0?void 0:r.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,s,a,r,i,o,c,u,d,f,h,p;let y,x;if("message"in t)y=t.message,x=t.signature;else{const{chain:w,wallet:b,statement:v,options:g}=t;let j;if(en())if(typeof b=="object")j=b;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))j=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=b}const N=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in j&&j.signIn){const S=await j.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:N.host,uri:N.href}),v?{statement:v}:null));let _;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")_=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)_=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in _&&"signature"in _&&(typeof _.signedMessage=="string"||_.signedMessage instanceof Uint8Array)&&_.signature instanceof Uint8Array)y=typeof _.signedMessage=="string"?_.signedMessage:new TextDecoder().decode(_.signedMessage),x=_.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in j)||typeof j.signMessage!="function"||!("publicKey"in j)||typeof j!="object"||!j.publicKey||!("toBase58"in j.publicKey)||typeof j.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${N.host} wants you to sign in with your Solana account:`,j.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${N.href}`,`Issued At: ${(a=(s=g==null?void 0:g.signInWithSolana)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((r=g==null?void 0:g.signInWithSolana)===null||r===void 0)&&r.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(_=>`- ${_}`)]:[]].join(`
`);const S=await j.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:w,error:b}=await le(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:XR(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Dn});if(b)throw b;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Hi}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:b})}catch(w){if(ee(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const n=await Hs(this.storage,`${this.storageKey}-code-verifier`),[s,a]=(n??"").split("/");try{const{data:r,error:i}=await le(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:s},xform:Dn});if(await ns(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Hi}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:a??null}),error:i})}catch(r){if(ee(r))return{data:{user:null,session:null,redirectType:null},error:r};throw r}}async signInWithIdToken(t){try{const{options:n,provider:s,token:a,access_token:r,nonce:i}=t,o=await le(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:s,id_token:a,access_token:r,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Dn}),{data:c,error:u}=o;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Hi}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,s,a,r,i;try{if("email"in t){const{email:o,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Ta(this.storage,this.storageKey));const{error:f}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:o,options:c}=t,{data:u,error:d}=await le(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new qi("You must provide either an email or phone number.")}catch(o){if(ee(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(t){var n,s;try{let a,r;"options"in t&&(a=(n=t.options)===null||n===void 0?void 0:n.redirectTo,r=(s=t.options)===null||s===void 0?void 0:s.captchaToken);const{data:i,error:o}=await le(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:r}}),redirectTo:a,xform:Dn});if(o)throw o;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(ee(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var n,s,a;try{let r=null,i=null;return this.flowType==="pkce"&&([r,i]=await Ta(this.storage,this.storageKey)),await le(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&s!==void 0?s:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:r,code_challenge_method:i}),headers:this.headers,xform:h4})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:s}=t;if(s)throw s;if(!n)throw new is;const{error:a}=await le(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(ee(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:s,type:a,options:r}=t,{error:i}=await le(this.fetch,"POST",n,{headers:this.headers,body:{email:s,type:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},redirectTo:r==null?void 0:r.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:s,type:a,options:r}=t,{data:i,error:o}=await le(this.fetch,"POST",n,{headers:this.headers,body:{phone:s,type:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:o}}throw new qi("You must provide either an email or phone number and a type")}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const s=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await s,await n()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const s=n();for(this.pendingInLock.push((async()=>{try{await s}catch{}})()),await s;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await s}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Hs(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const s=t.expires_at?t.expires_at*1e3-Date.now()<Vu:!1;if(this._debug("#__loadSession()",`session has${s?"":" not"} expired`,"expires_at",t.expires_at),!s){if(this.userStorage){const i=await Hs(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Ku()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:a,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{session:null},error:r}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ms}):await this._useSession(async n=>{var s,a,r;const{data:i,error:o}=n;if(o)throw o;return!(!((s=i.session)===null||s===void 0)&&s.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new is}:await le(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&r!==void 0?r:void 0,xform:ms})})}catch(n){if(ee(n))return PR(n)&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async s=>{const{data:a,error:r}=s;if(r)throw r;if(!a.session)throw new is;const i=a.session;let o=null,c=null;this.flowType==="pkce"&&t.email!=null&&([o,c]=await Ta(this.storage,this.storageKey));const{data:u,error:d}=await le(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:o,code_challenge_method:c}),jwt:i.access_token,xform:ms});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(s){if(ee(s))return{data:{user:null},error:s};throw s}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new is;const n=Date.now()/1e3;let s=n,a=!0,r=null;const{payload:i}=Xu(t.access_token);if(i.exp&&(s=i.exp,a=s<=n),a){const{session:o,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};r=o}else{const{data:o,error:c}=await this._getUser(t.access_token);if(c)throw c;r={access_token:t.access_token,refresh_token:t.refresh_token,user:o.user,token_type:"bearer",expires_in:s-n,expires_at:s},await this._saveSession(r),await this._notifyAllSubscribers("SIGNED_IN",r)}return{data:{user:r.user,session:r},error:null}}catch(n){if(ee(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var s;if(!t){const{data:i,error:o}=n;if(o)throw o;t=(s=i.session)!==null&&s!==void 0?s:void 0}if(!(t!=null&&t.refresh_token))throw new is;const{session:a,error:r}=await this._callRefreshToken(t.refresh_token);return r?{data:{user:null,session:null},error:r}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(ee(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!en())throw new Gi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Gi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new xg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Gi("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xg("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const j=new URL(window.location.href);return j.searchParams.delete("code"),window.history.replaceState(window.history.state,"",j.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:s,provider_refresh_token:a,access_token:r,refresh_token:i,expires_in:o,expires_at:c,token_type:u}=t;if(!r||!o||!i||!u)throw new Gi("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const y=h-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,d);const{data:x,error:w}=await this._getUser(r);if(w)throw w;const b={provider_token:s,provider_refresh_token:a,access_token:r,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:b,redirectType:t.type},error:null}}catch(s){if(ee(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Hs(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var s;const{data:a,error:r}=n;if(r)return{error:r};const i=(s=a.session)===null||s===void 0?void 0:s.access_token;if(i){const{error:o}=await this.admin.signOut(i,t);if(o&&!(zR(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return t!=="others"&&(await this._removeSession(),await ns(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=FR(),s={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,s),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:s}}}async _emitInitialSession(t){return await this._useSession(async n=>{var s,a;try{const{data:{session:r},error:i}=n;if(i)throw i;await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",r)),this._debug("INITIAL_SESSION","callback id",t,"session",r)}catch(r){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",r),console.error(r)}})}async resetPasswordForEmail(t,n={}){let s=null,a=null;this.flowType==="pkce"&&([s,a]=await Ta(this.storage,this.storageKey,!0));try{return await le(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:s,code_challenge_method:a,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async getUserIdentities(){var t;try{const{data:n,error:s}=await this.getUser();if(s)throw s;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:s,error:a}=await this._useSession(async r=>{var i,o,c,u,d;const{data:f,error:h}=r;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await le(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return en()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(s==null?void 0:s.url),{data:{provider:t.provider,url:s==null?void 0:s.url},error:null}}catch(s){if(ee(s))return{data:{provider:t.provider,url:null},error:s};throw s}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var s,a;const{data:r,error:i}=n;if(i)throw i;return await le(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const s=Date.now();return await JR(async a=>(a>0&&await WR(200*Math.pow(2,a-1)),this._debug(n,"refreshing attempt",a),await le(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dn})),(a,r)=>{const i=200*Math.pow(2,a);return r&&Yu(r)&&Date.now()+i-s<Ua})}catch(s){if(this._debug(n,"error",s),ee(s))return{data:{session:null,user:null},error:s};throw s}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const s=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",s),en()&&!n.skipBrowserRedirect&&window.location.assign(s),{data:{provider:t,url:s},error:null}}async _recoverAndRefresh(){var t,n;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const a=await Hs(this.storage,this.storageKey);if(a&&this.userStorage){let i=await Hs(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:a.user},await La(this.userStorage,this.storageKey+"-user",i)),a.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Ku()}else if(a&&!a.user&&!a.user){const i=await Hs(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(a.user=i.user,await ns(this.storage,this.storageKey+"-user"),await La(this.storage,this.storageKey,a)):a.user=Ku()}if(this._debug(s,"session from storage",a),!this._isValidSession(a)){this._debug(s,"session is not valid"),a!==null&&await this._removeSession();return}const r=((n=a.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Vu;if(this._debug(s,`session has${r?"":" not"} expired with margin of ${Vu}s`),r){if(this.autoRefreshToken&&a.refresh_token){const{error:i}=await this._callRefreshToken(a.refresh_token);i&&(console.error(i),Yu(i)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:o}=await this._getUser(a.access_token);!o&&(i!=null&&i.user)?(a.user=i.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(s,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(s,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(s,"error",a),console.error(a);return}finally{this._debug(s,"end")}}async _callRefreshToken(t){var n,s;if(!t)throw new is;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Yc;const{data:r,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!r.session)throw new is;await this._saveSession(r.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",r.session);const o={session:r.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(r){if(this._debug(a,"error",r),ee(r)){const i={session:null,error:r};return Yu(r)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(s=this.refreshingDeferred)===null||s===void 0||s.reject(r),r}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,n,s=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",n,`broadcast = ${s}`);try{this.broadcastChannel&&s&&this.broadcastChannel.postMessage({event:t,session:n});const r=[],i=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(t,n)}catch(c){r.push(c)}});if(await Promise.all(i),r.length>0){for(let o=0;o<r.length;o+=1)console.error(r[o]);throw r[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),s=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!s&&n.user&&await La(this.userStorage,this.storageKey+"-user",{user:n.user});const a=Object.assign({},n);delete a.user;const r=Ng(a);await La(this.storage,this.storageKey,r)}else{const a=Ng(n);await La(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ns(this.storage,this.storageKey),await ns(this.storage,this.storageKey+"-code-verifier"),await ns(this.storage,this.storageKey+"-user"),this.userStorage&&await ns(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&en()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ua);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:s}}=n;if(!s||!s.refresh_token||!s.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((s.expires_at*1e3-t)/Ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Ua}ms, refresh threshold is ${vf} ticks`),a<=vf&&await this._callRefreshToken(s.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Rj)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!en()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,s){const a=[`provider=${encodeURIComponent(n)}`];if(s!=null&&s.redirectTo&&a.push(`redirect_to=${encodeURIComponent(s.redirectTo)}`),s!=null&&s.scopes&&a.push(`scopes=${encodeURIComponent(s.scopes)}`),this.flowType==="pkce"){const[r,i]=await Ta(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(r)}`,code_challenge_method:`${encodeURIComponent(i)}`});a.push(o.toString())}if(s!=null&&s.queryParams){const r=new URLSearchParams(s.queryParams);a.push(r.toString())}return s!=null&&s.skipBrowserRedirect&&a.push(`skip_http_redirect=${s.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var s;const{data:a,error:r}=n;return r?{data:null,error:r}:await le(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var s,a;const{data:r,error:i}=n;if(i)return{data:null,error:i};const o=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await le(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(s=r==null?void 0:r.session)===null||s===void 0?void 0:s.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:r}=n;if(r)return{data:null,error:r};const{data:i,error:o}=await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:o})})}catch(n){if(ee(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var s;const{data:a,error:r}=n;return r?{data:null,error:r}:await le(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(s=a==null?void 0:a.session)===null||s===void 0?void 0:s.access_token})})}catch(n){if(ee(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:s}=await this._challenge({factorId:t.factorId});return s?{data:null,error:s}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const s=(t==null?void 0:t.factors)||[],a=s.filter(i=>i.factor_type==="totp"&&i.status==="verified"),r=s.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:s,totp:a,phone:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,s;const{data:{session:a},error:r}=t;if(r)return{data:null,error:r};if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Xu(a.access_token);let o=null;i.aal&&(o=i.aal);let c=o;((s=(n=a.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,n={keys:[]}){let s=n.keys.find(o=>o.kid===t);if(s)return s;const a=Date.now();if(s=this.jwks.keys.find(o=>o.kid===t),s&&this.jwks_cached_at+LR>a)return s;const{data:r,error:i}=await le(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!r.keys||r.keys.length===0||(this.jwks=r,this.jwks_cached_at=a,s=r.keys.find(o=>o.kid===t),!s)?null:s}async getClaims(t,n={}){try{let s=t;if(!s){const{data:p,error:y}=await this.getSession();if(y||!p.session)return{data:null,error:y};s=p.session.access_token}const{header:a,payload:r,signature:i,raw:{header:o,payload:c}}=Xu(s);n!=null&&n.allowExpired||l4(r.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(s);if(p)throw p;return{data:{claims:r,header:a,signature:i},error:null}}const d=i4(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,YR(`${o}.${c}`)))throw new bf("Invalid JWT signature");return{data:{claims:r,header:a,signature:i},error:null}}catch(s){if(ee(s))return{data:null,error:s};throw s}}}Yl.nextInstanceID=0;const N4=Yl;class S4 extends N4{constructor(t){super(t)}}var _4=function(e,t,n,s){function a(r){return r instanceof n?r:new n(function(i){i(r)})}return new(n||(n=Promise))(function(r,i){function o(d){try{u(s.next(d))}catch(f){i(f)}}function c(d){try{u(s.throw(d))}catch(f){i(f)}}function u(d){d.done?r(d.value):a(d.value).then(o,c)}u((s=s.apply(e,t||[])).next())})};class E4{constructor(t,n,s){var a,r,i;this.supabaseUrl=t,this.supabaseKey=n;const o=RR(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:wR,realtime:NR,auth:Object.assign(Object.assign({},jR),{storageKey:c}),global:bR},d=OR(s??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(r=d.global.headers)!==null&&r!==void 0?r:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=TR(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new BO(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new vR(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new yO(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},s={}){return this.rest.rpc(t,n,s)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return _4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:s}=yield this.auth.getSession();return(n=(t=s.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,userStorage:r,storageKey:i,flowType:o,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new S4({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:n,detectSessionInUrl:s,storage:a,userStorage:r,flowType:o,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new aR(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,s)=>{this._handleTokenChanged(n,"CLIENT",s==null?void 0:s.access_token)})}_handleTokenChanged(t,n,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?this.changedAccessToken=s:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const T4=(e,t,n)=>new E4(e,t,n);function C4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}C4()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const A4="https://bbiiwvbyzauqetwkswxg.supabase.co",O4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJiaWl3dmJ5emF1cWV0d2tzd3hnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTg0ODM5OTgsImV4cCI6MjA3NDA1OTk5OH0.FcXNgaTofhAf3h2jAzVbmpP8Y8wXertVh5WziYuQ_V0",kt=T4(A4,O4),Vi="f4fafb9401",F={USERS:`app_${Vi}_users`,SCHOOLS:`app_${Vi}_schools`,NOTIFICATIONS:`app_${Vi}_notifications`,CLASS_DISMISSAL_TIMES:`app_${Vi}_class_dismissal_times`},R4=async()=>{try{const e=`
      BEGIN;
      
      -- Create users table
      CREATE TABLE IF NOT EXISTS ${F.USERS} (
        id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
        name TEXT NOT NULL,
        phone TEXT UNIQUE NOT NULL,
        email TEXT,
        password TEXT NOT NULL,
        type TEXT NOT NULL CHECK (type IN ('student', 'parent', 'driver', 'admin')),
        school_name TEXT NOT NULL,
        city TEXT NOT NULL,
        province TEXT NOT NULL,
        status TEXT NOT NULL DEFAULT 'pending' CHECK (status IN ('pending', 'verified', 'rejected')),
        photo TEXT,
        created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc'::text, NOW()) NOT NULL,
        
        -- Driver specific fields
        vehicle_number TEXT,
        license_number TEXT,
        driver_status TEXT DEFAULT 'not_arrived' CHECK (driver_status IN ('not_arrived', 'on_way', 'arrived', 'departed')),
        last_update TIMESTAMP WITH TIME ZONE,
        
        -- Student specific fields
        grade TEXT,
        parent_phone TEXT,
        driver_id UUID,
        
        -- Parent specific fields
        children JSONB DEFAULT '[]'::jsonb
      );

      -- Create indexes for better performance
      CREATE INDEX IF NOT EXISTS ${F.USERS}_phone_idx ON ${F.USERS}(phone);
      CREATE INDEX IF NOT EXISTS ${F.USERS}_email_idx ON ${F.USERS}(email);
      CREATE INDEX IF NOT EXISTS ${F.USERS}_type_idx ON ${F.USERS}(type);
      CREATE INDEX IF NOT EXISTS ${F.USERS}_school_idx ON ${F.USERS}(school_name);
      CREATE INDEX IF NOT EXISTS ${F.USERS}_status_idx ON ${F.USERS}(status);

      -- Setup Row Level Security (RLS)
      ALTER TABLE ${F.USERS} ENABLE ROW LEVEL SECURITY;
      
      -- Allow read access to all authenticated users
      CREATE POLICY IF NOT EXISTS "allow_read_users" ON ${F.USERS} FOR SELECT USING (true);
      
      -- Allow insert for authenticated users
      CREATE POLICY IF NOT EXISTS "allow_insert_users" ON ${F.USERS} FOR INSERT WITH CHECK (true);
      
      -- Allow update for authenticated users
      CREATE POLICY IF NOT EXISTS "allow_update_users" ON ${F.USERS} FOR UPDATE USING (true);
      
      -- Allow delete for authenticated users (admin only in practice)
      CREATE POLICY IF NOT EXISTS "allow_delete_users" ON ${F.USERS} FOR DELETE USING (true);

      COMMIT;
    `,{error:t}=await kt.rpc("execute_sql",{sql:e});if(t)throw t;const n=`
      BEGIN;
      
      CREATE TABLE IF NOT EXISTS ${F.SCHOOLS} (
        id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
        name TEXT NOT NULL,
        address TEXT NOT NULL,
        city TEXT NOT NULL,
        province TEXT NOT NULL,
        phone TEXT NOT NULL,
        email TEXT NOT NULL,
        principal_name TEXT NOT NULL,
        created_at TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc'::text, NOW()) NOT NULL
      );

      -- Create indexes
      CREATE INDEX IF NOT EXISTS ${F.SCHOOLS}_city_idx ON ${F.SCHOOLS}(city);
      CREATE INDEX IF NOT EXISTS ${F.SCHOOLS}_province_idx ON ${F.SCHOOLS}(province);

      -- Setup RLS
      ALTER TABLE ${F.SCHOOLS} ENABLE ROW LEVEL SECURITY;
      CREATE POLICY IF NOT EXISTS "allow_read_schools" ON ${F.SCHOOLS} FOR SELECT USING (true);
      CREATE POLICY IF NOT EXISTS "allow_insert_schools" ON ${F.SCHOOLS} FOR INSERT WITH CHECK (true);
      CREATE POLICY IF NOT EXISTS "allow_update_schools" ON ${F.SCHOOLS} FOR UPDATE USING (true);
      CREATE POLICY IF NOT EXISTS "allow_delete_schools" ON ${F.SCHOOLS} FOR DELETE USING (true);

      COMMIT;
    `,{error:s}=await kt.rpc("execute_sql",{sql:n});if(s)throw s;const a=`
      BEGIN;
      
      CREATE TABLE IF NOT EXISTS ${F.NOTIFICATIONS} (
        id UUID DEFAULT gen_random_uuid() PRIMARY KEY,
        message TEXT NOT NULL,
        type TEXT NOT NULL CHECK (type IN ('arrival', 'departure', 'general')),
        timestamp TIMESTAMP WITH TIME ZONE DEFAULT TIMEZONE('utc'::text, NOW()) NOT NULL,
        driver_id UUID,
        school_id TEXT,
        read BOOLEAN DEFAULT false
      );

      -- Create indexes
      CREATE INDEX IF NOT EXISTS ${F.NOTIFICATIONS}_timestamp_idx ON ${F.NOTIFICATIONS}(timestamp DESC);
      CREATE INDEX IF NOT EXISTS ${F.NOTIFICATIONS}_school_idx ON ${F.NOTIFICATIONS}(school_id);
      CREATE INDEX IF NOT EXISTS ${F.NOTIFICATIONS}_type_idx ON ${F.NOTIFICATIONS}(type);

      -- Setup RLS
      ALTER TABLE ${F.NOTIFICATIONS} ENABLE ROW LEVEL SECURITY;
      CREATE POLICY IF NOT EXISTS "allow_read_notifications" ON ${F.NOTIFICATIONS} FOR SELECT USING (true);
      CREATE POLICY IF NOT EXISTS "allow_insert_notifications" ON ${F.NOTIFICATIONS} FOR INSERT WITH CHECK (true);
      CREATE POLICY IF NOT EXISTS "allow_update_notifications" ON ${F.NOTIFICATIONS} FOR UPDATE USING (true);

      COMMIT;
    `,{error:r}=await kt.rpc("execute_sql",{sql:a});if(r)throw r;return console.log("Database tables initialized successfully"),!0}catch(e){return console.error("Error initializing database:",e),!1}},M4=async()=>{try{const{data:e,error:t}=await kt.from(F.USERS).select("count").limit(1);return!t}catch(e){return console.error("Connection test failed:",e),!1}},D4=async()=>{try{return await M4()?await R4()?(console.log("Cloud database initialized successfully"),!0):!1:(console.error("Failed to connect to Supabase"),!1)}catch(e){return console.error("Error initializing cloud database:",e),!1}},k4=async()=>{try{const{data:e,error:t}=await kt.from(F.USERS).select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error fetching users from cloud:",e),[]}},U4=async()=>{try{const{data:e,error:t}=await kt.from(F.USERS).select("*").neq("phone","eng7763@gmail.com").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error fetching users for display from cloud:",e),[]}},L4=async e=>{try{const{error:t}=await kt.from(F.USERS).upsert(e,{onConflict:"phone"});if(t)throw t;return console.log("User saved to cloud successfully"),!0}catch(t){return console.error("Error saving user to cloud:",t),!1}},I4=async e=>{try{const{data:t,error:n}=await kt.from(F.USERS).select("*").eq("id",e).single();if(n)throw n;return t}catch(t){return console.error("Error fetching user by ID from cloud:",t),null}},z4=async e=>{try{const{data:t,error:n}=await kt.from(F.USERS).select("*").eq("phone",e).single();if(n)throw n;return t}catch(t){return console.error("Error fetching user by phone from cloud:",t),null}},P4=async()=>{try{const{data:e,error:t}=await kt.from(F.USERS).select("*").eq("type","driver").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error fetching drivers from cloud:",e),[]}},$4=async()=>{try{const{data:e,error:t}=await kt.from(F.SCHOOLS).select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]}catch(e){return console.error("Error fetching schools from cloud:",e),[]}},B4=async e=>{try{let t=kt.from(F.NOTIFICATIONS).select("*").order("timestamp",{ascending:!1});const{data:n,error:s}=await t;if(s)throw s;return n||[]}catch(t){return console.error("Error fetching notifications from cloud:",t),[]}},H4=async e=>{try{const{error:t}=await kt.from(F.NOTIFICATIONS).insert(e);if(t)throw t;console.log("Notification saved to cloud successfully")}catch(t){console.error("Error saving notification to cloud:",t)}};let Lt="local",It=!1;const q4=async()=>{try{return await D4()?(Lt="cloud",It=!0,console.log("Switched to cloud storage mode"),!0):!1}catch(e){return console.error("Failed to initialize cloud storage:",e),!1}},G4=()=>It&&Lt==="cloud",Cg=async()=>Lt==="cloud"&&It?await k4():at(),V4=async()=>Lt==="cloud"&&It?await U4():L1(),Mj=async e=>{if(Lt==="cloud"&&It){const t=await L4(e);return ra(e),t}return ra(e)},Qu=async e=>Lt==="cloud"&&It?await I4(e):P1(e),Y4=async e=>Lt==="cloud"&&It?await z4(e):bh(e),X4=async()=>Lt==="cloud"&&It?await P4():O0(),Ag=async()=>Lt==="cloud"&&It?await $4():va(),Og=async e=>Lt==="cloud"&&It?await B4(e):ci(e),Zu=async e=>{Lt==="cloud"&&It&&await H4(e),Kd(e)},K4=async(e,t)=>{if(Lt==="cloud"&&It){const n=await Y4(e);return n?(n.password=t,await Mj(n)):!1}return $1(e,t)},Wu=()=>({mode:Lt,isCloudInitialized:It,isCloudAvailable:G4()});function Rg({onStatusChange:e}){const[t,n]=m.useState(Wu()),[s,a]=m.useState(!1),[r,i]=m.useState(null);m.useEffect(()=>{const d=setInterval(()=>{const f=Wu();n(f),e==null||e(f.isCloudAvailable)},5e3);return()=>clearInterval(d)},[e]);const o=async()=>{a(!0);try{await q4()&&(n(Wu()),i(new Date),e==null||e(!0))}catch(d){console.error("Failed to connect to cloud storage:",d)}finally{a(!1)}},c=()=>s?l.jsx(yl,{className:"w-4 h-4 animate-spin"}):t.isCloudAvailable?l.jsx(kp,{className:"w-4 h-4 text-green-500"}):l.jsx(c2,{className:"w-4 h-4 text-gray-400"}),u=()=>t.isCloudAvailable?l.jsxs(Dt,{variant:"default",className:"bg-green-500",children:[l.jsx(nt,{className:"w-3 h-3 mr-1"}),"متصل بالسحابة"]}):l.jsxs(Dt,{variant:"outline",className:"border-gray-400 text-gray-600",children:[l.jsx(ia,{className:"w-3 h-3 mr-1"}),"تخزين محلي"]});return l.jsxs($,{className:"mb-6",children:[l.jsxs(ue,{children:[l.jsxs(de,{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[c(),"حالة قاعدة البيانات"]}),u()]}),l.jsx(Xe,{children:t.isCloudAvailable?"النظام متصل بقاعدة البيانات السحابية - يمكن الوصول من أي جهاز":"النظام يستخدم التخزين المحلي - البيانات محفوظة على هذا الجهاز فقط"})]}),l.jsx(B,{children:l.jsxs("div",{className:"space-y-4",children:[!t.isCloudAvailable&&l.jsxs(Ze,{children:[l.jsx($o,{className:"h-4 w-4"}),l.jsx(We,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{children:"للوصول للنظام من أي جهاز، قم بتفعيل قاعدة البيانات السحابية"}),l.jsx(I,{onClick:o,disabled:s,size:"sm",className:"ml-2",children:s?l.jsxs(l.Fragment,{children:[l.jsx(yl,{className:"w-4 h-4 mr-2 animate-spin"}),"جاري الاتصال..."]}):l.jsxs(l.Fragment,{children:[l.jsx(kp,{className:"w-4 h-4 mr-2"}),"تفعيل السحابة"]})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx($o,{className:"w-4 h-4 text-blue-500"}),l.jsxs("span",{children:["نوع التخزين: ",t.mode==="cloud"?"سحابي":"محلي"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[t.isCloudAvailable?l.jsx(g2,{className:"w-4 h-4 text-green-500"}):l.jsx(p2,{className:"w-4 h-4 text-gray-400"}),l.jsxs("span",{children:["الاتصال: ",t.isCloudAvailable?"متصل":"غير متصل"]})]}),r&&l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(yl,{className:"w-4 h-4 text-blue-500"}),l.jsxs("span",{children:["آخر مزامنة: ",r.toLocaleTimeString("ar-SA")]})]})]}),t.isCloudAvailable&&l.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-green-800",children:[l.jsx(nt,{className:"w-4 h-4"}),l.jsx("span",{className:"font-medium",children:"مزايا قاعدة البيانات السحابية مفعلة:"})]}),l.jsxs("ul",{className:"mt-2 text-sm text-green-700 space-y-1",children:[l.jsx("li",{children:"• الوصول من أي جهاز ومن أي مكان"}),l.jsx("li",{children:"• مشاركة البيانات بين جميع المستخدمين"}),l.jsx("li",{children:"• النسخ الاحتياطي التلقائي"}),l.jsx("li",{children:"• التحديثات الفورية عبر جميع الأجهزة"})]})]})]})})]})}function F4({user:e,onLogout:t}){const[n,s]=m.useState("overview"),[a,r]=m.useState([]),[i,o]=m.useState([]),[c,u]=m.useState([]),[d,f]=m.useState([]),[h,p]=m.useState(null),[y,x]=m.useState(!1),[w,b]=m.useState(!1),[v,g]=m.useState(""),[j,N]=m.useState("all"),[S,_]=m.useState(!1),[A,R]=m.useState(!1),[E,z]=m.useState({totalUsers:0,totalDrivers:0,totalStudents:0,totalParents:0,totalAdmins:0,totalSchools:0,activeUsers:0,pendingUsers:0});m.useEffect(()=>{T();const L=setInterval(T,3e4);return()=>clearInterval(L)},[]);const T=async()=>{_(!0);try{const[L,X,je,q,he]=await Promise.all([Cg(),V4(),X4(),Ag(),Og()]);r(X),o(je),u(q),f(he),z({totalUsers:X.length,totalDrivers:X.filter(te=>te.type==="driver").length,totalStudents:X.filter(te=>te.type==="student").length,totalParents:X.filter(te=>te.type==="parent").length,totalAdmins:X.filter(te=>te.type==="admin").length,totalSchools:q.length,activeUsers:X.filter(te=>te.status==="verified").length,pendingUsers:X.filter(te=>te.status==="pending").length})}catch(L){console.error("Error loading data:",L)}finally{_(!1)}},P=async L=>{try{await Mj(L)&&(await T(),p(null),x(!1),await Zu({id:Date.now().toString(),message:`تم تحديث بيانات المستخدم ${L.name} بواسطة مسؤول النظام`,type:"general",timestamp:new Date().toISOString(),schoolId:L.schoolName}))}catch(X){console.error("Error updating user:",X)}},H=async L=>{if(window.confirm("هل أنت متأكد من حذف هذا المستخدم؟"))try{const X=await Qu(L);X&&await Zu({id:Date.now().toString(),message:`تم حذف المستخدم ${X.name} بواسطة مسؤول النظام`,type:"general",timestamp:new Date().toISOString(),schoolId:X.schoolName}),await T()}catch(X){console.error("Error deleting user:",X)}},k=async L=>{try{const X="123456",je=await Qu(L);je&&await K4(je.phone,X)&&(await Zu({id:Date.now().toString(),message:`تم إعادة تعيين كلمة المرور للمستخدم ${je.name} إلى 123456`,type:"general",timestamp:new Date().toISOString(),schoolId:je.schoolName}),alert(`تم إعادة تعيين كلمة المرور للمستخدم ${je.name} إلى: 123456`))}catch(X){console.error("Error resetting password:",X)}},C=async L=>{try{const X=await Qu(L);if(X){const je=X.status==="verified"?"pending":"verified",q={...X,status:je};await P(q)}}catch(X){console.error("Error toggling user status:",X)}},O=async()=>{try{const[L,X,je]=await Promise.all([Cg(),Ag(),Og()]),q={users:L,schools:X,notifications:je,exportDate:new Date().toISOString(),cloudConnected:A},he=new Blob([JSON.stringify(q,null,2)],{type:"application/json"}),te=URL.createObjectURL(he),ce=document.createElement("a");ce.href=te,ce.download=`school_transport_backup_${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(ce),ce.click(),document.body.removeChild(ce),URL.revokeObjectURL(te)}catch(L){console.error("Error exporting data:",L)}},M=()=>{window.confirm("هل أنت متأكد من حذف جميع البيانات؟ هذا الإجراء لا يمكن التراجع عنه!")&&window.confirm("تأكيد نهائي: سيتم حذف جميع المستخدمين والمدارس والإشعارات!")&&(localStorage.clear(),alert("تم حذف جميع البيانات المحلية بنجاح"),T())},U=a.filter(L=>{const X=L.name.toLowerCase().includes(v.toLowerCase())||L.phone.includes(v)||L.email&&L.email.toLowerCase().includes(v.toLowerCase()),je=j==="all"||L.type===j;return X&&je}),V=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsx(Rg,{onStatusChange:R}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx($,{className:"border-blue-200 bg-blue-50",children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(ys,{className:"w-8 h-8 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-blue-900",children:E.totalUsers}),l.jsx("p",{className:"text-blue-700",children:"إجمالي المستخدمين"})]})]})})}),l.jsx($,{className:"border-green-200 bg-green-50",children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(nt,{className:"w-8 h-8 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-green-900",children:E.activeUsers}),l.jsx("p",{className:"text-green-700",children:"المستخدمين المفعلين"})]})]})})}),l.jsx($,{className:"border-orange-200 bg-orange-50",children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(Yt,{className:"w-8 h-8 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-orange-900",children:E.pendingUsers}),l.jsx("p",{className:"text-orange-700",children:"في انتظار التفعيل"})]})]})})}),l.jsx($,{className:"border-purple-200 bg-purple-50",children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(Rs,{className:"w-8 h-8 text-purple-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold text-purple-900",children:E.totalSchools}),l.jsx("p",{className:"text-purple-700",children:"المدارس المسجلة"})]})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(Bl,{className:"w-6 h-6 text-red-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xl font-bold",children:E.totalAdmins}),l.jsx("p",{className:"text-gray-600",children:"المديرين"})]})]})})}),l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(Pe,{className:"w-6 h-6 text-blue-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xl font-bold",children:E.totalDrivers}),l.jsx("p",{className:"text-gray-600",children:"السائقين"})]})]})})}),l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(ft,{className:"w-6 h-6 text-green-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xl font-bold",children:E.totalStudents}),l.jsx("p",{className:"text-gray-600",children:"الطلاب"})]})]})})}),l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center space-x-2 rtl:space-x-reverse",children:[l.jsx(ys,{className:"w-6 h-6 text-orange-500"}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xl font-bold",children:E.totalParents}),l.jsx("p",{className:"text-gray-600",children:"أولياء الأمور"})]})]})})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsx($,{className:"border-red-200 bg-red-50",children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-red-900",children:"إدارة النظام"}),l.jsx("p",{className:"text-red-700",children:"نسخ احتياطي وإعادة تعيين البيانات"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(I,{onClick:O,variant:"outline",className:"border-red-300 text-red-700 hover:bg-red-100",children:[l.jsx(Up,{className:"w-4 h-4 mr-2"}),"تصدير"]}),l.jsxs(I,{onClick:()=>s("system"),className:"bg-red-600 hover:bg-red-700",children:[l.jsx(br,{className:"w-4 h-4 mr-2"}),"إدارة النظام"]})]})]})})}),l.jsx($,{className:"border-blue-200 bg-blue-50",children:l.jsx(B,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h3",{className:"text-lg font-semibold text-blue-900",children:"إدارة المستخدمين"}),l.jsx("p",{className:"text-blue-700",children:"تحكم كامل في جميع الحسابات"})]}),l.jsxs(I,{onClick:()=>s("users"),className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(ys,{className:"w-4 h-4 mr-2"}),"إدارة المستخدمين"]})]})})})]})]}),J=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[l.jsx(Pl,{className:"w-6 h-6 text-yellow-500"}),"إدارة المستخدمين - تحكم كامل"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs(I,{onClick:()=>b(!w),variant:"outline",className:"flex items-center gap-2",children:[w?l.jsx(hy,{className:"w-4 h-4"}):l.jsx(Th,{className:"w-4 h-4"}),w?"إخفاء كلمات المرور":"عرض كلمات المرور"]}),l.jsxs(I,{onClick:T,variant:"outline",disabled:S,children:[l.jsx(yl,{className:`w-4 h-4 mr-2 ${S?"animate-spin":""}`}),"تحديث"]})]})]}),l.jsxs("div",{className:"flex gap-4 items-center",children:[l.jsx("div",{className:"flex-1",children:l.jsx(Q,{placeholder:"البحث بالاسم أو الهاتف أو البريد الإلكتروني...",value:v,onChange:L=>g(L.target.value),className:"w-full"})}),l.jsxs("select",{value:j,onChange:L=>N(L.target.value),className:"px-3 py-2 border rounded-md",children:[l.jsx("option",{value:"all",children:"جميع المستخدمين"}),l.jsx("option",{value:"admin",children:"المديرين"}),l.jsx("option",{value:"driver",children:"السائقين"}),l.jsx("option",{value:"student",children:"الطلاب"}),l.jsx("option",{value:"parent",children:"أولياء الأمور"})]})]}),l.jsx($,{children:l.jsx(B,{className:"p-6",children:l.jsx("div",{className:"space-y-4",children:U.map(L=>l.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg border",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden bg-gray-200 flex items-center justify-center border-2 border-white shadow-sm",children:L.photo?l.jsx("img",{src:L.photo,alt:L.name,className:"w-full h-full object-cover"}):l.jsx(ft,{className:"w-6 h-6 text-gray-400"})}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("p",{className:"font-medium",children:L.name}),l.jsx(Dt,{variant:L.type==="admin"?"destructive":"secondary",children:L.type==="admin"?"مدير":L.type==="driver"?"سائق":L.type==="student"?"طالب":"ولي أمر"}),l.jsx(Dt,{variant:L.status==="verified"?"default":"outline",children:L.status==="verified"?"مفعل":"معلق"})]}),l.jsx("p",{className:"text-sm text-gray-500",children:L.phone}),L.email&&l.jsx("p",{className:"text-sm text-gray-500",children:L.email}),w&&l.jsxs("p",{className:"text-sm text-red-600 font-mono",children:["كلمة المرور: ",L.password]}),l.jsxs("p",{className:"text-xs text-gray-400",children:[L.schoolName," - ",L.city]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(I,{onClick:()=>C(L.id),variant:"outline",size:"sm",className:L.status==="verified"?"text-red-600":"text-green-600",children:L.status==="verified"?l.jsx(m2,{className:"w-4 h-4"}):l.jsx(my,{className:"w-4 h-4"})}),l.jsx(I,{onClick:()=>k(L.id),variant:"outline",size:"sm",className:"text-blue-600",children:l.jsx(Bo,{className:"w-4 h-4"})}),l.jsx(I,{onClick:()=>p(L),variant:"outline",size:"sm",children:l.jsx(Sc,{className:"w-4 h-4"})}),l.jsx(I,{onClick:()=>H(L.id),variant:"outline",size:"sm",className:"text-red-600",children:l.jsx(Go,{className:"w-4 h-4"})})]})]},L.id))})})}),h&&l.jsxs($,{className:"border-blue-200",children:[l.jsx(ue,{children:l.jsxs(de,{children:["تحرير بيانات المستخدم: ",h.name]})}),l.jsxs(B,{children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Z,{children:"الاسم"}),l.jsx(Q,{value:h.name,onChange:L=>p({...h,name:L.target.value})})]}),l.jsxs("div",{children:[l.jsx(Z,{children:"رقم الهاتف"}),l.jsx(Q,{value:h.phone,onChange:L=>p({...h,phone:L.target.value})})]}),l.jsxs("div",{children:[l.jsx(Z,{children:"البريد الإلكتروني"}),l.jsx(Q,{value:h.email||"",onChange:L=>p({...h,email:L.target.value})})]}),l.jsxs("div",{children:[l.jsx(Z,{children:"كلمة المرور"}),l.jsx(Q,{value:h.password,onChange:L=>p({...h,password:L.target.value})})]}),l.jsxs("div",{children:[l.jsx(Z,{children:"المدرسة"}),l.jsx(Q,{value:h.schoolName,onChange:L=>p({...h,schoolName:L.target.value})})]}),l.jsxs("div",{children:[l.jsx(Z,{children:"المدينة"}),l.jsx(Q,{value:h.city,onChange:L=>p({...h,city:L.target.value})})]})]}),l.jsxs("div",{className:"flex gap-2 mt-4",children:[l.jsx(I,{onClick:()=>P(h),children:"حفظ التغييرات"}),l.jsx(I,{variant:"outline",onClick:()=>p(null),children:"إلغاء"})]})]})]})]}),Ue=()=>l.jsxs("div",{className:"space-y-6",children:[l.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[l.jsx($o,{className:"w-6 h-6 text-red-500"}),"إدارة النظام المتقدمة"]}),l.jsx(Rg,{onStatusChange:R}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs($,{className:"border-green-200 bg-green-50",children:[l.jsxs(ue,{children:[l.jsx(de,{className:"text-green-900",children:"النسخ الاحتياطي"}),l.jsx(Xe,{children:"تصدير جميع بيانات النظام"})]}),l.jsx(B,{children:l.jsxs(I,{onClick:O,className:"w-full bg-green-600 hover:bg-green-700",children:[l.jsx(Up,{className:"w-4 h-4 mr-2"}),"تصدير جميع البيانات"]})})]}),l.jsxs($,{className:"border-red-200 bg-red-50",children:[l.jsxs(ue,{children:[l.jsx(de,{className:"text-red-900",children:"حذف البيانات المحلية"}),l.jsx(Xe,{children:"حذف البيانات المحلية فقط (لا يؤثر على السحابة)"})]}),l.jsx(B,{children:l.jsxs(I,{onClick:M,variant:"destructive",className:"w-full",children:[l.jsx(Go,{className:"w-4 h-4 mr-2"}),"حذف البيانات المحلية"]})})]})]}),l.jsxs($,{children:[l.jsx(ue,{children:l.jsx(de,{children:"إحصائيات النظام"})}),l.jsx(B,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:E.totalUsers}),l.jsx("p",{className:"text-sm text-gray-600",children:"إجمالي المستخدمين"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-green-600",children:E.activeUsers}),l.jsx("p",{className:"text-sm text-gray-600",children:"المستخدمين المفعلين"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-orange-600",children:E.pendingUsers}),l.jsx("p",{className:"text-sm text-gray-600",children:"في انتظار التفعيل"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:E.totalSchools}),l.jsx("p",{className:"text-sm text-gray-600",children:"المدارس"})]})]})})]})]}),ot=()=>{switch(n){case"overview":return V();case"users":return J();case"system":return Ue();default:return V()}};return l.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-blue-50",children:[l.jsx("div",{className:"bg-gradient-to-r from-red-600 to-blue-600 shadow-lg",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsxs("div",{className:"flex justify-between items-center h-16",children:[l.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[l.jsx("div",{className:"text-2xl",children:"👑"}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold text-white",children:"لوحة تحكم مسؤول النظام"}),l.jsxs("p",{className:"text-sm text-red-100",children:["صلاحيات كاملة - ",A?"متصل بالسحابة":"تخزين محلي"]})]})]}),l.jsxs("div",{className:"flex items-center space-x-4 rtl:space-x-reverse",children:[l.jsxs(Dt,{variant:"destructive",className:"bg-yellow-500 text-black",children:[l.jsx(Pl,{className:"w-3 h-3 mr-1"}),"مسؤول النظام"]}),l.jsxs("span",{className:"text-sm text-white",children:["مرحباً، ",e.name]}),l.jsxs(I,{variant:"outline",onClick:t,className:"text-white border-white hover:bg-white hover:text-red-600",children:[l.jsx(di,{className:"w-4 h-4"}),"تسجيل الخروج"]})]})]})})}),l.jsx("div",{className:"bg-white border-b shadow-sm",children:l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:l.jsx("nav",{className:"flex space-x-8 rtl:space-x-reverse",children:[{id:"overview",label:"نظرة عامة",icon:br},{id:"users",label:"إدارة المستخدمين",icon:ys},{id:"system",label:"إدارة النظام",icon:$o}].map(L=>{const X=L.icon;return l.jsxs("button",{onClick:()=>s(L.id),className:`flex items-center gap-2 py-4 px-1 border-b-2 font-medium text-sm ${n===L.id?"border-red-500 text-red-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(X,{className:"w-4 h-4"}),L.label]},L.id)})})})}),l.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:ot()})]})}function Q4(){const[e,t]=m.useState("login"),[n,s]=m.useState(null),[a,r]=m.useState("student"),[i,o]=m.useState(!1);m.useEffect(()=>{wh();const x=I1();x&&(s(x),t("dashboard"))},[]);const c=x=>{Au(x),s(x),t("dashboard")},u=x=>{const w={id:"super-admin",name:"مسؤول النظام",phone:"0554038382",email:x.email,password:x.password,type:"admin",schoolName:"إدارة النظام العامة",city:"الرياض",province:"الرياض",status:"verified",createdAt:new Date().toISOString()};s(w),o(!0),t("super-admin-dashboard")},d=()=>{z1(),s(null),o(!1),t("login")},f=x=>{Au(x),s(x)},h=x=>{x==="driver"?t("driver-register"):(r(x),t("register"))},p=x=>{Au(x),s(x),t("dashboard")},y=()=>{switch(e){case"super-admin-login":return l.jsx(hO,{onLogin:u});case"super-admin-dashboard":return n?l.jsx(F4,{user:n,onLogout:d}):null;case"login":return l.jsx(v2,{onLogin:c,onShowRegistration:h,onForgotPassword:()=>t("forgot-password"),onSuperAdminLogin:()=>t("super-admin-login")});case"register":return l.jsx(UC,{userType:a,onRegistrationComplete:p,onBack:()=>t("login")});case"driver-register":return l.jsx(LC,{onSuccess:p,onBack:()=>t("login")});case"forgot-password":return l.jsx(IC,{onBack:()=>t("login"),onSuccess:()=>t("login")});case"dashboard":if(!n)return null;switch(n.type){case"driver":return l.jsx(PC,{user:n,onLogout:d,onUserUpdate:f});case"student":return l.jsx($C,{user:n,onLogout:d,onUserUpdate:f});case"parent":return l.jsx(BC,{user:n,onLogout:d,onUserUpdate:f});case"admin":return l.jsx(fO,{user:n,onLogout:d,onUserUpdate:f});default:return l.jsx("div",{children:"نوع المستخدم غير معروف"})}default:return l.jsx("div",{children:"حالة غير معروفة"})}};return l.jsx("div",{className:"App",dir:"rtl",children:y()})}D1.createRoot(document.getElementById("root")).render(l.jsx(Q4,{}));
